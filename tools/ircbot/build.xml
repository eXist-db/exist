<project basedir="." default="compile" name="XBot">
	<property name="src" value="./src"/>
    <property name="lib" value="./lib"/>
    <property name="classes" value="./classes"/>
	<property name="server.dir" value="../.."/>
	
	<target name="prepare">
    	<echo message="--------------------------------------------------"/>
        <echo message="Compiling XBot IRC Bot"/>
        <echo message="--------------------------------------------------"/>
		<mkdir dir="${classes}"/>
	</target>
	
	<path id="classpath.xbot">
    	<pathelement path="${lib}/pircbot.jar"/>
    	<pathelement path="${server.dir}/lib/core/xmldb.jar"/>
    	<pathelement path="${server.dir}/lib/core/javax.servlet.jar"/>
    	<pathelement path="${server.dir}/exist.jar"/>
    </path>
	
	<!-- =================================================================== -->
    <!-- Compiles the source code                                            -->
    <!-- =================================================================== -->
    <target depends="prepare" name="compile">
        <javac debug="true" deprecation="${build.deprecation}" 
			destdir="${classes}" encoding="UTF-8"
			optimize="${build.optimize}" srcdir="${src}" 
        	source="1.4">
			<!-- jmv target="1.4" -->
            <classpath>
            	<path refid="classpath.xbot"/>
            </classpath>
        </javac>
    </target>
	
	<target name="clean">
		<delete dir="${classes}"/>
	</target>
</project>