 <p:pipeline name="pipeline"
            xmlns:p="http://www.w3.org/ns/xproc">

<!-- should throw an error, no binding to result, as p:compare result output is non-primary //-->

   <p:compare name="step1">
       <p:input port="source">
            <p:inline>
<test>
    <a>test1</a>
    <b/>
    <c>
        I wish I was a fish
          <d/>
    </c>
</test>
            </p:inline>

       </p:input>        
        <p:input port="alternate">
            <p:inline>
<test>
    <a>test1</a>
    <b/>
    <c>
        I wish I was a fish
          <d/>
    </c>
</test>
            </p:inline>
        </p:input>
      <p:with-option name="fail-if-not-equal" select="'false'"/>
   </p:compare>

<p:identity>
    <p:input port="source">
        <p:pipe port="result" step="step1"/>
    </p:input>
</p:identity>

</p:pipeline>
