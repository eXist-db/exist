/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["betterform.ui.select1.Plain"]){dojo._hasResource["betterform.ui.select1.Plain"]=true;dojo.provide("betterform.ui.select1.Plain");dojo.require("betterform.ui.ControlValue");dojo.require("dojox.form.DropDownSelect");dojo.declare("betterform.ui.select1.Plain",betterform.ui.ControlValue,{buildRendering:function $DA4c_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DA4d_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DA4e_(){dojo.connect(this.domNode,"onchange",this,"_onChange");this.setCurrentValue();},_onFocus:function $DA4f_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA4g_(){this.inherited(arguments);this.handleOnBlur();},_onChange:function $DA4h_(){var _1=this.domNode.options[this.domNode.selectedIndex];fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",dojo.attr(_1,"id"));if(this.incremental){this.setControlValue();}},getControlValue:function $DA4i_(){if(this.domNode.selectedIndex==undefined||this.domNode.selectedIndex==-1){return "";}var _2=this.domNode.options[this.domNode.selectedIndex].value;if(_2!=undefined){return _2;}else{return "";}},applyState:function $DA4j_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"disabled","disabled");}else{this.domNode.removeAttribute("disabled");}},_handleSetControlValue:function $DA4k_(_3){for(i=0;i<this.domNode.options.length;i++){if(this.domNode.options[i].value==_3){this.domNode.selectedIndex=i;}}}});}