/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function $DAA_(){var _1=dojo.doc;if(_1.selection){var s=_1.selection;if(s.type=="Text"){return !s.createRange().htmlText.length;}else{return !s.createRange().length;}}else{var _3=dojo.global;var _4=_3.getSelection();if(dojo.isString(_4)){return !_4;}else{return !_4||_4.isCollapsed||!_4.toString();}}},getBookmark:function $DAB_(){var _5,_6=dojo.doc.selection;if(_6){var _7=_6.createRange();if(_6.type.toUpperCase()=="CONTROL"){if(_7.length){_5=[];var i=0,_9=_7.length;while(i<_9){_5.push(_7.item(i++));}}else{_5=null;}}else{_5=_7.getBookmark();}}else{if(window.getSelection){_6=dojo.global.getSelection();if(_6){_7=_6.getRangeAt(0);_5=_7.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _5;},moveToBookmark:function $DAC_(_a){var _b=dojo.doc;if(_b.selection){var _c;if(dojo.isArray(_a)){_c=_b.body.createControlRange();dojo.forEach(_a,function(n){_c.addElement(n);});}else{_c=_b.selection.createRange();_c.moveToBookmark(_a);}_c.select();}else{var _e=dojo.global.getSelection&&dojo.global.getSelection();if(_e&&_e.removeAllRanges){_e.removeAllRanges();_e.addRange(_a);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function $DAD_(_f,_10){return {node:_f&&dojo.isDescendant(dijit._curFocus,_f.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_10||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_10||dojo.global,dijit.getBookmark):null,openedForWindow:_10};},focus:function $DAE_(_11){if(!_11){return;}var _12="node" in _11?_11.node:_11,_13=_11.bookmark,_14=_11.openedForWindow;if(_12){var _15=(_12.tagName.toLowerCase()=="iframe")?_12.contentWindow:_12;if(_15&&_15.focus){try{_15.focus();}catch(e){}}dijit._onFocusNode(_12);}if(_13&&dojo.withGlobal(_14||dojo.global,dijit.isCollapsed)){if(_14){_14.focus();}try{dojo.withGlobal(_14||dojo.global,dijit.moveToBookmark,null,[_13]);}catch(e){}}},_activeStack:[],registerIframe:function $DAF_(_16){dijit.registerWin(_16.contentWindow,_16);},registerWin:function $DAG_(_17,_18){dojo.connect(_17.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(_18||evt.target||evt.srcElement);});var doc=_17.document;if(doc){if(dojo.isIE){doc.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="#document"){dijit._onFocusNode(_18||evt.srcElement);}});doc.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(_18||evt.srcElement);});}else{doc.addEventListener("focus",function(evt){dijit._onFocusNode(_18||evt.target);},true);doc.addEventListener("blur",function(evt){dijit._onBlurNode(_18||evt.target);},true);}}doc=null;},_onBlurNode:function $DAH_(_1f){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function $DAI_(_20){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _21=[];try{while(_20){if(_20.dijitPopupParent){_20=dijit.byId(_20.dijitPopupParent).domNode;}else{if(_20.tagName&&_20.tagName.toLowerCase()=="body"){if(_20===dojo.body()){break;}_20=dijit.getDocumentWindow(_20.ownerDocument).frameElement;}else{var id=_20.getAttribute&&_20.getAttribute("widgetId");if(id){_21.unshift(id);}_20=_20.parentNode;}}}}catch(e){}dijit._setStack(_21);},_onFocusNode:function $DAJ_(_23){if(!_23){return;}if(_23.nodeType==9){return;}dijit._onTouchNode(_23);if(_23==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_23;dojo.publish("focusNode",[_23]);},_setStack:function $DAK_(_24){var _25=dijit._activeStack;dijit._activeStack=_24;for(var _26=0;_26<Math.min(_25.length,_24.length);_26++){if(_25[_26]!=_24[_26]){break;}}for(var i=_25.length-1;i>=_26;i--){var _28=dijit.byId(_25[i]);if(_28){_28._focused=false;_28._hasBeenBlurred=true;if(_28._onBlur){_28._onBlur();}if(_28._setStateClass){_28._setStateClass();}dojo.publish("widgetBlur",[_28]);}}for(i=_26;i<_24.length;i++){_28=dijit.byId(_24[i]);if(_28){_28._focused=true;if(_28._onFocus){_28._onFocus();}if(_28._setStateClass){_28._setStateClass();}dojo.publish("widgetFocus",[_28]);}}}});dojo.addOnLoad(function(){dijit.registerWin(window);});}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function $DAL_(){this._hash={};},add:function $DAM_(_29){if(this._hash[_29.id]){throw new Error("Tried to register widget with id=="+_29.id+" but that id is already registered");}this._hash[_29.id]=_29;},remove:function $DAN_(id){delete this._hash[id];},forEach:function $DAO_(_2b){for(var id in this._hash){_2b(this._hash[id]);}},filter:function $DAP_(_2d){var res=new dijit.WidgetSet();this.forEach(function(_2f){if(_2d(_2f)){res.add(_2f);}});return res;},byId:function $DAQ_(id){return this._hash[id];},byClass:function $DAR_(cls){return this.filter(function(_32){return _32.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function $DAS_(_33){var id;do{id=_33+"_"+(_33 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_33]:dijit._widgetTypeCtr[_33]=0);}while(dijit.byId(id));return id;};dijit.findWidgets=function $DAT_(_35){var _36=[];function _37(_38){var _39=dojo.isIE?_38.children:_38.childNodes,i=0,_3b;while(_3b=_39[i++]){if(_3b.nodeType!=1){continue;}var _3c=_3b.getAttribute("widgetId");if(_3c){var _3d=dijit.byId(_3c);_36.push(_3d);}else{_37(_3b);}}};_37(_35);return _36;};if(dojo.isIE){dojo.addOnWindowUnload(function(){dojo.forEach(dijit.findWidgets(dojo.body()),function(_3e){if(_3e.destroyRecursive){_3e.destroyRecursive();}else{if(_3e.destroy){_3e.destroy();}}});});}dijit.byId=function $DAU_(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function $DAV_(_40){return dijit.registry.byId(_40.getAttribute("widgetId"));};dijit.getEnclosingWidget=function $DAW_(_41){while(_41){if(_41.getAttribute&&_41.getAttribute("widgetId")){return dijit.registry.byId(_41.getAttribute("widgetId"));}_41=_41.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function $DAX_(_42){var _43=dojo.style(_42);return (_43.visibility!="hidden")&&(_43.visibility!="collapsed")&&(_43.display!="none")&&(dojo.attr(_42,"type")!="hidden");};dijit.isTabNavigable=function $DAY_(_44){if(dojo.hasAttr(_44,"disabled")){return false;}var _45=dojo.hasAttr(_44,"tabindex");var _46=dojo.attr(_44,"tabindex");if(_45&&_46>=0){return true;}var _47=_44.nodeName.toLowerCase();if(((_47=="a"&&dojo.hasAttr(_44,"href"))||dijit._tabElements[_47])&&(!_45||_46>=0)){return true;}return false;};dijit._getTabNavigable=function $DAZ_(_48){var _49,_4a,_4b,_4c,_4d,_4e;var _4f=function(_50){dojo.query("> *",_50).forEach(function(_51){var _52=dijit._isElementShown(_51);if(_52&&dijit.isTabNavigable(_51)){var _53=dojo.attr(_51,"tabindex");if(!dojo.hasAttr(_51,"tabindex")||_53==0){if(!_49){_49=_51;}_4a=_51;}else{if(_53>0){if(!_4b||_53<_4c){_4c=_53;_4b=_51;}if(!_4d||_53>=_4e){_4e=_53;_4d=_51;}}}}if(_52&&_51.nodeName.toUpperCase()!="SELECT"){_4f(_51);}});};if(dijit._isElementShown(_48)){_4f(_48);}return {first:_49,last:_4a,lowest:_4b,highest:_4d};};dijit.getFirstInTabbingOrder=function $DAa_(_54){var _55=dijit._getTabNavigable(dojo.byId(_54));return _55.lowest?_55.lowest:_55.first;};dijit.getLastInTabbingOrder=function $DAb_(_56){var _57=dijit._getTabNavigable(dojo.byId(_56));return _57.last?_57.last:_57.highest;};dijit.defaultDuration=dojo.config["defaultDuration"]||200;}if(!dojo._hasResource["dojo.AdapterRegistry"]){dojo._hasResource["dojo.AdapterRegistry"]=true;dojo.provide("dojo.AdapterRegistry");dojo.AdapterRegistry=function $DBDM_(_58){this.pairs=[];this.returnWrappers=_58||false;};dojo.extend(dojo.AdapterRegistry,{register:function $DBDJ_(_59,_5a,_5b,_5c,_5d){this.pairs[((_5d)?"unshift":"push")]([_59,_5a,_5b,_5c]);},match:function $DBDK_(){for(var i=0;i<this.pairs.length;i++){var _5f=this.pairs[i];if(_5f[1].apply(this,arguments)){if((_5f[3])||(this.returnWrappers)){return _5f[2];}else{return _5f[2].apply(this,arguments);}}}throw new Error("No match found");},unregister:function $DBDL_(_60){for(var i=0;i<this.pairs.length;i++){var _62=this.pairs[i];if(_62[0]==_60){this.pairs.splice(i,1);return true;}}return false;}});}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function $DAc_(){var _63=(dojo.doc.compatMode=="BackCompat")?dojo.body():dojo.doc.documentElement;var _64=dojo._docScroll();return {w:_63.clientWidth,h:_63.clientHeight,l:_64.x,t:_64.y};};dijit.placeOnScreen=function $DAe_(_65,pos,_67,_68){var _69=dojo.map(_67,function(_6a){var c={corner:_6a,pos:{x:pos.x,y:pos.y}};if(_68){c.pos.x+=_6a.charAt(1)=="L"?_68.x:-_68.x;c.pos.y+=_6a.charAt(0)=="T"?_68.y:-_68.y;}return c;});return dijit._place(_65,_69);};dijit._place=function $DAf_(_6c,_6d,_6e){var _6f=dijit.getViewport();if(!_6c.parentNode||String(_6c.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_6c);}var _70=null;dojo.some(_6d,function(_71){var _72=_71.corner;var pos=_71.pos;if(_6e){_6e(_6c,_71.aroundCorner,_72);}var _74=_6c.style;var _75=_74.display;var _76=_74.visibility;_74.visibility="hidden";_74.display="";var mb=dojo.marginBox(_6c);_74.display=_75;_74.visibility=_76;var _78=(_72.charAt(1)=="L"?pos.x:Math.max(_6f.l,pos.x-mb.w)),_79=(_72.charAt(0)=="T"?pos.y:Math.max(_6f.t,pos.y-mb.h)),_7a=(_72.charAt(1)=="L"?Math.min(_6f.l+_6f.w,_78+mb.w):pos.x),_7b=(_72.charAt(0)=="T"?Math.min(_6f.t+_6f.h,_79+mb.h):pos.y),_7c=_7a-_78,_7d=_7b-_79,_7e=(mb.w-_7c)+(mb.h-_7d);if(_70==null||_7e<_70.overflow){_70={corner:_72,aroundCorner:_71.aroundCorner,x:_78,y:_79,w:_7c,h:_7d,overflow:_7e};}return !_7e;});_6c.style.left=_70.x+"px";_6c.style.top=_70.y+"px";if(_70.overflow&&_6e){_6e(_6c,_70.aroundCorner,_70.corner);}return _70;};dijit.placeOnScreenAroundNode=function $DAg_(_7f,_80,_81,_82){_80=dojo.byId(_80);var _83=_80.style.display;_80.style.display="";var _84=_80.offsetWidth;var _85=_80.offsetHeight;var _86=dojo.coords(_80,true);_80.style.display=_83;return dijit._placeOnScreenAroundRect(_7f,_86.x,_86.y,_84,_85,_81,_82);};dijit.placeOnScreenAroundRectangle=function $DAi_(_87,_88,_89,_8a){return dijit._placeOnScreenAroundRect(_87,_88.x,_88.y,_88.width,_88.height,_89,_8a);};dijit._placeOnScreenAroundRect=function $DAj_(_8b,x,y,_8e,_8f,_90,_91){var _92=[];for(var _93 in _90){_92.push({aroundCorner:_93,corner:_90[_93],pos:{x:x+(_93.charAt(1)=="L"?0:_8e),y:y+(_93.charAt(0)=="T"?0:_8f)}});}return dijit._place(_8b,_92,_91);};dijit.placementRegistry=new dojo.AdapterRegistry();dijit.placementRegistry.register("node",function(n,x){return typeof x=="object"&&typeof x.offsetWidth!="undefined"&&typeof x.offsetHeight!="undefined";},dijit.placeOnScreenAroundNode);dijit.placementRegistry.register("rect",function(n,x){return typeof x=="object"&&"x" in x&&"y" in x&&"width" in x&&"height" in x;},dijit.placeOnScreenAroundRectangle);dijit.placeOnScreenAroundElement=function $DAk_(_98,_99,_9a,_9b){return dijit.placementRegistry.match.apply(dijit.placementRegistry,arguments);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function $DA9_(doc){if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _9e=[],_9f=1000,_a0=1;this.prepare=function $DAm_(_a1){var s=_a1.style;s.visibility="hidden";s.position="absolute";s.top="-9999px";if(s.display=="none"){s.display="";}dojo.body().appendChild(_a1);};this.open=function $DAn_(_a3){var _a4=_a3.popup,_a5=_a3.orient||{"BL":"TL","TL":"BL"},_a6=_a3.around,id=(_a3.around&&_a3.around.id)?(_a3.around.id+"_dropdown"):("popup_"+_a0++);var _a8=dojo.create("div",{id:id,"class":"dijitPopup",style:{zIndex:_9f+_9e.length,visibility:"hidden"}},dojo.body());dijit.setWaiRole(_a8,"presentation");_a8.style.left=_a8.style.top="0px";if(_a3.parent){_a8.dijitPopupParent=_a3.parent.id;}var s=_a4.domNode.style;s.display="";s.visibility="";s.position="";s.top="0px";_a8.appendChild(_a4.domNode);var _aa=new dijit.BackgroundIframe(_a8);var _ab=_a6?dijit.placeOnScreenAroundElement(_a8,_a6,_a5,_a4.orient?dojo.hitch(_a4,"orient"):null):dijit.placeOnScreen(_a8,_a3,_a5=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],_a3.padding);_a8.style.visibility="visible";var _ac=[];var _ad=function(){for(var pi=_9e.length-1;pi>0&&_9e[pi].parent===_9e[pi-1].widget;pi--){}return _9e[pi];};_ac.push(dojo.connect(_a8,"onkeypress",this,function(evt){if(evt.charOrCode==dojo.keys.ESCAPE&&_a3.onCancel){dojo.stopEvent(evt);_a3.onCancel();}else{if(evt.charOrCode===dojo.keys.TAB){dojo.stopEvent(evt);var _b0=_ad();if(_b0&&_b0.onCancel){_b0.onCancel();}}}}));if(_a4.onCancel){_ac.push(dojo.connect(_a4,"onCancel",null,_a3.onCancel));}_ac.push(dojo.connect(_a4,_a4.onExecute?"onExecute":"onChange",null,function(){var _b1=_ad();if(_b1&&_b1.onExecute){_b1.onExecute();}}));_9e.push({wrapper:_a8,iframe:_aa,widget:_a4,parent:_a3.parent,onExecute:_a3.onExecute,onCancel:_a3.onCancel,onClose:_a3.onClose,handlers:_ac});if(_a4.onOpen){_a4.onOpen(_ab);}return _ab;};this.close=function $DAo_(_b2){while(dojo.some(_9e,function(_b3){return _b3.widget==_b2;})){var top=_9e.pop(),_b5=top.wrapper,_b6=top.iframe,_b7=top.widget,_b8=top.onClose;if(_b7.onClose){_b7.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_b7||!_b7.domNode){return;}this.prepare(_b7.domNode);_b6.destroy();dojo.destroy(_b5);if(_b8){_b8();}}};}();dijit._frames=new function(){var _b9=[];this.pop=function $DAp_(){var _ba;if(_b9.length){_ba=_b9.pop();_ba.style.display="";}else{if(dojo.isIE){var _bb=dojo.config["dojoBlankHtmlUrl"]||(dojo.moduleUrl("dojo","resources/blank.html")+"")||"javascript:\"\"";var _bc="<iframe src='"+_bb+"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_ba=dojo.doc.createElement(_bc);}else{_ba=dojo.create("iframe");_ba.src="javascript:\"\"";_ba.className="dijitBackgroundIframe";}_ba.tabIndex=-1;dojo.body().appendChild(_ba);}return _ba;};this.push=function $DAq_(_bd){_bd.style.display="none";if(dojo.isIE){_bd.style.removeExpression("width");_bd.style.removeExpression("height");}_b9.push(_bd);};}();dijit.BackgroundIframe=function $DAs_(_be){if(!_be.id){throw new Error("no id");}if(dojo.isIE<7||(dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _bf=dijit._frames.pop();_be.appendChild(_bf);if(dojo.isIE){_bf.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+_be.id+"').offsetWidth");_bf.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+_be.id+"').offsetHeight");}this.iframe=_bf;}};dojo.extend(dijit.BackgroundIframe,{destroy:function $DAl_(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function $DAt_(_c0){try{_c0=dojo.byId(_c0);var doc=dojo.doc;var _c2=dojo.body();var _c3=_c2.parentNode;if((!(dojo.isFF>=3||dojo.isIE||dojo.isWebKit)||_c0==_c2||_c0==_c3)&&(typeof _c0.scrollIntoView=="function")){_c0.scrollIntoView(false);return;}var ltr=dojo._isBodyLtr();var _c5=dojo.isIE>=8&&!_c6;var rtl=!ltr&&!_c5;var _c8=_c2;var _c6=doc.compatMode=="BackCompat";if(_c6){_c3._offsetWidth=_c3._clientWidth=_c2._offsetWidth=_c2.clientWidth;_c3._offsetHeight=_c3._clientHeight=_c2._offsetHeight=_c2.clientHeight;}else{if(dojo.isWebKit){_c2._offsetWidth=_c2._clientWidth=_c3.clientWidth;_c2._offsetHeight=_c2._clientHeight=_c3.clientHeight;}else{_c8=_c3;}_c3._offsetHeight=_c3.clientHeight;_c3._offsetWidth=_c3.clientWidth;}function _c9(_ca){var ie=dojo.isIE;return ((ie<=6||(ie>=7&&_c6))?false:(dojo.style(_ca,"position").toLowerCase()=="fixed"));};function _cc(_cd){var _ce=_cd.parentNode;var _cf=_cd.offsetParent;if(_cf==null||_c9(_cd)){_cf=_c3;_ce=(_cd==_c2)?_c3:null;}_cd._offsetParent=_cf;_cd._parent=_ce;var bp=dojo._getBorderExtents(_cd);_cd._borderStart={H:(_c5&&!ltr)?(bp.w-bp.l):bp.l,V:bp.t};_cd._borderSize={H:bp.w,V:bp.h};_cd._scrolledAmount={H:_cd.scrollLeft,V:_cd.scrollTop};_cd._offsetSize={H:_cd._offsetWidth||_cd.offsetWidth,V:_cd._offsetHeight||_cd.offsetHeight};_cd._offsetStart={H:(_c5&&!ltr)?_cf.clientWidth-_cd.offsetLeft-_cd._offsetSize.H:_cd.offsetLeft,V:_cd.offsetTop};_cd._clientSize={H:_cd._clientWidth||_cd.clientWidth,V:_cd._clientHeight||_cd.clientHeight};if(_cd!=_c2&&_cd!=_c3&&_cd!=_c0){for(var dir in _cd._offsetSize){var _d2=_cd._offsetSize[dir]-_cd._clientSize[dir]-_cd._borderSize[dir];var _d3=_cd._clientSize[dir]>0&&_d2>0;if(_d3){_cd._offsetSize[dir]-=_d2;if(dojo.isIE&&rtl&&dir=="H"){_cd._offsetStart[dir]+=_d2;}}}}};var _d4=_c0;while(_d4!=null){if(_c9(_d4)){_c0.scrollIntoView(false);return;}_cc(_d4);_d4=_d4._parent;}if(dojo.isIE&&_c0._parent){var _d5=_c0._offsetParent;_c0._offsetStart.H+=_d5._borderStart.H;_c0._offsetStart.V+=_d5._borderStart.V;}if(dojo.isIE>=7&&_c8==_c3&&rtl&&_c2._offsetStart&&_c2._offsetStart.H==0){var _d6=_c3.scrollWidth-_c3._offsetSize.H;if(_d6>0){_c2._offsetStart.H=-_d6;}}if(dojo.isIE<=6&&!_c6){_c3._offsetSize.H+=_c3._borderSize.H;_c3._offsetSize.V+=_c3._borderSize.V;}if(rtl&&_c2._offsetStart&&_c8==_c3&&_c3._scrolledAmount){var ofs=_c2._offsetStart.H;if(ofs<0){_c3._scrolledAmount.H+=ofs;_c2._offsetStart.H=0;}}_d4=_c0;while(_d4){var _d8=_d4._parent;if(!_d8){break;}if(_d8.tagName=="TD"){var _d9=_d8._parent._parent._parent;if(_d8!=_d4._offsetParent&&_d8._offsetParent!=_d4._offsetParent){_d8=_d9;}}var _da=_d4._offsetParent==_d8;for(var dir in _d4._offsetStart){var _dc=dir=="H"?"V":"H";if(rtl&&dir=="H"&&(_d8!=_c3)&&(_d8!=_c2)&&(dojo.isIE||dojo.isWebKit)&&_d8._clientSize.H>0&&_d8.scrollWidth>_d8._clientSize.H){var _dd=_d8.scrollWidth-_d8._clientSize.H;if(_dd>0){_d8._scrolledAmount.H-=_dd;}}if(_d8._offsetParent.tagName=="TABLE"){if(dojo.isIE){_d8._offsetStart[dir]-=_d8._offsetParent._borderStart[dir];_d8._borderStart[dir]=_d8._borderSize[dir]=0;}else{_d8._offsetStart[dir]+=_d8._offsetParent._borderStart[dir];}}if(dojo.isIE){_d8._offsetStart[dir]+=_d8._offsetParent._borderStart[dir];}var _de=_d4._offsetStart[dir]-_d8._scrolledAmount[dir]-(_da?0:_d8._offsetStart[dir])-_d8._borderStart[dir];var _df=_de+_d4._offsetSize[dir]-_d8._offsetSize[dir]+_d8._borderSize[dir];var _e0=(dir=="H")?"scrollLeft":"scrollTop";var _e1=dir=="H"&&rtl;var _e2=_e1?-_df:_de;var _e3=_e1?-_de:_df;var _e4=(_e2*_e3<=0)?0:Math[(_e2<0)?"max":"min"](_e2,_e3);if(_e4!=0){var _e5=_d8[_e0];_d8[_e0]+=(_e1)?-_e4:_e4;var _e6=_d8[_e0]-_e5;}if(_da){_d4._offsetStart[dir]+=_d8._offsetStart[dir];}_d4._offsetStart[dir]-=_d8[_e0];}_d4._parent=_d8._parent;_d4._offsetParent=_d8._offsetParent;}_d8=_c0;var _e7;while(_d8&&_d8.removeAttribute){_e7=_d8.parentNode;_d8.removeAttribute("_offsetParent");_d8.removeAttribute("_parent");_d8=_e7;}}catch(error){console.error("scrollIntoView: "+error);_c0.scrollIntoView(false);}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo,_e9=d.doc.documentElement,ie=d.isIE,_eb=d.isOpera,maj=Math.floor,ff=d.isFF,_ee=d.boxModel.replace(/-/,""),_ef={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_eb,dj_opera8:maj(_eb)==8,dj_opera9:maj(_eb)==9,dj_khtml:d.isKhtml,dj_webkit:d.isWebKit,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2,dj_ff3:maj(ff)==3};_ef["dj_"+_ee]=true;for(var p in _ef){if(_ef[p]){if(_e9.className){_e9.className+=" "+p;}else{_e9.className=p;}}}dojo._loaders.unshift(function(){if(!dojo._isBodyLtr()){_e9.className+=" dijitRtl";for(var p in _ef){if(_ef[p]){_e9.className+=" "+p+"-rtl";}}}});})();}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function $DAu_(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function $DAv_(evt,_f3,_f4,_f5,obj,_f7,_f8){if(obj!=this._obj){this.stop();this._initialDelay=_f8||500;this._subsequentDelay=_f7||0.9;this._obj=obj;this._evt=evt;this._node=_f4;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_f3,_f5);this._fireEventAndReload();}},stop:function $DAw_(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function $DAx_(_f9,_fa,_fb,_fc,_fd,_fe){if(_fa.keyCode){_fa.charOrCode=_fa.keyCode;dojo.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_fa.charCode){_fa.charOrCode=String.fromCharCode(_fa.charCode);dojo.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}return [dojo.connect(_f9,"onkeypress",this,function(evt){if(evt.charOrCode==_fa.charOrCode&&(_fa.ctrlKey===undefined||_fa.ctrlKey==evt.ctrlKey)&&(_fa.altKey===undefined||_fa.altKey==evt.ctrlKey)&&(_fa.shiftKey===undefined||_fa.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_fa,_fb,_f9,_fc,_fa,_fd,_fe);}else{if(dijit.typematic._obj==_fa){dijit.typematic.stop();}}}),dojo.connect(_f9,"onkeyup",this,function(evt){if(dijit.typematic._obj==_fa){dijit.typematic.stop();}})];},addMouseListener:function $DAy_(node,_102,_103,_104,_105){var dc=dojo.connect;return [dc(node,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_102,node,_103,node,_104,_105);}),dc(node,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(node,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(node,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_102,node,_103,node,_104,_105);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function $DAz_(_10c,_10d,_10e,_10f,_110,_111,_112){return this.addKeyListener(_10d,_10e,_10f,_110,_111,_112).concat(this.addMouseListener(_10c,_10f,_110,_111,_112));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function $DA0_(){var div=dojo.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif"))+"\");"}},dojo.body());var cs=dojo.getComputedStyle(div);if(cs){var _115=cs.backgroundImage;var _116=(cs.borderTopColor==cs.borderRightColor)||(_115!=null&&(_115=="none"||_115=="url(invalid-url:)"));dojo[_116?"addClass":"removeClass"](dojo.body(),"dijit_a11y");if(dojo.isIE){div.outerHTML="";}else{dojo.body().removeChild(div);}}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{_XhtmlRoles:/banner|contentinfo|definition|main|navigation|search|note|secondary|seealso/,hasWaiRole:function $DA1_(elem,role){var _119=this.getWaiRole(elem);return role?(_119.indexOf(role)>-1):(_119.length>0);},getWaiRole:function $DA2_(elem){return dojo.trim((dojo.attr(elem,"role")||"").replace(this._XhtmlRoles,"").replace("wairole:",""));},setWaiRole:function $DA3_(elem,role){var _11d=dojo.attr(elem,"role")||"";if(dojo.isFF<3||!this._XhtmlRoles.test(_11d)){dojo.attr(elem,"role",dojo.isFF<3?"wairole:"+role:role);}else{if((" "+_11d+" ").indexOf(" "+role+" ")<0){var _11e=dojo.trim(_11d.replace(this._XhtmlRoles,""));var _11f=dojo.trim(_11d.replace(_11e,""));dojo.attr(elem,"role",_11f+(_11f?" ":"")+role);}}},removeWaiRole:function $DA4_(elem,role){var _122=dojo.attr(elem,"role");if(!_122){return;}if(role){var _123=dojo.isFF<3?"wairole:"+role:role;var t=dojo.trim((" "+_122+" ").replace(" "+_123+" "," "));dojo.attr(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function $DA5_(elem,_126){if(dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_126);}return elem.hasAttribute?elem.hasAttribute("aria-"+_126):!!elem.getAttribute("aria-"+_126);},getWaiState:function $DA6_(elem,_128){if(dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_128);}return elem.getAttribute("aria-"+_128)||"";},setWaiState:function $DA7_(elem,_12a,_12b){if(dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_12a,_12b);}else{elem.setAttribute("aria-"+_12a,_12b);}},removeWaiState:function $DA8_(elem,_12d){if(dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_12d);}else{elem.removeAttribute("aria-"+_12d);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.connect(dojo,"connect",function(_12e,_12f){if(_12e&&dojo.isFunction(_12e._onConnect)){_12e._onConnect(_12f);}});dijit._connectOnUseEventHandler=function $DGJ_(_130){};(function(){var _131={};var _132=function(dc){if(!_131[dc]){var r=[];var _135;var _136=dojo.getObject(dc).prototype;for(var _137 in _136){if(dojo.isFunction(_136[_137])&&(_135=_137.match(/^_set([a-zA-Z]*)Attr$/))&&_135[1]){r.push(_135[1].charAt(0).toLowerCase()+_135[1].substr(1));}}_131[dc]=r;}return _131[dc]||[];};dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},_deferredConnects:{onClick:"",onDblClick:"",onKeyDown:"",onKeyPress:"",onKeyUp:"",onMouseMove:"",onMouseDown:"",onMouseOut:"",onMouseOver:"",onMouseLeave:"",onMouseEnter:"",onMouseUp:""},onClick:dijit._connectOnUseEventHandler,onDblClick:dijit._connectOnUseEventHandler,onKeyDown:dijit._connectOnUseEventHandler,onKeyPress:dijit._connectOnUseEventHandler,onKeyUp:dijit._connectOnUseEventHandler,onMouseDown:dijit._connectOnUseEventHandler,onMouseMove:dijit._connectOnUseEventHandler,onMouseOut:dijit._connectOnUseEventHandler,onMouseOver:dijit._connectOnUseEventHandler,onMouseLeave:dijit._connectOnUseEventHandler,onMouseEnter:dijit._connectOnUseEventHandler,onMouseUp:dijit._connectOnUseEventHandler,_blankGif:(dojo.config.blankGif||dojo.moduleUrl("dojo","resources/blank.gif")),postscript:function $DFo_(_138,_139){this.create(_138,_139);},create:function $DFp_(_13a,_13b){this.srcNodeRef=dojo.byId(_13b);this._connects=[];this._deferredConnects=dojo.clone(this._deferredConnects);for(var attr in this.attributeMap){delete this._deferredConnects[attr];}for(attr in this._deferredConnects){if(this[attr]!==dijit._connectOnUseEventHandler){delete this._deferredConnects[attr];}}if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_13a){this.params=_13a;dojo.mixin(this,_13a);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _13d=this.srcNodeRef;if(_13d&&_13d.parentNode){_13d.parentNode.replaceChild(this.domNode,_13d);}for(attr in this.params){this._onConnect(attr);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function $DFq_(){var _13e=function(attr,_140){if((_140.params&&attr in _140.params)||_140[attr]){_140.attr(attr,_140[attr]);}};for(var attr in this.attributeMap){_13e(attr,this);}dojo.forEach(_132(this.declaredClass),function(a){if(!(a in this.attributeMap)){_13e(a,this);}},this);},postMixInProperties:function $DFr_(){},buildRendering:function $DFs_(){this.domNode=this.srcNodeRef||dojo.create("div");},postCreate:function $DFt_(){},startup:function $DFu_(){this._started=true;},destroyRecursive:function $DFv_(_143){this.destroyDescendants(_143);this.destroy(_143);},destroy:function $DFw_(_144){this.uninitialize();dojo.forEach(this._connects,function(_145){dojo.forEach(_145,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){if(w.destroy){w.destroy();}});this.destroyRendering(_144);dijit.registry.remove(this.id);},destroyRendering:function $DFx_(_147){if(this.bgIframe){this.bgIframe.destroy(_147);delete this.bgIframe;}if(this.domNode){if(_147){dojo.removeAttr(this.domNode,"widgetId");}else{dojo.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_147){dojo.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function $DFy_(_148){dojo.forEach(this.getChildren(),function(_149){if(_149.destroyRecursive){_149.destroyRecursive(_148);}});},uninitialize:function $DFz_(){return false;},onFocus:function $DF0_(){},onBlur:function $DF1_(){},_onFocus:function $DF2_(e){this.onFocus();},_onBlur:function $DF3_(){this.onBlur();},_onConnect:function $DF4_(_14b){if(_14b in this._deferredConnects){var _14c=this[this._deferredConnects[_14b]||"domNode"];this.connect(_14c,_14b.toLowerCase(),_14b);delete this._deferredConnects[_14b];}},_setClassAttr:function $DF5_(_14d){var _14e=this[this.attributeMap["class"]||"domNode"];dojo.removeClass(_14e,this["class"]);this["class"]=_14d;dojo.addClass(_14e,_14d);},_setStyleAttr:function $DF6_(_14f){var _150=this[this.attributeMap["style"]||"domNode"];if(dojo.isObject(_14f)){dojo.style(_150,_14f);}else{if(_150.style.cssText){_150.style.cssText+="; "+_14f;}else{_150.style.cssText=_14f;}}this["style"]=_14f;},setAttribute:function $DF7_(attr,_152){dojo.deprecated(this.declaredClass+"::setAttribute() is deprecated. Use attr() instead.","","2.0");this.attr(attr,_152);},_attrToDom:function $DF8_(attr,_154){var _155=this.attributeMap[attr];dojo.forEach(dojo.isArray(_155)?_155:[_155],function(_156){var _157=this[_156.node||_156||"domNode"];var type=_156.type||"attribute";switch(type){case "attribute":if(dojo.isFunction(_154)){_154=dojo.hitch(this,_154);}if(/^on[A-Z][a-zA-Z]*$/.test(attr)){attr=attr.toLowerCase();}dojo.attr(_157,attr,_154);break;case "innerHTML":_157.innerHTML=_154;break;case "class":dojo.removeClass(_157,this[attr]);dojo.addClass(_157,_154);break;}},this);this[attr]=_154;},attr:function $DF9_(name,_15a){var args=arguments.length;if(args==1&&!dojo.isString(name)){for(var x in name){this.attr(x,name[x]);}return this;}var _15d=this._getAttrNames(name);if(args==2){if(this[_15d.s]){return this[_15d.s](_15a)||this;}else{if(name in this.attributeMap){this._attrToDom(name,_15a);}this[name]=_15a;}return this;}else{if(this[_15d.g]){return this[_15d.g]();}else{return this[name];}}},_attrPairNames:{},_getAttrNames:function $DGA_(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"};},toString:function $DGB_(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function $DGC_(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},getChildren:function $DGD_(){if(this.containerNode){return dijit.findWidgets(this.containerNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function $DGE_(obj,_163,_164){var d=dojo;var dc=dojo.connect;var _167=[];if(_163=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){var m=d.hitch(this,_164);_167.push(dc(obj,"onkeydown",this,function(e){if(!d.isFF&&e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}else{if(e.keyCode==d.keys.SPACE){d.stopEvent(e);}}}),dc(obj,"onkeyup",this,function(e){if(e.keyCode==d.keys.SPACE&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));if(d.isFF){_167.push(dc(obj,"onkeypress",this,function(e){if(e.keyCode==d.keys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey){return m(e);}}));}}_163="onclick";}_167.push(dc(obj,_163,this,_164));this._connects.push(_167);return _167;},disconnect:function $DGF_(_16c){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_16c){dojo.forEach(_16c,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function $DGG_(){return dojo._isBodyLtr();},isFocusable:function $DGH_(){return this.focus&&(dojo.style(this.domNode,"display")!="none");},placeAt:function $DGI_(_16e,_16f){if(_16e["declaredClass"]&&_16e["addChild"]){_16e.addChild(this,_16f);}else{dojo.place(this.domNode,_16e,_16f);}return this;}});})();}if(!dojo._hasResource["betterform.XFormsProcessor"]){dojo._hasResource["betterform.XFormsProcessor"]=true;dojo.provide("betterform.XFormsProcessor");dojo.declare("betterform.XFormsProcessor",dijit._Widget,{sessionKey:"",constructor:function $DA6h_(){},init:function $DA6i_(){},keepAlive:function $DA6j_(){},closeSession:function $DA6k_(){},ignoreExceptions:function $DA6l_(msg){},dispatchEvent:function $DA6m_(_171){},setControlValue:function $DA6n_(id,_173){},setRange:function $DA6o_(id,_175){},setRepeatIndex:function $DA6p_(_176){},_useLoadingMessage:function $DA6q_(){},_handleExceptions:function $DA6r_(msg){console.error(msg);}});}if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");(function(){var _178={_fire:function $DBIM_(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _17b=function(_17c){this._index=-1;this._animations=_17c||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;dojo.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};dojo.extend(_17b,{_onAnimate:function $DBIN_(){this._fire("onAnimate",arguments);},_onEnd:function $DBIO_(){dojo.disconnect(this._onAnimateCtx);dojo.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function $DBIP_(_17e,_17f){if(!this._current){this._current=this._animations[this._index=0];}if(!_17f&&this._current.status()=="playing"){return this;}var _180=dojo.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_181=dojo.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_183=dojo.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);dojo.disconnect(_180);dojo.disconnect(_181);dojo.disconnect(_183);});if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function $DBIQ_(){if(this._current){var e=dojo.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);dojo.disconnect(e);});this._current.pause();}return this;},gotoPercent:function $DBIR_(_187,_188){this.pause();var _189=this.duration*_187;this._current=null;dojo.some(this._animations,function(a){if(a.duration<=_189){this._current=a;return true;}_189-=a.duration;return false;});if(this._current){this._current.gotoPercent(_189/this._current.duration,_188);}return this;},stop:function $DBIS_(_18b){if(this._current){if(_18b){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=dojo.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);dojo.disconnect(e);});this._current.stop();}return this;},status:function $DBIT_(){return this._current?this._current.status():"stopped";},destroy:function $DBIU_(){if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}}});dojo.extend(_17b,_178);dojo.fx.chain=function $DBIj_(_18e){return new _17b(_18e);};var _18f=function(_190){this._animations=_190||[];this._connects=[];this._finished=0;this.duration=0;dojo.forEach(_190,function(a){var _192=a.duration;if(a.delay){_192+=a.delay;}if(this.duration<_192){this.duration=_192;}this._connects.push(dojo.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new dojo._Animation({curve:[0,1],duration:this.duration});dojo.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){var self=this;this._connects.push(dojo.connect(this._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));},this);};dojo.extend(_18f,{_doAction:function $DBIV_(_195,args){dojo.forEach(this._animations,function(a){a[_195].apply(a,args);});return this;},_onEnd:function $DBIW_(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function $DBIX_(_198,args){var t=this._pseudoAnimation;t[_198].apply(t,args);},play:function $DBIY_(_19b,_19c){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function $DBIZ_(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function $DBIa_(_19d,_19e){var ms=this.duration*_19d;dojo.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_19e);});this._call("gotoPercent",arguments);return this;},stop:function $DBIb_(_1a1){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function $DBIc_(){return this._pseudoAnimation.status();},destroy:function $DBId_(){dojo.forEach(this._connects,dojo.disconnect);}});dojo.extend(_18f,_178);dojo.fx.combine=function $DBIk_(_1a2){return new _18f(_1a2);};})();dojo.declare("dojo.fx.Toggler",null,{constructor:function $DBIe_(args){var _t=this;dojo.mixin(_t,args);_t.node=args.node;_t._showArgs=dojo.mixin({},args);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},args);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function $DBIf_(_1a5){return this.showAnim.play(_1a5||0);},hide:function $DBIg_(_1a6){return this.hideAnim.play(_1a6||0);}});dojo.fx.wipeIn=function $DBIl_(args){args.node=dojo.byId(args.node);var node=args.node,s=node.style,o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{start:function $DBIh_(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _1ac=dojo.style(node,"height");return Math.max(_1ac,1);}},end:function $DBIi_(){return node.scrollHeight;}}}},args));dojo.connect(anim,"onEnd",function(){s.height="auto";s.overflow=o;});return anim;};dojo.fx.wipeOut=function $DBIm_(args){var node=args.node=dojo.byId(args.node);var s=node.style;var o;var anim=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},args));dojo.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});dojo.connect(anim,"onEnd",function(){s.overflow=o;s.height="auto";s.display="none";});return anim;};dojo.fx.slideTo=function $DBIn_(args){var node=(args.node=dojo.byId(args.node));var top=null;var left=null;var init=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=dojo.animateProperty(dojo.mixin({properties:{top:{end:args.top||0},left:{end:args.left||0}}},args));dojo.connect(anim,"beforeBegin",anim,init);return anim;};}if(!dojo._hasResource["dojo.NodeList-fx"]){dojo._hasResource["dojo.NodeList-fx"]=true;dojo.provide("dojo.NodeList-fx");dojo.extend(dojo.NodeList,{_anim:function $DBJW_(obj,_1bd,args){args=args||{};return dojo.fx.combine(this.map(function(item){var _1c0={node:item};dojo.mixin(_1c0,args);return obj[_1bd](_1c0);}));},wipeIn:function $DBJX_(args){return this._anim(dojo.fx,"wipeIn",args);},wipeOut:function $DBJY_(args){return this._anim(dojo.fx,"wipeOut",args);},slideTo:function $DBJZ_(args){return this._anim(dojo.fx,"slideTo",args);},fadeIn:function $DBJa_(args){return this._anim(dojo,"fadeIn",args);},fadeOut:function $DBJb_(args){return this._anim(dojo,"fadeOut",args);},animateProperty:function $DBJc_(args){return this._anim(dojo,"animateProperty",args);},anim:function $DBJd_(_1c7,_1c8,_1c9,_1ca,_1cb){var _1cc=dojo.fx.combine(this.map(function(item){return dojo.animateProperty({node:item,properties:_1c7,duration:_1c8||350,easing:_1c9});}));if(_1ca){dojo.connect(_1cc,"onEnd",_1ca);}return _1cc.play(_1cb||0);}});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.rep=function $DBKU_(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};dojo.string.pad=function $DBKV_(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=dojo.string.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};dojo.string.substitute=function $DBKW_(_1d7,map,_1d9,_1da){_1da=_1da||dojo.global;_1d9=(!_1d9)?function(v){return v;}:dojo.hitch(_1da,_1d9);return _1d7.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_1dc,key,_1de){var _1df=dojo.getObject(key,false,map);if(_1de){_1df=dojo.getObject(_1de,false,_1da).call(_1da,_1df,key);}return _1d9(_1df,key).toString();});};dojo.string.trim=String.prototype.trim?dojo.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function $DBFJ_(_1e2,_1e3){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _1e4=dojo.date.stamp._isoRegExp.exec(_1e2);var _1e5=null;if(_1e4){_1e4.shift();if(_1e4[1]){_1e4[1]--;}if(_1e4[6]){_1e4[6]*=1000;}if(_1e3){_1e3=new Date(_1e3);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _1e3["get"+prop]();}).forEach(function(_1e7,_1e8){if(_1e4[_1e8]===undefined){_1e4[_1e8]=_1e7;}});}_1e5=new Date(_1e4[0]||1970,_1e4[1]||0,_1e4[2]||1,_1e4[3]||0,_1e4[4]||0,_1e4[5]||0,_1e4[6]||0);var _1e9=0;var _1ea=_1e4[7]&&_1e4[7].charAt(0);if(_1ea!="Z"){_1e9=((_1e4[8]||0)*60)+(Number(_1e4[9])||0);if(_1ea!="-"){_1e9*=-1;}}if(_1ea){_1e9-=_1e5.getTimezoneOffset();}if(_1e9){_1e5.setTime(_1e5.getTime()+_1e9*60000);}}return _1e5;};dojo.date.stamp.toISOString=function $DBFL_(_1eb,_1ec){var _=function(n){return (n<10)?"0"+n:n;};_1ec=_1ec||{};var _1ef=[];var _1f0=_1ec.zulu?"getUTC":"get";var date="";if(_1ec.selector!="time"){var year=_1eb[_1f0+"FullYear"]();date=["0000".substr((year+"").length)+year,_(_1eb[_1f0+"Month"]()+1),_(_1eb[_1f0+"Date"]())].join("-");}_1ef.push(date);if(_1ec.selector!="date"){var time=[_(_1eb[_1f0+"Hours"]()),_(_1eb[_1f0+"Minutes"]()),_(_1eb[_1f0+"Seconds"]())].join(":");var _1f4=_1eb[_1f0+"Milliseconds"]();if(_1ec.milliseconds){time+="."+(_1f4<100?"0":"")+_(_1f4);}if(_1ec.zulu){time+="Z";}else{if(_1ec.selector!="time"){var _1f5=_1eb.getTimezoneOffset();var _1f6=Math.abs(_1f5);time+=(_1f5>0?"-":"+")+_(Math.floor(_1f6/60))+":"+_(_1f6%60);}}_1ef.push(time);}return _1ef.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _1f8=d._scopeName+"Type";var qry="["+_1f8+"]";var _1fa=0,_1fb={};var _1fc=function(_1fd,_1fe){var nso=_1fe||_1fb;if(dojo.isIE){var cn=_1fd["__dojoNameCache"];if(cn&&nso[cn]===_1fd){return cn;}}var name;do{name="__"+_1fa++;}while(name in nso);nso[name]=_1fd;return name;};function _202(_203){if(d.isString(_203)){return "string";}if(typeof _203=="number"){return "number";}if(typeof _203=="boolean"){return "boolean";}if(d.isFunction(_203)){return "function";}if(d.isArray(_203)){return "array";}if(_203 instanceof Date){return "date";}if(_203 instanceof d._Url){return "url";}return "object";};function _204(_205,type){switch(type){case "string":return _205;case "number":return _205.length?Number(_205):NaN;case "boolean":return typeof _205=="boolean"?_205:!(_205.toLowerCase()=="false");case "function":if(d.isFunction(_205)){_205=_205.toString();_205=d.trim(_205.substring(_205.indexOf("{")+1,_205.length-1));}try{if(_205.search(/[^\w\.]+/i)!=-1){_205=_1fc(new Function(_205),this);}return d.getObject(_205,false);}catch(e){return new Function();}case "array":return _205?_205.split(/\s*,\s*/):[];case "date":switch(_205){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_205);}case "url":return d.baseUrl+_205;default:return d.fromJson(_205);}};var _207={};function _208(_209){if(!_207[_209]){var cls=d.getObject(_209);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_209+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _20b=cls.prototype;var _20c={},_20d={};for(var name in _20b){if(name.charAt(0)=="_"){continue;}if(name in _20d){continue;}var _20f=_20b[name];_20c[name]=_202(_20f);}_207[_209]={cls:cls,params:_20c};}return _207[_209];};this._functionFromScript=function $DBJ4_(_210){var _211="";var _212="";var _213=_210.getAttribute("args");if(_213){d.forEach(_213.split(/\s*,\s*/),function(part,idx){_211+="var "+part+" = arguments["+idx+"]; ";});}var _216=_210.getAttribute("with");if(_216&&_216.length){d.forEach(_216.split(/\s*,\s*/),function(part){_211+="with("+part+"){";_212+="}";});}return new Function(_211+_210.innerHTML+_212);};this.instantiate=function $DBJ5_(_218,_219){var _21a=[];_219=_219||{};d.forEach(_218,function(node){if(!node){return;}var type=_1f8 in _219?_219[_1f8]:node.getAttribute(_1f8);if(!type||!type.length){return;}var _21d=_208(type),_21e=_21d.cls,ps=_21e._noScript||_21e.prototype._noScript;var _220={},_221=node.attributes;for(var name in _21d.params){var item=name in _219?{value:_219[name],specified:true}:_221.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _224=item.value;switch(name){case "class":_224="className" in _219?_219.className:node.className;break;case "style":_224="style" in _219?_219.style:(node.style&&node.style.cssText);}var _225=_21d.params[name];if(typeof _224=="string"){_220[name]=_204(_224,_225);}else{_220[name]=_224;}}if(!ps){var _226=[],_227=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_228){var _229=_228.getAttribute("event"),type=_228.getAttribute("type"),nf=d.parser._functionFromScript(_228);if(_229){if(type=="dojo/connect"){_226.push({event:_229,func:nf});}else{_220[_229]=nf;}}else{_227.push(nf);}});}var _22b=_21e["markupFactory"];if(!_22b&&_21e["prototype"]){_22b=_21e.prototype["markupFactory"];}var _22c=_22b?_22b(_220,node,_21e):new _21e(_220,node);_21a.push(_22c);var _22d=node.getAttribute("jsId");if(_22d){d.setObject(_22d,_22c);}if(!ps){d.forEach(_226,function(_22e){d.connect(_22c,_22e.event,null,_22e.func);});d.forEach(_227,function(func){func.call(_22c);});}});d.forEach(_21a,function(_230){if(_230&&_230.startup&&!_230._started&&(!_230.getParent||!_230.getParent())){_230.startup();}});return _21a;};this.parse=function $DBJ6_(_231){var list=d.query(qry,_231);var _233=this.instantiate(list);return _233;};}();(function(){var _234=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_234);}else{dojo._loaders.unshift(_234);}})();}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateString:null,templatePath:null,widgetsInTemplate:false,_skipNodeCache:false,_stringRepl:function $DEW_(tmpl){var _236=this.declaredClass,_237=this;return dojo.string.substitute(tmpl,this,function(_238,key){if(key.charAt(0)=="!"){_238=dojo.getObject(key.substr(1),false,_237);}if(typeof _238=="undefined"){throw new Error(_236+" template:"+key);}if(_238==null){return "";}return key.charAt(0)=="!"?_238:_238.toString().replace(/"/g,"&quot;");},this);},buildRendering:function $DEX_(){var _23a=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_23a)){node=dojo._toDom(this._stringRepl(_23a));}else{node=_23a.cloneNode(true);}this.domNode=node;this._attachTemplateNodes(node);if(this.widgetsInTemplate){var cw=(this._supportingWidgets=dojo.parser.parse(node));this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(this.srcNodeRef);},_fillContent:function $DEY_(_23f){var dest=this.containerNode;if(_23f&&dest){while(_23f.hasChildNodes()){dest.appendChild(_23f.firstChild);}}},_attachTemplateNodes:function $DEZ_(_241,_242){_242=_242||function(n,p){return n.getAttribute(p);};var _245=dojo.isArray(_241)?_241:(_241.all||_241.getElementsByTagName("*"));var x=dojo.isArray(_241)?0:-1;for(;x<_245.length;x++){var _247=(x==-1)?_241:_245[x];if(this.widgetsInTemplate&&_242(_247,"dojoType")){continue;}var _248=_242(_247,"dojoAttachPoint");if(_248){var _249,_24a=_248.split(/\s*,\s*/);while((_249=_24a.shift())){if(dojo.isArray(this[_249])){this[_249].push(_247);}else{this[_249]=_247;}}}var _24b=_242(_247,"dojoAttachEvent");if(_24b){var _24c,_24d=_24b.split(/\s*,\s*/);var trim=dojo.trim;while((_24c=_24d.shift())){if(_24c){var _24f=null;if(_24c.indexOf(":")!=-1){var _250=_24c.split(":");_24c=trim(_250[0]);_24f=trim(_250[1]);}else{_24c=trim(_24c);}if(!_24f){_24f=_24c;}this.connect(_247,_24c,_24f);}}}var role=_242(_247,"waiRole");if(role){dijit.setWaiRole(_247,role);}var _252=_242(_247,"waiState");if(_252){dojo.forEach(_252.split(/\s*,\s*/),function(_253){if(_253.indexOf("-")!=-1){var pair=_253.split("-");dijit.setWaiState(_247,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function $DEa_(_255,_256,_257){var _258=dijit._Templated._templateCache;var key=_256||_255;var _25a=_258[key];if(_25a){if(!_25a.ownerDocument||_25a.ownerDocument==dojo.doc){return _25a;}dojo.destroy(_25a);}if(!_256){_256=dijit._Templated._sanitizeTemplateString(dojo.trim(dojo._getText(_255)));}_256=dojo.string.trim(_256);if(_257||_256.match(/\$\{([^\}]+)\}/g)){return (_258[key]=_256);}else{return (_258[key]=dojo._toDom(_256));}};dijit._Templated._sanitizeTemplateString=function $DEb_(_25b){if(_25b){_25b=_25b.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _25c=_25b.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_25c){_25b=_25c[1];}}else{_25b="";}return _25b;};if(dojo.isIE){dojo.addOnWindowUnload(function(){var _25d=dijit._Templated._templateCache;for(var key in _25d){var _25f=_25d[key];if(!isNaN(_25f.nodeType)){dojo.destroy(_25f);}delete _25d[key];}});}dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["betterform.ui.ControlValue"]){dojo._hasResource["betterform.ui.ControlValue"]=true;dojo.provide("betterform.ui.ControlValue");dojo.declare("betterform.ui.ControlValue",[dijit._Widget,dijit._Templated],{id:null,name:"",xfControl:null,incremental:false,currentValue:"",focused:false,applyProperties:function $DA2P_(_260,node){this.xfControl=_260;if(dojo.attr(node,"incremental")!=undefined&&dojo.attr(node,"incremental")!=""){this.incremental=eval(dojo.attr(node,"incremental"));}else{this.incremental=false;}if(dojo.attr(node,"tabIndex")){this.tabIndex=eval(dojo.attr(node,"tabindex"));}},setCurrentValue:function $DA2Q_(_262){if(_262!=undefined){this.currentValue=_262;}else{this.currentValue=this.getControlValue();}},_handleDOMFocusIn:function $DA2R_(){this.focused=true;this.domNode.focus();},handleOnFocus:function $DA2S_(){fluxProcessor.currentControlId=this.xfControl.id;if(!this.focused){fluxProcessor.dispatchEventType(this.xfControl.id,"DOMFocusIn");}this.focused=true;if(this.xfControl.isValid()){dojo.publish("/xf/valid",[this.xfControl.id,"onFocus"]);}else{dojo.publish("/xf/invalid",[this.xfControl.id,"onFocus"]);}},handleOnBlur:function $DA2T_(){this.focused=false;if(this.xfControl.isValid()){dojo.publish("/xf/valid",[this.xfControl.id,"onBlur"]);}else{dojo.publish("/xf/invalid",[this.xfControl.id,"onBlur"]);}if(!this.incremental){this.setControlValue();}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMFocusOut");},applyState:function $DA2U_(){if(this.xfControl.isReadonly()){this.attr("disabled",true);this.attr("readonly",true);}else{this.attr("disabled",false);this.attr("readonly",false);}},setControlValue:function $DA2V_(_263){if(_263!=undefined&&this.currentValue!=_263){this.currentValue=_263;this._handleSetControlValue(_263);}var _264=this.getControlValue();if(this.currentValue!=_264){this.xfControl.setControlValue(_264);this.currentValue=_264;}},_setLabel:function $DA2W_(_265){var _266=dojo.byId(this.xfControl.id+"-label");if(_266!=undefined&&_265!=undefined){_266.innerHTML=_265;}},_handleSetControlValue:function $DA2X_(_267){console.error("betterform.ui.ControlValue: abstract methods _handleSetControlValue() must be implemented by extending class ",this);},getControlValue:function $DA2Y_(){console.error("betterform.ui.ControlValue: abstract methods getControlValue() must be implemented by extending class ",this);}});}if(!dojo._hasResource["betterform.ui.timeline.TimeLine"]){dojo._hasResource["betterform.ui.timeline.TimeLine"]=true;dojo.provide("betterform.ui.timeline.TimeLine");dojo.declare("betterform.ui.timeline.TimeLine",betterform.ui.ControlValue,{timeLine:null,t1:null,resizeTimerID:null,templateString:"<div dojoAttachEvent=\"onresize:_onResize\" dojoAttachPoint=\"timelineNode\" style=\"height: 150px;\" class=\"xfTimeLine\"></div>\n\n",instanceId:null,modelId:null,adjustTimestamp:false,buildRendering:function $DA5Z_(){this.inherited(arguments);this.instanceId=dojo.attr(this.srcNodeRef,"instanceId");this.modelId=dojo.attr(this.srcNodeRef,"modelId");},postMixInProperties:function $DA5a_(){this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA5b_(){this.inherited(arguments);this._createInitialTimeline();},_createInitialTimeline:function $DA5c_(){dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._updateTimeLine));},adjustTimelineToDate:function $DA5d_(_268){var _269=null;if(_268!=undefined){_269=Timeline.DateTime.parseIso8601DateTime(_268);}this._adjustAndCreateTimeline(_269);},_updateTimeLine:function $DA5e_(data){this.eventSource=new Timeline.DefaultEventSource();var _26b=dojo.query("data event",data);event=_26b[_26b.length-1];var _26c;if(event==undefined){var _26d=dojo.query("*[value]",data)[0];_26c=dojo.attr(_26d,"value");}else{_26c=dojo.attr(event,"start");}this.date=_26c;this._adjustAndCreateTimeline(this.date);this.eventSource.loadXML(data,"");},_adjustAndCreateTimeline:function $DA5f_(_26e){this.timeZone=0;var _26f={overview:false,intervalUnit:Timeline.DateTime.DAY,eventSource:this.eventSource,date:_26e,width:"50%",showEventText:true,intervalPixels:200,timeZone:this.timeZone};var _270={overview:true,intervalUnit:Timeline.DateTime.MONTH,eventSource:this.eventSource,date:_26e,width:"25%",showEventText:true,intervalPixels:100,timeZone:this.timeZone};var _271={overview:true,intervalUnit:Timeline.DateTime.YEAR,eventSource:this.eventSource,date:_26e,width:"25%",showEventText:true,intervalPixels:50,timeZone:this.timeZone};var _272=[Timeline.createBandInfo(_26f),Timeline.createBandInfo(_270),Timeline.createBandInfo(_271)];_272[1].syncWith=0;_272[1].highlight=true;_272[2].syncWith=1;_272[2].highlight=true;var _273;if(dijit.byId("timestampDijit-value")!=undefined){_273=Timeline.DateTime.parseIso8601DateTime(dijit.byId("timestampDijit-value").getControlValue());}else{console.warn("No Timestamp Found, adjusted timestamp to date  "+_26e);_273=_26e;}if(_273==undefined){_273=this.date;}for(var i=0;i<_272.length;i++){_272[i].decorators=[new Timeline.PointHighlightDecorator({date:_273,color:"#FFC080",opacity:50,cssClass:"p-highlight1"})];}this.timeLine=Timeline.create(this.timelineNode,_272);},getControlValue:function $DA5g_(){return this.date;},_handleSetControlValue:function $DA5h_(_275){dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._updateTimeLine));},_onResize:function $DA5i_(){if(this.resizeTimerID==null){this.resizeTimerID=window.setTimeout(function(){this.resizeTimerID=null;this.timeLine.layout();},500);}}});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Container",null,{isContainer:true,buildRendering:function $DBU_(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function $DBV_(_276,_277){var _278=this.containerNode;if(_277&&typeof _277=="number"){var _279=this.getChildren();if(_279&&_279.length>=_277){_278=_279[_277-1].domNode;_277="after";}}dojo.place(_276.domNode,_278,_277);if(this._started&&!_276._started){_276.startup();}},removeChild:function $DBW_(_27a){if(typeof _27a=="number"&&_27a>0){_27a=this.getChildren()[_27a];}if(!_27a||!_27a.domNode){return;}var node=_27a.domNode;node.parentNode.removeChild(node);},_nextElement:function $DBX_(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function $DBY_(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function $DBZ_(){return dojo.query("> [widgetId]",this.containerNode).map(dijit.byNode);},hasChildren:function $DBa_(){return !!this._firstElement(this.containerNode);},destroyDescendants:function $DBb_(_27e){dojo.forEach(this.getChildren(),function(_27f){_27f.destroyRecursive(_27e);});},_getSiblingOfChild:function $DBc_(_280,dir){var node=_280.domNode;var _283=(dir>0?"nextSibling":"previousSibling");do{node=node[_283];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;},getIndexOfChild:function $DBd_(_284){var _285=this.getChildren();for(var i=0,c;c=_285[i];i++){if(c==_284){return i;}}return -1;}});}if(!dojo._hasResource["dijit._Contained"]){dojo._hasResource["dijit._Contained"]=true;dojo.provide("dijit._Contained");dojo.declare("dijit._Contained",null,{getParent:function $DBP_(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _28a=dijit.byId(id);return _28a.isContainer?_28a:null;}}return null;},_getSibling:function $DBQ_(_28b){var node=this.domNode;do{node=node[_28b+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function $DBR_(){return this._getSibling("previous");},getNextSibling:function $DBS_(){return this._getSibling("next");},getIndexInParent:function $DBT_(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function $DBJ7_(str,_290){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_290&&_290.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function $DBJ8_(arr,re,_294){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_294);};dojo.regexp.group=function $DBJ9_(_297,_298){return "("+(_298?"?:":"")+_297+")";};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function $DBDc_(name,_29a,_29b){var c=document.cookie;if(arguments.length==1){var _29d=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _29d?decodeURIComponent(_29d[1]):undefined;}else{_29b=_29b||{};var exp=_29b.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_29b.expires=d;}if(exp&&exp.toUTCString){_29b.expires=exp.toUTCString();}_29a=encodeURIComponent(_29a);var _2a0=name+"="+_29a,_2a1;for(_2a1 in _29b){_2a0+="; "+_2a1;var _2a2=_29b[_2a1];if(_2a2!==true){_2a0+="="+_2a2;}}document.cookie=_2a0;}};dojo.cookie.isSupported=function $DBDd_(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.tree.TreeStoreModel"]){dojo._hasResource["dijit.tree.TreeStoreModel"]=true;dojo.provide("dijit.tree.TreeStoreModel");dojo.declare("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],labelAttr:"",root:null,query:null,constructor:function $DRT_(args){dojo.mixin(this,args);this.connects=[];var _2a4=this.store;if(!_2a4.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_2a4.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([dojo.connect(_2a4,"onNew",this,"_onNewItem"),dojo.connect(_2a4,"onDelete",this,"_onDeleteItem"),dojo.connect(_2a4,"onSet",this,"_onSetItem")]);}},destroy:function $DRU_(){dojo.forEach(this.connects,dojo.disconnect);},getRoot:function $DRV_(_2a5,_2a6){if(this.root){_2a5(this.root);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_2a7){if(_2a7.length!=1){throw new Error(this.declaredClass+": query "+dojo.toJson(this.query)+" returned "+_2a7.length+" items, but must return exactly one item");}this.root=_2a7[0];_2a5(this.root);}),onError:_2a6});}},mayHaveChildren:function $DRW_(item){return dojo.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function $DRX_(_2aa,_2ab,_2ac){var _2ad=this.store;var _2ae=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_2ad.getValues(_2aa,this.childrenAttrs[i]);_2ae=_2ae.concat(vals);}var _2b1=0;dojo.forEach(_2ae,function(item){if(!_2ad.isItemLoaded(item)){_2b1++;}});if(_2b1==0){_2ab(_2ae);}else{var _2b3=function _2b3(item){if(--_2b1==0){_2ab(_2ae);}};dojo.forEach(_2ae,function(item){if(!_2ad.isItemLoaded(item)){_2ad.loadItem({item:item,onItem:_2b3,onError:_2ac});}});}},getIdentity:function $DRY_(item){return this.store.getIdentity(item);},getLabel:function $DRZ_(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function $DRa_(args,_2b9){var _2ba={parent:_2b9,attribute:this.childrenAttrs[0]};return this.store.newItem(args,_2ba);},pasteItem:function $DRb_(_2bb,_2bc,_2bd,_2be,_2bf){var _2c0=this.store,_2c1=this.childrenAttrs[0];if(_2bc){dojo.forEach(this.childrenAttrs,function(attr){if(_2c0.containsValue(_2bc,attr,_2bb)){if(!_2be){var _2c3=dojo.filter(_2c0.getValues(_2bc,attr),function(x){return x!=_2bb;});_2c0.setValues(_2bc,attr,_2c3);}_2c1=attr;}});}if(_2bd){if(typeof _2bf=="number"){var _2c5=_2c0.getValues(_2bd,_2c1);_2c5.splice(_2bf,0,_2bb);_2c0.setValues(_2bd,_2c1,_2c5);}else{_2c0.setValues(_2bd,_2c1,_2c0.getValues(_2bd,_2c1).concat(_2bb));}}},onChange:function $DRc_(item){},onChildrenChange:function $DRd_(_2c7,_2c8){},onDelete:function $DRe_(_2c9,_2ca){},_onNewItem:function $DRf_(item,_2cc){if(!_2cc){return;}this.getChildren(_2cc.item,dojo.hitch(this,function(_2cd){this.onChildrenChange(_2cc.item,_2cd);}));},_onDeleteItem:function $DRg_(item){this.onDelete(item);},_onSetItem:function $DRh_(item,_2d0,_2d1,_2d2){if(dojo.indexOf(this.childrenAttrs,_2d0)!=-1){this.getChildren(item,dojo.hitch(this,function(_2d3){this.onChildrenChange(item,_2d3);}));}else{this.onChange(item);}}});}if(!dojo._hasResource["dijit.tree.ForestStoreModel"]){dojo._hasResource["dijit.tree.ForestStoreModel"]=true;dojo.provide("dijit.tree.ForestStoreModel");dojo.declare("dijit.tree.ForestStoreModel",dijit.tree.TreeStoreModel,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function $DQ6_(_2d4){this.root={store:this,root:true,id:_2d4.rootId,label:_2d4.rootLabel,children:_2d4.rootChildren};},mayHaveChildren:function $DQ7_(item){return item===this.root||this.inherited(arguments);},getChildren:function $DQ8_(_2d6,_2d7,_2d8){if(_2d6===this.root){if(this.root.children){_2d7(this.root.children);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_2d9){this.root.children=_2d9;_2d7(_2d9);}),onError:_2d8});}}else{this.inherited(arguments);}},getIdentity:function $DQ9_(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function $DRA_(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function $DRB_(args,_2dd){if(_2dd===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function $DRC_(args){},pasteItem:function $DRD_(_2df,_2e0,_2e1,_2e2,_2e3){if(_2e0===this.root){if(!_2e2){this.onLeaveRoot(_2df);}}dijit.tree.TreeStoreModel.prototype.pasteItem.call(this,_2df,_2e0===this.root?null:_2e0,_2e1===this.root?null:_2e1,_2e2,_2e3);if(_2e1===this.root){this.onAddToRoot(_2df);}},onAddToRoot:function $DRE_(item){},onLeaveRoot:function $DRF_(item){},_requeryTop:function $DRG_(){var _2e6=this.root.children||[];this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_2e7){this.root.children=_2e7;if(_2e6.length!=_2e7.length||dojo.some(_2e6,function(item,idx){return _2e7[idx]!=item;})){this.onChildrenChange(this.root,_2e7);}})});},_onNewItem:function $DRH_(item,_2eb){this._requeryTop();this.inherited(arguments);},_onDeleteItem:function $DRI_(item){if(dojo.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.Tree"]){dojo._hasResource["dijit.Tree"]=true;dojo.provide("dijit.Tree");dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained],{item:null,isTreeNode:true,label:"",isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:"<div class=\"dijitTreeNode\" waiRole=\"presentation\"\n\t><div dojoAttachPoint=\"rowNode\" class=\"dijitTreeRow\" waiRole=\"presentation\" dojoAttachEvent=\"onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave\"\n\t\t><img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" waiRole=\"presentation\"\n\t\t><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" waiRole=\"presentation\"\n\t\t></span\n\t\t><span dojoAttachPoint=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" waiRole=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint=\"iconNode\" class=\"dijitTreeIcon\" waiRole=\"presentation\"\n\t\t\t><span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" wairole=\"treeitem\" tabindex=\"-1\" waiState=\"selected-false\" dojoAttachEvent=\"onfocus:_onLabelFocus, onblur:_onLabelBlur\"></span>\n\t\t</span\n\t></div>\n\t<div dojoAttachPoint=\"containerNode\" class=\"dijitTreeContainer\" waiRole=\"presentation\" style=\"display: none;\"></div>\n</div>\n",postCreate:function $DRi_(){this.setLabelNode(this.label);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){dijit.setWaiState(this.labelNode,"expanded",this.isExpanded);if(this==this.tree.rootNode){dijit.setWaitState(this.tree.domNode,"expanded",this.isExpanded);}}},_setIndentAttr:function $DRj_(_2ed){this.indent=_2ed;var _2ee=(Math.max(_2ed,0)*19)+"px";dojo.style(this.domNode,"backgroundPosition",_2ee+" 0px");dojo.style(this.rowNode,dojo._isBodyLtr()?"paddingLeft":"paddingRight",_2ee);dojo.forEach(this.getChildren(),function(_2ef){_2ef.attr("indent",_2ed+1);});},markProcessing:function $DRk_(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function $DRl_(){this._setExpando(false);},_updateItemClasses:function $DRm_(item){var tree=this.tree,_2f2=tree.model;if(tree._v10Compat&&item===_2f2.root){item=null;}if(this._iconClass){dojo.removeClass(this.iconNode,this._iconClass);}this._iconClass=tree.getIconClass(item,this.isExpanded);if(this._iconClass){dojo.addClass(this.iconNode,this._iconClass);}dojo.style(this.iconNode,tree.getIconStyle(item,this.isExpanded)||{});if(this._labelClass){dojo.removeClass(this.labelNode,this._labelClass);}this._labelClass=tree.getLabelClass(item,this.isExpanded);if(this._labelClass){dojo.addClass(this.labelNode,this._labelClass);}dojo.style(this.labelNode,tree.getLabelStyle(item,this.isExpanded)||{});},_updateLayout:function $DRn_(){var _2f3=this.getParent();if(!_2f3||_2f3.rowNode.style.display=="none"){dojo.addClass(this.domNode,"dijitTreeIsRoot");}else{dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function $DRo_(_2f4){var _2f5=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];var _2f6=["*","-","+","*"];var idx=_2f4?0:(this.isExpandable?(this.isExpanded?1:2):3);dojo.forEach(_2f5,function(s){dojo.removeClass(this.expandoNode,s);},this);dojo.addClass(this.expandoNode,_2f5[idx]);this.expandoNodeText.innerHTML=_2f6[idx];},expand:function $DRp_(){if(this.isExpanded){return;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;dijit.setWaiState(this.labelNode,"expanded","true");dijit.setWaiRole(this.containerNode,"group");dojo.addClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","true");}if(!this._wipeIn){this._wipeIn=dojo.fx.wipeIn({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeIn.play();},collapse:function $DRq_(){if(!this.isExpanded){return;}this._wipeIn&&this._wipeIn.stop();this.isExpanded=false;dijit.setWaiState(this.labelNode,"expanded","false");if(this==this.tree.rootNode){dijit.setWaiState(this.tree.domNode,"expanded","false");}dojo.removeClass(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:dijit.defaultDuration});}this._wipeOut.play();},setLabelNode:function $DRr_(_2f9){this.labelNode.innerHTML="";this.labelNode.appendChild(dojo.doc.createTextNode(_2f9));},indent:0,setChildItems:function $DRs_(_2fa){var tree=this.tree,_2fc=tree.model;this.getChildren().forEach(function(_2fd){dijit._Container.prototype.removeChild.call(this,_2fd);},this);this.state="LOADED";if(_2fa&&_2fa.length>0){this.isExpandable=true;dojo.forEach(_2fa,function(item){var id=_2fc.getIdentity(item),_300=tree._itemNodeMap[id],node=(_300&&!_300.getParent())?_300:this.tree._createTreeNode({item:item,tree:tree,isExpandable:_2fc.mayHaveChildren(item),label:tree.getLabel(item),indent:this.indent+1});if(_300){_300.attr("indent",this.indent+1);}this.addChild(node);tree._itemNodeMap[id]=node;if(this.tree._state(item)){tree._expandNode(node);}},this);dojo.forEach(this.getChildren(),function(_302,idx){_302._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setSelected(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}},removeChild:function $DRt_(node){this.inherited(arguments);var _306=this.getChildren();if(_306.length==0){this.isExpandable=false;this.collapse();}dojo.forEach(_306,function(_307){_307._updateLayout();});},makeExpandable:function $DRu_(){this.isExpandable=true;this._setExpando(false);},_onLabelFocus:function $DRv_(evt){dojo.addClass(this.labelNode,"dijitTreeLabelFocused");this.tree._onNodeFocus(this);},_onLabelBlur:function $DRw_(evt){dojo.removeClass(this.labelNode,"dijitTreeLabelFocused");},setSelected:function $DRx_(_30a){var _30b=this.labelNode;_30b.setAttribute("tabIndex",_30a?"0":"-1");dijit.setWaiState(_30b,"selected",_30a);dojo.toggleClass(this.rowNode,"dijitTreeNodeSelected",_30a);},_onMouseEnter:function $DRy_(evt){dojo.addClass(this.rowNode,"dijitTreeNodeHover");this.tree._onNodeMouseEnter(this,evt);},_onMouseLeave:function $DRz_(evt){dojo.removeClass(this.rowNode,"dijitTreeNodeHover");this.tree._onNodeMouseLeave(this,evt);}});dojo.declare("dijit.Tree",[dijit._Widget,dijit._Templated],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],openOnClick:false,openOnDblClick:false,templateString:"<div class=\"dijitTreeContainer\" waiRole=\"tree\"\n\tdojoAttachEvent=\"onclick:_onClick,onkeypress:_onKeyPress,ondblclick:_onDblClick\">\n</div>\n",isExpandable:true,isTree:true,persist:true,dndController:null,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:0,betweenThreshold:0,_publish:function $DR2_(_30e,_30f){dojo.publish(this.id,[dojo.mixin({tree:this,event:_30e},_30f||{})]);},postMixInProperties:function $DR3_(){this.tree=this;this._itemNodeMap={};if(!this.cookieName){this.cookieName=this.id+"SaveStateCookie";}},postCreate:function $DR4_(){this._initState();if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(dojo.isString(this.dndController)){this.dndController=dojo.getObject(this.dndController);}var _310={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_310[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_310);}},_store2model:function $DR5_(){this._v10Compat=true;dojo.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _312={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_312.mayHaveChildren=dojo.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_312.getChildren=dojo.hitch(this,function(item,_314,_315){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_314,_315);});}this.model=new dijit.tree.ForestStoreModel(_312);this.showRoot=Boolean(this.label);},_load:function $DR6_(){this.model.getRoot(dojo.hitch(this,function(item){var rn=this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),indent:this.showRoot?0:-1});if(!this.showRoot){rn.rowNode.style.display="none";}this.domNode.appendChild(rn.domNode);this._itemNodeMap[this.model.getIdentity(item)]=rn;rn._updateLayout();this._expandNode(rn);}),function(err){console.error(this,": error loading root: ",err);});},mayHaveChildren:function $DR7_(item){},getItemChildren:function $DR8_(_31a,_31b){},getLabel:function $DR9_(item){return this.model.getLabel(item);},getIconClass:function $DSA_(item,_31e){return (!item||this.model.mayHaveChildren(item))?(_31e?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function $DSB_(item,_320){},getIconStyle:function $DSC_(item,_322){},getLabelStyle:function $DSD_(item,_324){},_onKeyPress:function $DSE_(e){if(e.altKey){return;}var dk=dojo.keys;var _327=dijit.getEnclosingWidget(e.target);if(!_327){return;}var key=e.charOrCode;if(typeof key=="string"){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){this._onLetterKeyNav({node:_327,key:key.toLowerCase()});dojo.stopEvent(e);}}else{var map=this._keyHandlerMap;if(!map){map={};map[dk.ENTER]="_onEnterKey";map[this.isLeftToRight()?dk.LEFT_ARROW:dk.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?dk.RIGHT_ARROW:dk.LEFT_ARROW]="_onRightArrow";map[dk.UP_ARROW]="_onUpArrow";map[dk.DOWN_ARROW]="_onDownArrow";map[dk.HOME]="_onHomeKey";map[dk.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){this[this._keyHandlerMap[key]]({node:_327,item:_327.item});dojo.stopEvent(e);}}},_onEnterKey:function $DSF_(_32a){this._publish("execute",{item:_32a.item,node:_32a.node});this.onClick(_32a.item,_32a.node);},_onDownArrow:function $DSG_(_32b){var node=this._getNextNode(_32b.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function $DSH_(_32d){var node=_32d.node;var _32f=node.getPreviousSibling();if(_32f){node=_32f;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _330=node.getChildren();node=_330[_330.length-1];}}else{var _331=node.getParent();if(!(!this.showRoot&&_331===this.rootNode)){node=_331;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function $DSI_(_332){var node=_332.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function $DSJ_(_334){var node=_334.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _336=node.getParent();if(_336&&_336.isTreeNode&&!(!this.showRoot&&_336===this.rootNode)){this.focusNode(_336);}}},_onHomeKey:function $DSK_(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function $DSL_(_338){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},_onLetterKeyNav:function $DSM_(_33b){var node=_33b.node,_33d=node,key=_33b.key;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==_33d&&(node.label.charAt(0).toLowerCase()!=key));if(node&&node.isTreeNode){if(node!==_33d){this.focusNode(node);}}},_onClick:function $DSN_(e){var _340=e.target;var _341=dijit.getEnclosingWidget(_340);if(!_341||!_341.isTreeNode){return;}if((this.openOnClick&&_341.isExpandable)||(_340==_341.expandoNode||_340==_341.expandoNodeText)){if(_341.isExpandable){this._onExpandoClick({node:_341});}}else{this._publish("execute",{item:_341.item,node:_341});this.onClick(_341.item,_341);this.focusNode(_341);}dojo.stopEvent(e);},_onDblClick:function $DSO_(e){var _343=e.target;var _344=dijit.getEnclosingWidget(_343);if(!_344||!_344.isTreeNode){return;}if((this.openOnDblClick&&_344.isExpandable)||(_343==_344.expandoNode||_343==_344.expandoNodeText)){if(_344.isExpandable){this._onExpandoClick({node:_344});}}else{this._publish("execute",{item:_344.item,node:_344});this.onDblClick(_344.item,_344);this.focusNode(_344);}dojo.stopEvent(e);},_onExpandoClick:function $DSP_(_345){var node=_345.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function $DSQ_(item,node){},onDblClick:function $DSR_(item,node){},onOpen:function $DSS_(item,node){},onClose:function $DST_(item,node){},_getNextNode:function $DSU_(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _350=node.getNextSibling();if(_350){return _350;}node=node.getParent();}return null;}},_getRootOrFirstNode:function $DSV_(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function $DSW_(node){if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();this.onClose(node.item,node);if(node.item){this._state(node.item,false);this._saveState();}}},_expandNode:function $DSX_(node){if(!node.isExpandable){return;}var _353=this.model,item=node.item;switch(node.state){case "LOADING":return;case "UNCHECKED":node.markProcessing();var _355=this;_353.getChildren(item,function(_356){node.unmarkProcessing();node.setChildItems(_356);_355._expandNode(node);},function(err){console.error(_355,": error loading root children: ",err);});break;default:node.expand();this.onOpen(node.item,node);if(item){this._state(item,true);this._saveState();}}},focusNode:function $DSY_(node){node.labelNode.focus();},_onNodeFocus:function $DSZ_(node){if(node){if(node!=this.lastFocused){this.lastFocused.setSelected(false);}node.setSelected(true);this.lastFocused=node;}},_onNodeMouseEnter:function $DSa_(node){},_onNodeMouseLeave:function $DSb_(node){},_onItemChange:function $DSc_(item){var _35d=this.model,_35e=_35d.getIdentity(item),node=this._itemNodeMap[_35e];if(node){node.setLabelNode(this.getLabel(item));node._updateItemClasses(item);}},_onItemChildrenChange:function $DSd_(_360,_361){var _362=this.model,_363=_362.getIdentity(_360),_364=this._itemNodeMap[_363];if(_364){_364.setChildItems(_361);}},_onItemDelete:function $DSe_(item){var _366=this.model,_367=_366.getIdentity(item),node=this._itemNodeMap[_367];if(node){var _369=node.getParent();if(_369){_369.removeChild(node);}node.destroyRecursive();delete this._itemNodeMap[_367];}},_initState:function $DSf_(){if(this.persist){var _36a=dojo.cookie(this.cookieName);this._openedItemIds={};if(_36a){dojo.forEach(_36a.split(","),function(item){this._openedItemIds[item]=true;},this);}}},_state:function $DSg_(item,_36d){if(!this.persist){return false;}var id=this.model.getIdentity(item);if(arguments.length===1){return this._openedItemIds[id];}if(_36d){this._openedItemIds[id]=true;}else{delete this._openedItemIds[id];}},_saveState:function $DSh_(){if(!this.persist){return;}var ary=[];for(var id in this._openedItemIds){ary.push(id);}dojo.cookie(this.cookieName,ary.join(","),{expires:365});},destroy:function $DSi_(){if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!dojo.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function $DSj_(){this.destroy();},_createTreeNode:function $DSk_(args){return new dijit._TreeNode(args);}});}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function $DBE3_(_372,_373){var rxp="^";var c=null;for(var i=0;i<_372.length;i++){c=_372.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_372.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_373){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function $DBE6_(a,b){var r=-1;if(a===null){a=undefined;}if(b===null){b=undefined;}if(a==b){r=0;}else{if(a>b||a==null){r=1;}}return r;};dojo.data.util.sorter.createSortFunction=function $DBE7_(_37a,_37b){var _37c=[];function _37d(attr,dir){return function(_380,_381){var a=_37b.getValue(_380,attr);var b=_37b.getValue(_381,attr);var _384=null;if(_37b.comparatorMap){if(typeof attr!=="string"){attr=_37b.getIdentity(attr);}_384=_37b.comparatorMap[attr]||dojo.data.util.sorter.basicComparator;}_384=_384||dojo.data.util.sorter.basicComparator;return dir*_384(a,b);};};var _385;for(var i=0;i<_37a.length;i++){_385=_37a[i];if(_385.attribute){var _387=(_385.descending)?-1:1;_37c.push(_37d(_385.attribute,_387));}}return function(rowA,rowB){var i=0;while(i<_37c.length){var ret=_37c[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function $DBE4_(_38c){_38c=_38c||{};if(!_38c.store){_38c.store=this;}var self=this;var _38e=function(_38f,_390){if(_390.onError){var _391=_390.scope||dojo.global;_390.onError.call(_391,_38f,_390);}};var _392=function(_393,_394){var _395=_394.abort||null;var _396=false;var _397=_394.start?_394.start:0;var _398=(_394.count&&(_394.count!==Infinity))?(_397+_394.count):_393.length;_394.abort=function $DBE5_(){_396=true;if(_395){_395.call(_394);}};var _399=_394.scope||dojo.global;if(!_394.store){_394.store=self;}if(_394.onBegin){_394.onBegin.call(_399,_393.length,_394);}if(_394.sort){_393.sort(dojo.data.util.sorter.createSortFunction(_394.sort,self));}if(_394.onItem){for(var i=_397;(i<_393.length)&&(i<_398);++i){var item=_393[i];if(!_396){_394.onItem.call(_399,item,_394);}}}if(_394.onComplete&&!_396){var _39c=null;if(!_394.onItem){_39c=_393.slice(_397,_398);}_394.onComplete.call(_399,_39c,_394);}};this._fetchItems(_38c,_392,_38e);return _38c;};}if(!dojo._hasResource["dojox.data.OpmlStore"]){dojo._hasResource["dojox.data.OpmlStore"]=true;dojo.provide("dojox.data.OpmlStore");dojo.declare("dojox.data.OpmlStore",null,{constructor:function $DmQ_(_39d){this._xmlData=null;this._arrayOfTopLevelItems=[];this._arrayOfAllItems=[];this._metadataNodes=null;this._loadFinished=false;this.url=_39d.url;this._opmlData=_39d.data;if(_39d.label){this.label=_39d.label;}this._loadInProgress=false;this._queuedFetches=[];this._identityMap={};this._identCount=0;this._idProp="_I";},label:"text",url:"",_assertIsItem:function $DmR_(item){if(!this.isItem(item)){throw new Error("dojo.data.OpmlStore: a function was passed an item argument that was not an item");}},_assertIsAttribute:function $DmS_(_39f){if(!dojo.isString(_39f)){throw new Error("dojox.data.OpmlStore: a function was passed an attribute argument that was not an attribute object nor an attribute name string");}},_removeChildNodesThatAreNotElementNodes:function $DmT_(node,_3a1){var _3a2=node.childNodes;if(_3a2.length===0){return;}var _3a3=[];var i,_3a5;for(i=0;i<_3a2.length;++i){_3a5=_3a2[i];if(_3a5.nodeType!=1){_3a3.push(_3a5);}}for(i=0;i<_3a3.length;++i){_3a5=_3a3[i];node.removeChild(_3a5);}if(_3a1){for(i=0;i<_3a2.length;++i){_3a5=_3a2[i];this._removeChildNodesThatAreNotElementNodes(_3a5,_3a1);}}},_processRawXmlTree:function $DmU_(_3a6){this._loadFinished=true;this._xmlData=_3a6;var _3a7=_3a6.getElementsByTagName("head");var _3a8=_3a7[0];if(_3a8){this._removeChildNodesThatAreNotElementNodes(_3a8);this._metadataNodes=_3a8.childNodes;}var _3a9=_3a6.getElementsByTagName("body");var _3aa=_3a9[0];if(_3aa){this._removeChildNodesThatAreNotElementNodes(_3aa,true);var _3ab=_3a9[0].childNodes;for(var i=0;i<_3ab.length;++i){var node=_3ab[i];if(node.tagName=="outline"){this._identityMap[this._identCount]=node;this._identCount++;this._arrayOfTopLevelItems.push(node);this._arrayOfAllItems.push(node);this._checkChildNodes(node);}}}},_checkChildNodes:function $DmV_(node){if(node.firstChild){for(var i=0;i<node.childNodes.length;i++){var _3b0=node.childNodes[i];if(_3b0.tagName=="outline"){this._identityMap[this._identCount]=_3b0;this._identCount++;this._arrayOfAllItems.push(_3b0);this._checkChildNodes(_3b0);}}}},_getItemsArray:function $DmW_(_3b1){if(_3b1&&_3b1.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},getValue:function $DmX_(item,_3b3,_3b4){this._assertIsItem(item);this._assertIsAttribute(_3b3);if(_3b3=="children"){return (item.firstChild||_3b4);}else{var _3b5=item.getAttribute(_3b3);return (_3b5!==undefined)?_3b5:_3b4;}},getValues:function $DmY_(item,_3b7){this._assertIsItem(item);this._assertIsAttribute(_3b7);var _3b8=[];if(_3b7=="children"){for(var i=0;i<item.childNodes.length;++i){_3b8.push(item.childNodes[i]);}}else{if(item.getAttribute(_3b7)!==null){_3b8.push(item.getAttribute(_3b7));}}return _3b8;},getAttributes:function $DmZ_(item){this._assertIsItem(item);var _3bb=[];var _3bc=item;var _3bd=_3bc.attributes;for(var i=0;i<_3bd.length;++i){var _3bf=_3bd.item(i);_3bb.push(_3bf.nodeName);}if(_3bc.childNodes.length>0){_3bb.push("children");}return _3bb;},hasAttribute:function $Dma_(item,_3c1){return (this.getValues(item,_3c1).length>0);},containsValue:function $Dmb_(item,_3c3,_3c4){var _3c5=undefined;if(typeof _3c4==="string"){_3c5=dojo.data.util.filter.patternToRegExp(_3c4,false);}return this._containsValue(item,_3c3,_3c4,_3c5);},_containsValue:function $Dmc_(item,_3c7,_3c8,_3c9){var _3ca=this.getValues(item,_3c7);for(var i=0;i<_3ca.length;++i){var _3cc=_3ca[i];if(typeof _3cc==="string"&&_3c9){return (_3cc.match(_3c9)!==null);}else{if(_3c8===_3cc){return true;}}}return false;},isItem:function $Dmd_(_3cd){return (_3cd&&_3cd.nodeType==1&&_3cd.tagName=="outline"&&_3cd.ownerDocument===this._xmlData);},isItemLoaded:function $Dme_(_3ce){return this.isItem(_3ce);},loadItem:function $Dmf_(item){},getLabel:function $Dmg_(item){if(this.isItem(item)){return this.getValue(item,this.label);}return undefined;},getLabelAttributes:function $Dmh_(item){return [this.label];},_fetchItems:function $Dmi_(_3d2,_3d3,_3d4){var self=this;var _3d6=function(_3d7,_3d8){var _3d9=null;if(_3d7.query){_3d9=[];var _3da=_3d7.queryOptions?_3d7.queryOptions.ignoreCase:false;var _3db={};for(var key in _3d7.query){var _3dd=_3d7.query[key];if(typeof _3dd==="string"){_3db[key]=dojo.data.util.filter.patternToRegExp(_3dd,_3da);}}for(var i=0;i<_3d8.length;++i){var _3df=true;var _3e0=_3d8[i];for(var key in _3d7.query){var _3dd=_3d7.query[key];if(!self._containsValue(_3e0,key,_3dd,_3db[key])){_3df=false;}}if(_3df){_3d9.push(_3e0);}}}else{if(_3d8.length>0){_3d9=_3d8.slice(0,_3d8.length);}}_3d3(_3d9,_3d7);};if(this._loadFinished){_3d6(_3d2,this._getItemsArray(_3d2.queryOptions));}else{if(this._loadInProgress){this._queuedFetches.push({args:_3d2,filter:_3d6});}else{if(this.url!==""){this._loadInProgress=true;var _3e1={url:self.url,handleAs:"xml"};var _3e2=dojo.xhrGet(_3e1);_3e2.addCallback(function(data){self._processRawXmlTree(data);_3d6(_3d2,self._getItemsArray(_3d2.queryOptions));self._handleQueuedFetches();});_3e2.addErrback(function(_3e4){throw _3e4;});}else{if(this._opmlData){this._processRawXmlTree(this._opmlData);this._opmlData=null;_3d6(_3d2,this._getItemsArray(_3d2.queryOptions));}else{throw new Error("dojox.data.OpmlStore: No OPML source data was provided as either URL or XML data input.");}}}}},getFeatures:function $Dmj_(){var _3e5={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};return _3e5;},getIdentity:function $Dmk_(item){if(this.isItem(item)){for(var i in this._identityMap){if(this._identityMap[i]===item){return i;}}}return null;},fetchItemByIdentity:function $Dml_(_3e8){if(!this._loadFinished){var self=this;if(this.url!==""){if(this._loadInProgress){this._queuedFetches.push({args:_3e8});}else{this._loadInProgress=true;var _3ea={url:self.url,handleAs:"xml"};var _3eb=dojo.xhrGet(_3ea);_3eb.addCallback(function(data){var _3ed=_3e8.scope?_3e8.scope:dojo.global;try{self._processRawXmlTree(data);var item=self._identityMap[_3e8.identity];if(!self.isItem(item)){item=null;}if(_3e8.onItem){_3e8.onItem.call(_3ed,item);}self._handleQueuedFetches();}catch(error){if(_3e8.onError){_3e8.onError.call(_3ed,error);}}});_3eb.addErrback(function(_3ef){this._loadInProgress=false;if(_3e8.onError){var _3f0=_3e8.scope?_3e8.scope:dojo.global;_3e8.onError.call(_3f0,_3ef);}});}}else{if(this._opmlData){this._processRawXmlTree(this._opmlData);this._opmlData=null;var item=this._identityMap[_3e8.identity];if(!self.isItem(item)){item=null;}if(_3e8.onItem){var _3f2=_3e8.scope?_3e8.scope:dojo.global;_3e8.onItem.call(_3f2,item);}}}}else{var item=this._identityMap[_3e8.identity];if(!this.isItem(item)){item=null;}if(_3e8.onItem){var _3f2=_3e8.scope?_3e8.scope:dojo.global;_3e8.onItem.call(_3f2,item);}}},getIdentityAttributes:function $Dmm_(item){return null;},_handleQueuedFetches:function $Dmn_(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _3f5=this._queuedFetches[i];var _3f6=_3f5.args;var _3f7=_3f5.filter;if(_3f7){_3f7(_3f6,this._getItemsArray(_3f6.queryOptions));}else{this.fetchItemByIdentity(_3f6);}}this._queuedFetches=[];}},close:function $Dmo_(_3f8){}});dojo.extend(dojox.data.OpmlStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dojox.xml.parser"]){dojo._hasResource["dojox.xml.parser"]=true;dojo.provide("dojox.xml.parser");dojox.xml.parser.parse=function $DAxU_(str,_3fa){var _3fb=dojo.doc;var doc;_3fa=_3fa||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _3fd=new DOMParser();doc=_3fd.parseFromString(str,_3fa);var de=doc.documentElement;var _3ff="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_3ff){var _400=de.getElementsByTagNameNS(_3ff,"sourcetext")[0];if(!_400){_400=_400.firstChild.data;}throw new Error("Error parsing text "+nativeDoc.documentElement.firstChild.data+" \n"+_400);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_3fb.implementation&&_3fb.implementation.createDocument){if(str&&dojo.trim(str)&&_3fb.createElement){var tmp=_3fb.createElement("xml");tmp.innerHTML=str;var _407=_3fb.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_408){_407.importNode(_408,true);});return _407;}else{return _3fb.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function $DAxV_(node,text){if(arguments.length>1){var _40b=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_40b.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _40c="";if(node){dojo.forEach(node.childNodes,function(_40d){switch(_40d.nodeType){case 1:case 5:_40c+=dojox.xml.parser.textContent(_40d);break;case 3:case 2:case 4:_40c+=_40d.nodeValue;}});}return _40c;}};dojox.xml.parser.replaceChildren=function $DAxW_(node,_40f){var _410=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_411){_410.push(_411);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_410,dojo.destroy);if(!dojo.isArray(_40f)){node.appendChild(_40f);}else{dojo.forEach(_40f,function(_412){node.appendChild(_412);});}};dojox.xml.parser.removeChildren=function $DAxX_(node){var _414=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _414;};dojox.xml.parser.innerXML=function $DAxY_(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};}if(!dojo._hasResource["dojox.data.dom"]){dojo._hasResource["dojox.data.dom"]=true;dojo.provide("dojox.data.dom");dojo.deprecated("dojox.data.dom","Use dojox.xml.parser instead.","2.0");dojox.data.dom.createDocument=function $Dh7_(str,_417){dojo.deprecated("dojox.data.dom.createDocument()","Use dojox.xml.parser.parse() instead.","2.0");try{return dojox.xml.parser.parse(str,_417);}catch(e){return null;}};dojox.data.dom.textContent=function $Dh8_(node,text){dojo.deprecated("dojox.data.dom.textContent()","Use dojox.xml.parser.textContent() instead.","2.0");if(arguments.length>1){return dojox.xml.parser.textContent(node,text);}else{return dojox.xml.parser.textContent(node);}};dojox.data.dom.replaceChildren=function $Dh9_(node,_41b){dojo.deprecated("dojox.data.dom.replaceChildren()","Use dojox.xml.parser.replaceChildren() instead.","2.0");dojox.xml.parser.replaceChildren(node,_41b);};dojox.data.dom.removeChildren=function $DiA_(node){dojo.deprecated("dojox.data.dom.removeChildren()","Use dojox.xml.parser.removeChildren() instead.","2.0");return dojox.xml.parser.removeChildren(node);};dojox.data.dom.innerXML=function $DiB_(node){dojo.deprecated("dojox.data.dom.innerXML()","Use dojox.xml.parser.innerXML() instead.","2.0");return dojox.xml.parser.innerXML(node);};}if(!dojo._hasResource["betterform.ui.tree.OPMLTree"]){dojo._hasResource["betterform.ui.tree.OPMLTree"]=true;dojo.provide("betterform.ui.tree.OPMLTree");dojo.declare("betterform.ui.tree.OPMLTree",betterform.ui.ControlValue,{rootLabel:"Root Node",templateString:"<div class=\"xfTree\"/>\n",instanceId:null,modelId:null,store:null,model:null,tree:null,id:null,controlValue:null,templateString:null,buildRendering:function $DA5j_(){this.inherited(arguments);this.instanceId=dojo.attr(this.srcNodeRef,"instanceId");this.modelId=dojo.attr(this.srcNodeRef,"modelId");this.id=dojo.attr(this.srcNodeRef,"id");},postMixInProperties:function $DA5k_(){this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA5l_(){this.inherited(arguments);dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._initialTreeCreation));},_initialTreeCreation:function $DA5m_(data){this._createTree(data);},_createTree:function $DA5n_(data){this.store=this._createStore(data);this.model=this._createModel();dojox.data.dom.removeChildren(this.domNode);var _420=dojo.doc.createElement("div");dojo.place(_420,this.domNode);this.tree=this._createTreeImpl(_420);this.tree.startup();dojo.connect(this.tree,"onClick",this,"_treeClicked");this.treeCreated();},_createStore:function $DA5o_(data){return new dojox.data.OpmlStore({jsid:this.id+"-store",url:"",data:data});},_createModel:function $DA5p_(){return new dijit.tree.ForestStoreModel({jsid:this.id+"-model",store:this.store,query:{},rootId:this.rootLabel,rootLabel:this.rootLabel});},_createTreeImpl:function $DA5q_(_422){return new dijit.Tree({model:this.model,jsid:this.id+"-tree"},_422);},_treeClicked:function $DA5r_(item,_424){if(!(this.store.isItem(item))){return;}this.controlValue=this.store.getValue(item,"text");this.valueChanged(item,_424);},_handleSetControlValue:function $DA5s_(_425){this.tree.destroy();this.model.destroy();this.store=undefined;dijit.byId(this.modelId).getInstanceDocument(this.instanceId,dojo.hitch(this,this._createTree));},valueChanged:function $DA5t_(item,_427){},getControlValue:function $DA5u_(){return this.controlValue;},getStoreValue:function $DA5v_(item,key){return this.store.getValue(item,key);},treeCreated:function $DA5w_(){}});}if(!dojo._hasResource["dojo.i18n"]){dojo._hasResource["dojo.i18n"]=true;dojo.provide("dojo.i18n");dojo.i18n.getLocalization=function $DBI4_(_42a,_42b,_42c){_42c=dojo.i18n.normalizeLocale(_42c);var _42d=_42c.split("-");var _42e=[_42a,"nls",_42b].join(".");var _42f=dojo._loadedModules[_42e];if(_42f){var _430;for(var i=_42d.length;i>0;i--){var loc=_42d.slice(0,i).join("_");if(_42f[loc]){_430=_42f[loc];break;}}if(!_430){_430=_42f.ROOT;}if(_430){var _433=function(){};_433.prototype=_430;return new _433();}}throw new Error("Bundle not found: "+_42b+" in "+_42a+" , locale="+_42c);};dojo.i18n.normalizeLocale=function $DBI5_(_434){var _435=_434?_434.toLowerCase():dojo.locale;if(_435=="root"){_435="ROOT";}return _435;};dojo.i18n._requireLocalization=function $DBI6_(_436,_437,_438,_439){var _43a=dojo.i18n.normalizeLocale(_438);var _43b=[_436,"nls",_437].join(".");var _43c="";if(_439){var _43d=_439.split(",");for(var i=0;i<_43d.length;i++){if(_43a["indexOf"](_43d[i])==0){if(_43d[i].length>_43c.length){_43c=_43d[i];}}}if(!_43c){_43c="ROOT";}}var _43f=_439?_43c:_43a;var _440=dojo._loadedModules[_43b];var _441=null;if(_440){if(dojo.config.localizationComplete&&_440._built){return;}var _442=_43f.replace(/-/g,"_");var _443=_43b+"."+_442;_441=dojo._loadedModules[_443];}if(!_441){_440=dojo["provide"](_43b);var syms=dojo._getModuleSymbols(_436);var _445=syms.concat("nls").join("/");var _446;dojo.i18n._searchLocalePath(_43f,_439,function(loc){var _448=loc.replace(/-/g,"_");var _449=_43b+"."+_448;var _44a=false;if(!dojo._loadedModules[_449]){dojo["provide"](_449);var _44b=[_445];if(loc!="ROOT"){_44b.push(loc);}_44b.push(_437);var _44c=_44b.join("/")+".js";_44a=dojo._loadPath(_44c,null,function(hash){var _44e=function(){};_44e.prototype=_446;_440[_448]=new _44e();for(var j in hash){_440[_448][j]=hash[j];}});}else{_44a=true;}if(_44a&&_440[_448]){_446=_440[_448];}else{_440[_448]=_446;}if(_439){return true;}});}if(_439&&_43a!=_43c){_440[_43a.replace(/-/g,"_")]=_440[_43c.replace(/-/g,"_")];}};(function(){var _450=dojo.config.extraLocale;if(_450){if(!_450 instanceof Array){_450=[_450];}var req=dojo.i18n._requireLocalization;dojo.i18n._requireLocalization=function $DBI7_(m,b,_454,_455){req(m,b,_454,_455);if(_454){return;}for(var i=0;i<_450.length;i++){req(m,b,_450[i],_455);}};}})();dojo.i18n._searchLocalePath=function $DBI8_(_457,down,_459){_457=dojo.i18n.normalizeLocale(_457);var _45a=_457.split("-");var _45b=[];for(var i=_45a.length;i>0;i--){_45b.push(_45a.slice(0,i).join("-"));}_45b.push(false);if(down){_45b.reverse();}for(var j=_45b.length-1;j>=0;j--){var loc=_45b[j]||"ROOT";var stop=_459(loc);if(stop){break;}}};dojo.i18n._preloadLocalizations=function $DBI9_(_460,_461){function _462(_463){_463=dojo.i18n.normalizeLocale(_463);dojo.i18n._searchLocalePath(_463,true,function(loc){for(var i=0;i<_461.length;i++){if(_461[i]==loc){dojo["require"](_460+"_"+loc);return true;}}return false;});};_462();var _466=dojo.config.extraLocale||[];for(var i=0;i<_466.length;i++){_462(_466[i]);}};}if(!dojo._hasResource["dojo.cldr.supplemental"]){dojo._hasResource["dojo.cldr.supplemental"]=true;dojo.provide("dojo.cldr.supplemental");dojo.cldr.supplemental.getFirstDayOfWeek=function $DBDV_(_468){var _469={mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,lb:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,tn:6,ye:6,as:0,au:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,ie:0,il:0,is:0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,za:0,zw:0,et:0,mw:0,ng:0,tj:0,sy:4};var _46a=dojo.cldr.supplemental._region(_468);var dow=_469[_46a];return (dow===undefined)?1:dow;};dojo.cldr.supplemental._region=function $DBDW_(_46c){_46c=dojo.i18n.normalizeLocale(_46c);var tags=_46c.split("-");var _46e=tags[1];if(!_46e){_46e={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_46e.length==4){_46e=tags[2];}}return _46e;};dojo.cldr.supplemental.getWeekend=function $DBDX_(_46f){var _470={eg:5,il:5,sy:5,"in":0,ae:4,bh:4,dz:4,iq:4,jo:4,kw:4,lb:4,ly:4,ma:4,om:4,qa:4,sa:4,sd:4,tn:4,ye:4};var _471={ae:5,bh:5,dz:5,iq:5,jo:5,kw:5,lb:5,ly:5,ma:5,om:5,qa:5,sa:5,sd:5,tn:5,ye:5,af:5,ir:5,eg:6,il:6,sy:6};var _472=dojo.cldr.supplemental._region(_46f);var _473=_470[_472];var end=_471[_472];if(_473===undefined){_473=6;}if(end===undefined){end=0;}return {start:_473,end:end};};}if(!dojo._hasResource["dojo.date"]){dojo._hasResource["dojo.date"]=true;dojo.provide("dojo.date");dojo.date.getDaysInMonth=function $DBFM_(_475){var _476=_475.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_476==1&&dojo.date.isLeapYear(_475)){return 29;}return days[_476];};dojo.date.isLeapYear=function $DBFN_(_478){var year=_478.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};dojo.date.getTimezoneName=function $DBFO_(_47a){var str=_47a.toString();var tz="";var _47d;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_47d=str.match(pat))){tz=_47d[1];}else{str=_47a.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_47d=str.match(pat))){tz=_47d[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};dojo.date.compare=function $DBFP_(_480,_481,_482){_480=new Date(Number(_480));_481=new Date(Number(_481||new Date()));if(_482!=="undefined"){if(_482=="date"){_480.setHours(0,0,0,0);_481.setHours(0,0,0,0);}else{if(_482=="time"){_480.setFullYear(0,0,0);_481.setFullYear(0,0,0);}}}if(_480>_481){return 1;}if(_480<_481){return -1;}return 0;};dojo.date.add=function $DBFQ_(date,_484,_485){var sum=new Date(Number(date));var _487=false;var _488="Date";switch(_484){case "day":break;case "weekday":var days,_48a;var mod=_485%5;if(!mod){days=(_485>0)?5:-5;_48a=(_485>0)?((_485-5)/5):((_485+5)/5);}else{days=mod;_48a=parseInt(_485/5);}var strt=date.getDay();var adj=0;if(strt==6&&_485>0){adj=1;}else{if(strt==0&&_485<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_485>0)?2:-2;}_485=(7*_48a)+days+adj;break;case "year":_488="FullYear";_487=true;break;case "week":_485*=7;break;case "quarter":_485*=3;case "month":_487=true;_488="Month";break;case "hour":case "minute":case "second":case "millisecond":_488="UTC"+_484.charAt(0).toUpperCase()+_484.substring(1)+"s";}if(_488){sum["set"+_488](sum["get"+_488]()+_485);}if(_487&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};dojo.date.difference=function $DBFR_(_48f,_490,_491){_490=_490||new Date();_491=_491||"day";var _492=_490.getFullYear()-_48f.getFullYear();var _493=1;switch(_491){case "quarter":var m1=_48f.getMonth();var m2=_490.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_492*4);_493=q2-q1;break;case "weekday":var days=Math.round(dojo.date.difference(_48f,_490,"day"));var _499=parseInt(dojo.date.difference(_48f,_490,"week"));var mod=days%7;if(mod==0){days=_499*5;}else{var adj=0;var aDay=_48f.getDay();var bDay=_490.getDay();_499=parseInt(days/7);mod=days%7;var _49e=new Date(_48f);_49e.setDate(_49e.getDate()+(_499*7));var _49f=_49e.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_49f+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_49f+mod)<0:adj=2;}}}days+=adj;days-=(_499*2);}_493=days;break;case "year":_493=_492;break;case "month":_493=(_490.getMonth()-_48f.getMonth())+(_492*12);break;case "week":_493=parseInt(dojo.date.difference(_48f,_490,"day")/7);break;case "day":_493/=24;case "hour":_493/=60;case "minute":_493/=60;case "second":_493/=1000;case "millisecond":_493*=_490.getTime()-_48f.getTime();}return Math.round(_493);};}if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");(function(){function _4a0(_4a1,_4a2,_4a3,_4a4){return _4a4.replace(/([a-z])\1*/ig,function(_4a5){var s,pad;var c=_4a5.charAt(0);var l=_4a5.length;var _4aa=["abbr","wide","narrow"];switch(c){case "G":s=_4a2[(l<4)?"eraAbbr":"eraNames"][_4a1.getFullYear()<0?0:1];break;case "y":s=_4a1.getFullYear();switch(l){case 1:break;case 2:if(!_4a3){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_4a1.getMonth()+1)/3);pad=true;break;case "M":var m=_4a1.getMonth();if(l<3){s=m+1;pad=true;}else{var _4ac=["months","format",_4aa[l-3]].join("-");s=_4a2[_4ac][m];}break;case "w":var _4ad=0;s=dojo.date.locale._getWeekOfYear(_4a1,_4ad);pad=true;break;case "d":s=_4a1.getDate();pad=true;break;case "D":s=dojo.date.locale._getDayOfYear(_4a1);pad=true;break;case "E":var d=_4a1.getDay();if(l<3){s=d+1;pad=true;}else{var _4af=["days","format",_4aa[l-3]].join("-");s=_4a2[_4af][d];}break;case "a":var _4b0=(_4a1.getHours()<12)?"am":"pm";s=_4a2[_4b0];break;case "h":case "H":case "K":case "k":var h=_4a1.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_4a1.getMinutes();pad=true;break;case "s":s=_4a1.getSeconds();pad=true;break;case "S":s=Math.round(_4a1.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=dojo.date.getTimezoneName(_4a1);if(s){break;}l=4;case "Z":var _4b2=_4a1.getTimezoneOffset();var tz=[(_4b2<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_4b2)/60),2),dojo.string.pad(Math.abs(_4b2)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_4a4);}if(pad){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale.format=function $DBE9_(_4b4,_4b5){_4b5=_4b5||{};var _4b6=dojo.i18n.normalizeLocale(_4b5.locale);var _4b7=_4b5.formatLength||"short";var _4b8=dojo.date.locale._getGregorianBundle(_4b6);var str=[];var _4ba=dojo.hitch(this,_4a0,_4b4,_4b8,_4b5.fullYear);if(_4b5.selector=="year"){var year=_4b4.getFullYear();if(_4b6.match(/^zh|^ja/)){year+="";}return year;}if(_4b5.selector!="time"){var _4bc=_4b5.datePattern||_4b8["dateFormat-"+_4b7];if(_4bc){str.push(_4bd(_4bc,_4ba));}}if(_4b5.selector!="date"){var _4be=_4b5.timePattern||_4b8["timeFormat-"+_4b7];if(_4be){str.push(_4bd(_4be,_4ba));}}var _4bf=str.join(" ");return _4bf;};dojo.date.locale.regexp=function $DBFA_(_4c0){return dojo.date.locale._parseInfo(_4c0).regexp;};dojo.date.locale._parseInfo=function $DBFB_(_4c1){_4c1=_4c1||{};var _4c2=dojo.i18n.normalizeLocale(_4c1.locale);var _4c3=dojo.date.locale._getGregorianBundle(_4c2);var _4c4=_4c1.formatLength||"short";var _4c5=_4c1.datePattern||_4c3["dateFormat-"+_4c4];var _4c6=_4c1.timePattern||_4c3["timeFormat-"+_4c4];var _4c7;if(_4c1.selector=="date"){_4c7=_4c5;}else{if(_4c1.selector=="time"){_4c7=_4c6;}else{_4c7=_4c5+" "+_4c6;}}var _4c8=[];var re=_4bd(_4c7,dojo.hitch(this,_4ca,_4c8,_4c3,_4c1));return {regexp:re,tokens:_4c8,bundle:_4c3};};dojo.date.locale.parse=function $DBFC_(_4cb,_4cc){var info=dojo.date.locale._parseInfo(_4cc);var _4ce=info.tokens,_4cf=info.bundle;var re=new RegExp("^"+info.regexp+"$",info.strict?"":"i");var _4d1=re.exec(_4cb);if(!_4d1){return null;}var _4d2=["abbr","wide","narrow"];var _4d3=[1970,0,1,0,0,0,0];var amPm="";var _4d5=dojo.every(_4d1,function(v,i){if(!i){return true;}var _4d8=_4ce[i-1];var l=_4d8.length;switch(_4d8.charAt(0)){case "y":if(l!=2&&_4cc.strict){_4d3[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear();var _4db=year.substring(0,2)*100;var _4dc=Math.min(Number(year.substring(2,4))+20,99);var num=(v<_4dc)?_4db+v:_4db-100+v;_4d3[0]=num;}else{if(_4cc.strict){return false;}_4d3[0]=v;}}break;case "M":if(l>2){var _4de=_4cf["months-format-"+_4d2[l-3]].concat();if(!_4cc.strict){v=v.replace(".","").toLowerCase();_4de=dojo.map(_4de,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_4de,v);if(v==-1){return false;}}else{v--;}_4d3[1]=v;break;case "E":case "e":var days=_4cf["days-format-"+_4d2[l-3]].concat();if(!_4cc.strict){v=v.toLowerCase();days=dojo.map(days,function(d){return d.toLowerCase();});}v=dojo.indexOf(days,v);if(v==-1){return false;}break;case "D":_4d3[1]=0;case "d":_4d3[2]=v;break;case "a":var am=_4cc.am||_4cf.am;var pm=_4cc.pm||_4cf.pm;if(!_4cc.strict){var _4e4=/\./g;v=v.replace(_4e4,"").toLowerCase();am=am.replace(_4e4,"").toLowerCase();pm=pm.replace(_4e4,"").toLowerCase();}if(_4cc.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_4d3[3]=v;break;case "m":_4d3[4]=v;break;case "s":_4d3[5]=v;break;case "S":_4d3[6]=v;}return true;});var _4e5=+_4d3[3];if(amPm==="p"&&_4e5<12){_4d3[3]=_4e5+12;}else{if(amPm==="a"&&_4e5==12){_4d3[3]=0;}}var _4e6=new Date(_4d3[0],_4d3[1],_4d3[2],_4d3[3],_4d3[4],_4d3[5],_4d3[6]);if(_4cc.strict){_4e6.setFullYear(_4d3[0]);}var _4e7=_4ce.join(""),_4e8=_4e7.indexOf("d")!=-1,_4e9=_4e7.indexOf("M")!=-1;if(!_4d5||(_4e9&&_4e6.getMonth()>_4d3[1])||(_4e8&&_4e6.getDate()>_4d3[2])){return null;}if((_4e9&&_4e6.getMonth()<_4d3[1])||(_4e8&&_4e6.getDate()<_4d3[2])){_4e6=dojo.date.add(_4e6,"hour",1);}return _4e6;};function _4bd(_4ea,_4eb,_4ec,_4ed){var _4ee=function(x){return x;};_4eb=_4eb||_4ee;_4ec=_4ec||_4ee;_4ed=_4ed||_4ee;var _4f0=_4ea.match(/(''|[^'])+/g);var _4f1=_4ea.charAt(0)=="'";dojo.forEach(_4f0,function(_4f2,i){if(!_4f2){_4f0[i]="";}else{_4f0[i]=(_4f1?_4ec:_4eb)(_4f2);_4f1=!_4f1;}});return _4ed(_4f0.join(""));};function _4ca(_4f4,_4f5,_4f6,_4f7){_4f7=dojo.regexp.escapeString(_4f7);if(!_4f6.strict){_4f7=_4f7.replace(" a"," ?a");}return _4f7.replace(/([a-z])\1*/ig,function(_4f8){var s;var c=_4f8.charAt(0);var l=_4f8.length;var p2="",p3="";if(_4f6.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_4f6.am||_4f5.am||"AM";var pm=_4f6.pm||_4f5.pm||"PM";if(_4f6.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_4f4){_4f4.push(_4f8);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _500=[];dojo.date.locale.addCustomFormats=function $DBFD_(_501,_502){_500.push({pkg:_501,name:_502});};dojo.date.locale._getGregorianBundle=function $DBFE_(_503){var _504={};dojo.forEach(_500,function(desc){var _506=dojo.i18n.getLocalization(desc.pkg,desc.name,_503);_504=dojo.mixin(_504,_506);},this);return _504;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function $DBFF_(item,type,_509,_50a){var _50b;var _50c=dojo.date.locale._getGregorianBundle(_50a);var _50d=[item,_509,type];if(_509=="standAlone"){var key=_50d.join("-");_50b=_50c[key];if(_50b[0]==1){_50b=undefined;}}_50d[1]="format";return (_50b||_50c[_50d.join("-")]).concat();};dojo.date.locale.isWeekend=function $DBFG_(_50f,_510){var _511=dojo.cldr.supplemental.getWeekend(_510);var day=(_50f||new Date()).getDay();if(_511.end<_511.start){_511.end+=7;if(day<_511.start){day+=7;}}return day>=_511.start&&day<=_511.end;};dojo.date.locale._getDayOfYear=function $DBFH_(_513){return dojo.date.difference(new Date(_513.getFullYear(),0,1,_513.getHours()),_513)+1;};dojo.date.locale._getWeekOfYear=function $DBFI_(_514,_515){if(arguments.length==1){_515=0;}var _516=new Date(_514.getFullYear(),0,1).getDay();var adj=(_516-_515+7)%7;var week=Math.floor((dojo.date.locale._getDayOfYear(_514)+adj-1)/7);if(_516==_515){week++;}return week;};}if(!dojo._hasResource["dijit._Calendar"]){dojo._hasResource["dijit._Calendar"]=true;dojo.provide("dijit._Calendar");dojo.declare("dijit._Calendar",[dijit._Widget,dijit._Templated],{templateString:"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" waiRole=\"presentation\">\n\t\t\t\t<span dojoAttachPoint=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div dojoAttachPoint=\"monthLabelSpacer\" class=\"dijitCalendarMonthLabelSpacer\"></div>\n\t\t\t\t<div dojoAttachPoint=\"monthLabelNode\" class=\"dijitCalendarMonthLabel\"></div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' dojoAttachPoint=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" waiRole=\"presentation\">\n\t\t\t\t<span dojoAttachPoint=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<th class=\"dijitReset dijitCalendarDayLabelTemplate\"><span class=\"dijitCalendarDayLabel\"></span></th>\n\t\t</tr>\n\t</thead>\n\t<tbody dojoAttachEvent=\"onclick: _onDayClick, onmouseover: _onDayMouseOver, onmouseout: _onDayMouseOut\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t<tr class=\"dijitReset dijitCalendarWeekTemplate\">\n\t\t\t<td class=\"dijitReset dijitCalendarDateTemplate\"><span class=\"dijitCalendarDateLabel\"></span></td>\n\t\t</tr>\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\">\n\t\t\t\t<h3 class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span dojoAttachPoint=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\"></span>\n\t\t\t\t\t<span dojoAttachPoint=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\"></span>\n\t\t\t\t</h3>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\t\n",value:new Date(),dayWidth:"narrow",setValue:function $DBA_(_519){dojo.deprecated("dijit.Calendar:setValue() is deprecated.  Use attr('value', ...) instead.","","2.0");this.attr("value",_519);},_getValueAttr:function $DBB_(_51a){var _51a=new Date(this.value);_51a.setHours(0,0,0,0);if(_51a.getDate()<this.value.getDate()){_51a=dojo.date.add(_51a,"hour",1);}return _51a;},_setValueAttr:function $DBC_(_51b){if(!this.value||dojo.date.compare(_51b,this.value)){_51b=new Date(_51b);_51b.setHours(1);this.displayMonth=new Date(_51b);if(!this.isDisabledDate(_51b,this.lang)){this.value=_51b;this.onChange(this.attr("value"));}this._populateGrid();}},_setText:function $DBD_(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(dojo.doc.createTextNode(text));},_populateGrid:function $DBE_(){var _51e=this.displayMonth;_51e.setDate(1);var _51f=_51e.getDay();var _520=dojo.date.getDaysInMonth(_51e);var _521=dojo.date.getDaysInMonth(dojo.date.add(_51e,"month",-1));var _522=new Date();var _523=this.value;var _524=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);if(_524>_51f){_524-=7;}dojo.query(".dijitCalendarDateTemplate",this.domNode).forEach(function(_525,i){i+=_524;var date=new Date(_51e);var _528,_529="dijitCalendar",adj=0;if(i<_51f){_528=_521-_51f+i+1;adj=-1;_529+="Previous";}else{if(i>=(_51f+_520)){_528=i-_51f-_520+1;adj=1;_529+="Next";}else{_528=i-_51f+1;_529+="Current";}}if(adj){date=dojo.date.add(date,"month",adj);}date.setDate(_528);if(!dojo.date.compare(date,_522,"date")){_529="dijitCalendarCurrentDate "+_529;}if(!dojo.date.compare(date,_523,"date")){_529="dijitCalendarSelectedDate "+_529;}if(this.isDisabledDate(date,this.lang)){_529="dijitCalendarDisabledDate "+_529;}var _52b=this.getClassForDate(date,this.lang);if(_52b){_529=_52b+" "+_529;}_525.className=_529+"Month dijitCalendarDateTemplate";_525.dijitDateValue=date.valueOf();var _52c=dojo.query(".dijitCalendarDateLabel",_525)[0];this._setText(_52c,date.getDate());},this);var _52d=dojo.date.locale.getNames("months","wide","standAlone",this.lang);this._setText(this.monthLabelNode,_52d[_51e.getMonth()]);var y=_51e.getFullYear()-1;var d=new Date();dojo.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],dojo.date.locale.format(d,{selector:"year",locale:this.lang}));},this);var _531=this;var _532=function(_533,_534,adj){_531._connects.push(dijit.typematic.addMouseListener(_531[_533],_531,function(_536){if(_536>=0){_531._adjustDisplay(_534,adj);}},0.8,500));};_532("incrementMonth","month",1);_532("decrementMonth","month",-1);_532("nextYearLabelNode","year",1);_532("previousYearLabelNode","year",-1);},goToToday:function $DBF_(){this.attr("value",new Date());},postCreate:function $DBG_(){this.inherited(arguments);dojo.setSelectable(this.domNode,false);var _537=dojo.hitch(this,function(_538,n){var _53a=dojo.query(_538,this.domNode)[0];for(var i=0;i<n;i++){_53a.parentNode.appendChild(_53a.cloneNode(true));}});_537(".dijitCalendarDayLabelTemplate",6);_537(".dijitCalendarDateTemplate",6);_537(".dijitCalendarWeekTemplate",5);var _53c=dojo.date.locale.getNames("days",this.dayWidth,"standAlone",this.lang);var _53d=dojo.cldr.supplemental.getFirstDayOfWeek(this.lang);dojo.query(".dijitCalendarDayLabel",this.domNode).forEach(function(_53e,i){this._setText(_53e,_53c[(i+_53d)%7]);},this);var _540=dojo.date.locale.getNames("months","wide","standAlone",this.lang);dojo.forEach(_540,function(name){var _542=dojo.create("div",null,this.monthLabelSpacer);this._setText(_542,name);},this);this.value=null;this.attr("value",new Date());},_adjustDisplay:function $DBH_(part,_544){this.displayMonth=dojo.date.add(this.displayMonth,part,_544);this._populateGrid();},_onDayClick:function $DBI_(evt){dojo.stopEvent(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!dojo.hasClass(node,"dijitCalendarDisabledDate")){this.attr("value",node.dijitDateValue);this.onValueSelected(this.attr("value"));}},_onDayMouseOver:function $DBJ_(evt){var node=evt.target;if(node&&(node.dijitDateValue||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){dojo.addClass(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function $DBK_(evt){if(!this._currentNode){return;}for(var node=evt.relatedTarget;node;){if(node==this._currentNode){return;}try{node=node.parentNode;}catch(x){node=null;}}dojo.removeClass(this._currentNode,"dijitCalendarHoveredDate");this._currentNode=null;},onValueSelected:function $DBL_(date){},onChange:function $DBM_(date){},isDisabledDate:function $DBN_(_54d,_54e){},getClassForDate:function $DBO_(_54f,_550){}});}if(!dojo._hasResource["dijit.form._FormWidget"]){dojo._hasResource["dijit.form._FormWidget"]=true;dojo.provide("dijit.form._FormWidget");dojo.declare("dijit.form._FormWidget",[dijit._Widget,dijit._Templated],{baseClass:"",name:"",alt:"",value:"",type:"text",tabIndex:"0",disabled:false,readOnly:false,intermediateChanges:false,scrollOnFocus:true,attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{value:"focusNode",disabled:"focusNode",readOnly:"focusNode",id:"focusNode",tabIndex:"focusNode",alt:"focusNode"}),postMixInProperties:function $DHu_(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},_setDisabledAttr:function $DHv_(_551){this.disabled=_551;dojo.attr(this.focusNode,"disabled",_551);dijit.setWaiState(this.focusNode,"disabled",_551);if(_551){this._hovering=false;this._active=false;this.focusNode.removeAttribute("tabIndex");}else{this.focusNode.setAttribute("tabIndex",this.tabIndex);}this._setStateClass();},setDisabled:function $DHw_(_552){dojo.deprecated("setDisabled("+_552+") is deprecated. Use attr('disabled',"+_552+") instead.","","2.0");this.attr("disabled",_552);},_onFocus:function $DHx_(e){if(this.scrollOnFocus){dijit.scrollIntoView(this.domNode);}this.inherited(arguments);},_onMouse:function $DHy_(_554){var _555=_554.currentTarget;if(_555&&_555.getAttribute){this.stateModifier=_555.getAttribute("stateModifier")||"";}if(!this.disabled){switch(_554.type){case "mouseenter":case "mouseover":this._hovering=true;this._active=this._mouseDown;break;case "mouseout":case "mouseleave":this._hovering=false;this._active=false;break;case "mousedown":this._active=true;this._mouseDown=true;var _556=this.connect(dojo.body(),"onmouseup",function(){if(this._mouseDown&&this.isFocusable()){this.focus();}this._active=false;this._mouseDown=false;this._setStateClass();this.disconnect(_556);});break;}this._setStateClass();}},isFocusable:function $DHz_(){return !this.disabled&&!this.readOnly&&this.focusNode&&(dojo.style(this.domNode,"display")!="none");},focus:function $DH0_(){dijit.focus(this.focusNode);},_setStateClass:function $DH1_(){var _557=this.baseClass.split(" ");function _558(_559){_557=_557.concat(dojo.map(_557,function(c){return c+_559;}),"dijit"+_559);};if(this.checked){_558("Checked");}if(this.state){_558(this.state);}if(this.selected){_558("Selected");}if(this.disabled){_558("Disabled");}else{if(this.readOnly){_558("ReadOnly");}else{if(this._active){_558(this.stateModifier+"Active");}else{if(this._focused){_558("Focused");}if(this._hovering){_558(this.stateModifier+"Hover");}}}}var tn=this.stateNode||this.domNode,_55c={};dojo.forEach(tn.className.split(" "),function(c){_55c[c]=true;});if("_stateClasses" in this){dojo.forEach(this._stateClasses,function(c){delete _55c[c];});}dojo.forEach(_557,function(c){_55c[c]=true;});var _560=[];for(var c in _55c){_560.push(c);}tn.className=_560.join(" ");this._stateClasses=_557;},compare:function $DH2_(val1,val2){if((typeof val1=="number")&&(typeof val2=="number")){return (isNaN(val1)&&isNaN(val2))?0:(val1-val2);}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function $DH3_(_564){},_onChangeActive:false,_handleOnChange:function $DH4_(_565,_566){this._lastValue=_565;if(this._lastValueReported==undefined&&(_566===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_565;}if((this.intermediateChanges||_566||_566===undefined)&&((typeof _565!=typeof this._lastValueReported)||this.compare(_565,this._lastValueReported)!=0)){this._lastValueReported=_565;if(this._onChangeActive){this.onChange(_565);}}},create:function $DH5_(){this.inherited(arguments);this._onChangeActive=true;this._setStateClass();},destroy:function $DH6_(){if(this._layoutHackHandle){clearTimeout(this._layoutHackHandle);}this.inherited(arguments);},setValue:function $DH7_(_567){dojo.deprecated("dijit.form._FormWidget:setValue("+_567+") is deprecated.  Use attr('value',"+_567+") instead.","","2.0");this.attr("value",_567);},getValue:function $DH8_(){dojo.deprecated(this.declaredClass+"::getValue() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_layoutHack:function $DH9_(){if(dojo.isFF==2&&!this._layoutHackHandle){var node=this.domNode;var old=node.style.opacity;node.style.opacity="0.999";this._layoutHackHandle=setTimeout(dojo.hitch(this,function(){this._layoutHackHandle=null;node.style.opacity=old;}),0);}}});dojo.declare("dijit.form._FormValueWidget",dijit.form._FormWidget,{attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{value:""}),postCreate:function $DIA_(){if(dojo.isIE||dojo.isWebKit){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._resetValue=this.value;}},_setValueAttr:function $DIB_(_56a,_56b){this.value=_56a;this._handleOnChange(_56a,_56b);},_getValueAttr:function $DIC_(_56c){return this._lastValue;},undo:function $DID_(){this._setValueAttr(this._lastValueReported,false);},reset:function $DIE_(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function $DIF_(e){if(e.keyCode==dojo.keys.ESCAPE&&!e.ctrlKey&&!e.altKey){var te;if(dojo.isIE){e.preventDefault();te=document.createEventObject();te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}else{if(dojo.isWebKit){te=document.createEvent("Events");te.initEvent("keypress",true,true);te.keyCode=dojo.keys.ESCAPE;te.shiftKey=e.shiftKey;e.target.dispatchEvent(te);}}}}});}if(!dojo._hasResource["dijit.form.TextBox"]){dojo._hasResource["dijit.form.TextBox"]=true;dojo.provide("dijit.form.TextBox");dojo.declare("dijit.form.TextBox",dijit.form._FormValueWidget,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",templateString:"<input class=\"dijit dijitReset dijitLeft\" dojoAttachPoint='textbox,focusNode'\n\tdojoAttachEvent='onmouseenter:_onMouse,onmouseleave:_onMouse'\n\tautocomplete=\"off\" type=\"${type}\" ${nameAttrSetting}\n\t/>\n",baseClass:"dijitTextBox",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{maxLength:"focusNode"}),_getValueAttr:function $DLh_(){return this.parse(this.attr("displayedValue"),this.constraints);},_setValueAttr:function $DLi_(_56f,_570,_571){var _572;if(_56f!==undefined){_572=this.filter(_56f);if(typeof _571!="string"){if(_572!==null&&((typeof _572!="number")||!isNaN(_572))){_571=this.filter(this.format(_572,this.constraints));}else{_571="";}}}if(_571!=null&&_571!=undefined&&((typeof _571)!="number"||!isNaN(_571))&&this.textbox.value!=_571){this.textbox.value=_571;}this.inherited(arguments,[_572,_570]);},displayedValue:"",getDisplayedValue:function $DLj_(){dojo.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use attr('displayedValue') instead.","","2.0");return this.attr("displayedValue");},_getDisplayedValueAttr:function $DLk_(){return this.filter(this.textbox.value);},setDisplayedValue:function $DLl_(_573){dojo.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use attr('displayedValue', ...) instead.","","2.0");this.attr("displayedValue",_573);},_setDisplayedValueAttr:function $DLm_(_574){if(_574===null||_574===undefined){_574="";}else{if(typeof _574!="string"){_574=String(_574);}}this.textbox.value=_574;this._setValueAttr(this.attr("value"),undefined,_574);},format:function $DLn_(_575,_576){return ((_575==null||_575==undefined)?"":(_575.toString?_575.toString():_575));},parse:function $DLo_(_577,_578){return _577;},_refreshState:function $DLp_(){},_onInput:function $DLq_(e){if(e&&e.type&&/key/i.test(e.type)&&e.keyCode){switch(e.keyCode){case dojo.keys.SHIFT:case dojo.keys.ALT:case dojo.keys.CTRL:case dojo.keys.TAB:return;}}if(this.intermediateChanges){var _57a=this;setTimeout(function(){_57a._handleOnChange(_57a.attr("value"),false);},0);}this._refreshState();},postCreate:function $DLr_(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);if(dojo.isMoz||dojo.isOpera){this.connect(this.textbox,"oninput",this._onInput);}else{this.connect(this.textbox,"onkeydown",this._onInput);this.connect(this.textbox,"onkeyup",this._onInput);this.connect(this.textbox,"onpaste",this._onInput);this.connect(this.textbox,"oncut",this._onInput);}this._layoutHack();},_blankValue:"",filter:function $DLs_(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=dojo.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function $DLt_(){this._setValueAttr(this.attr("value"),true);},_onBlur:function $DLu_(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_onFocus:function $DLv_(e){if(this.disabled){return;}this._refreshState();this.inherited(arguments);},reset:function $DLw_(){this.textbox.value="";this.inherited(arguments);}});dijit.selectInputText=function $DLx_(_57f,_580,stop){var _582=dojo.global;var _583=dojo.doc;_57f=dojo.byId(_57f);if(isNaN(_580)){_580=0;}if(isNaN(stop)){stop=_57f.value?_57f.value.length:0;}_57f.focus();if(_583["selection"]&&dojo.body()["createTextRange"]){if(_57f.createTextRange){var _584=_57f.createTextRange();with(_584){collapse(true);moveStart("character",_580);moveEnd("character",stop);select();}}}else{if(_582["getSelection"]){var _585=_582.getSelection();if(_57f.setSelectionRange){_57f.setSelectionRange(_580,stop);}}}};}if(!dojo._hasResource["dijit.Tooltip"]){dojo._hasResource["dijit.Tooltip"]=true;dojo.provide("dijit.Tooltip");dojo.declare("dijit._MasterTooltip",[dijit._Widget,dijit._Templated],{duration:dijit.defaultDuration,templateString:"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\">\n\t<div class=\"dijitTooltipContainer dijitTooltipContents\" dojoAttachPoint=\"containerNode\" waiRole='alert'></div>\n\t<div class=\"dijitTooltipConnector\"></div>\n</div>\n",postCreate:function $DQj_(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);this.fadeIn=dojo.fadeIn({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onShow")});this.fadeOut=dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,"_onHide")});},show:function $DQk_(_586,_587,_588){if(this.aroundNode&&this.aroundNode===_587){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_586;this.domNode.style.top=(this.domNode.offsetTop+1)+"px";var _589={};var ltr=this.isLeftToRight();dojo.forEach((_588&&_588.length)?_588:dijit.Tooltip.defaultPosition,function(pos){switch(pos){case "after":_589[ltr?"BR":"BL"]=ltr?"BL":"BR";break;case "before":_589[ltr?"BL":"BR"]=ltr?"BR":"BL";break;case "below":_589[ltr?"BL":"BR"]=ltr?"TL":"TR";_589[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case "above":default:_589[ltr?"TL":"TR"]=ltr?"BL":"BR";_589[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});var pos=dijit.placeOnScreenAroundElement(this.domNode,_587,_589,dojo.hitch(this,"orient"));dojo.style(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_587;},orient:function $DQl_(node,_58e,_58f){node.className="dijitTooltip "+{"BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_58e+"-"+_58f];},_onShow:function $DQm_(){if(dojo.isIE){this.domNode.style.filter="";}},hide:function $DQn_(_590){if(this._onDeck&&this._onDeck[1]==_590){this._onDeck=null;}else{if(this.aroundNode===_590){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function $DQo_(){this.domNode.style.cssText="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}}});dijit.showTooltip=function $DQ0_(_591,_592,_593){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.show(_591,_592,_593);};dijit.hideTooltip=function $DQ1_(_594){if(!dijit._masterTT){dijit._masterTT=new dijit._MasterTooltip();}return dijit._masterTT.hide(_594);};dojo.declare("dijit.Tooltip",dijit._Widget,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function $DQp_(ids){this._connectNodes=[];this.connectId=dojo.isArrayLike(ids)?ids:[ids];dojo.forEach(this.connectId,function(id){var node=dojo.byId(id);if(node){this._connectNodes.push(node);dojo.forEach(["onMouseEnter","onMouseLeave","onFocus","onBlur"],function(_598){this.connect(node,_598.toLowerCase(),"_"+_598);},this);if(dojo.isIE){node.style.zoom=1;}}},this);},postCreate:function $DQq_(){dojo.addClass(this.domNode,"dijitTooltipData");},_onMouseEnter:function $DQr_(e){this._onHover(e);},_onMouseLeave:function $DQs_(e){this._onUnHover(e);},_onFocus:function $DQt_(e){this._focus=true;this._onHover(e);this.inherited(arguments);},_onBlur:function $DQu_(e){this._focus=false;this._onUnHover(e);this.inherited(arguments);},_onHover:function $DQv_(e){if(!this._showTimer){var _59e=e.target;this._showTimer=setTimeout(dojo.hitch(this,function(){this.open(_59e);}),this.showDelay);}},_onUnHover:function $DQw_(e){if(this._focus){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}this.close();},open:function $DQx_(_5a0){_5a0=_5a0||this._connectNodes[0];if(!_5a0){return;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}dijit.showTooltip(this.label||this.domNode.innerHTML,_5a0,this.position);this._connectNode=_5a0;},close:function $DQy_(){if(this._connectNode){dijit.hideTooltip(this._connectNode);delete this._connectNode;}if(this._showTimer){clearTimeout(this._showTimer);delete this._showTimer;}},uninitialize:function $DQz_(){this.close();}});dijit.Tooltip.defaultPosition=["after","before"];}if(!dojo._hasResource["dijit.form.ValidationTextBox"]){dojo._hasResource["dijit.form.ValidationTextBox"]=true;dojo.provide("dijit.form.ValidationTextBox");dojo.declare("dijit.form.ValidationTextBox",dijit.form.TextBox,{templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" waiRole=\"presentation\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input class=\"dijitReset\" dojoAttachPoint='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${nameAttrSetting} type='${type}'\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",constraints:{},regExp:".*",regExpGen:function $DLy_(_5a1){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function $DLz_(){this.inherited(arguments);this.validate(this._focused);},validator:function $DL0_(_5a2,_5a3){return (new RegExp("^(?:"+this.regExpGen(_5a3)+")"+(this.required?"":"?")+"$")).test(_5a2)&&(!this.required||!this._isEmpty(_5a2))&&(this._isEmpty(_5a2)||this.parse(_5a2,_5a3)!==undefined);},_isValidSubset:function $DL1_(){return this.textbox.value.search(this._partialre)==0;},isValid:function $DL2_(_5a4){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function $DL3_(_5a5){return /^\s*$/.test(_5a5);},getErrorMessage:function $DL4_(_5a6){return this.invalidMessage;},getPromptMessage:function $DL5_(_5a7){return this.promptMessage;},_maskValidSubsetError:true,validate:function $DL6_(_5a8){var _5a9="";var _5aa=this.disabled||this.isValid(_5a8);if(_5aa){this._maskValidSubsetError=true;}var _5ab=!_5aa&&_5a8&&this._isValidSubset();var _5ac=this._isEmpty(this.textbox.value);this.state=(_5aa||(!this._hasBeenBlurred&&_5ac)||_5ab)?"":"Error";if(this.state=="Error"){this._maskValidSubsetError=false;}this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_5aa?"false":"true");if(_5a8){if(_5ac){_5a9=this.getPromptMessage(true);}if(!_5a9&&(this.state=="Error"||(_5ab&&!this._maskValidSubsetError))){_5a9=this.getErrorMessage(true);}}this.displayMessage(_5a9);return _5aa;},_message:"",displayMessage:function $DL7_(_5ad){if(this._message==_5ad){return;}this._message=_5ad;dijit.hideTooltip(this.domNode);if(_5ad){dijit.showTooltip(_5ad,this.domNode,this.tooltipPosition);}},_refreshState:function $DL8_(){this.validate(this._focused);this.inherited(arguments);},constructor:function $DL9_(){this.constraints={};},postMixInProperties:function $DMA_(){this.inherited(arguments);this.constraints.locale=this.lang;this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}var p=this.regExpGen(this.constraints);this.regExp=p;var _5af="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_5af+=re;break;case ")":_5af+="|$)";break;default:_5af+="(?:"+re+"|$)";break;}});}try{"".search(_5af);}catch(e){_5af=this.regExp;console.warn("RegExp error in "+this.declaredClass+": "+this.regExp);}this._partialre="^(?:"+_5af+")$";},_setDisabledAttr:function $DMB_(_5b1){this.inherited(arguments);if(this.valueNode){this.valueNode.disabled=_5b1;}this._refreshState();},_setRequiredAttr:function $DMC_(_5b2){this.required=_5b2;dijit.setWaiState(this.focusNode,"required",_5b2);this._refreshState();},postCreate:function $DMD_(){if(dojo.isIE){var s=dojo.getComputedStyle(this.focusNode);if(s){var ff=s.fontFamily;if(ff){this.focusNode.style.fontFamily=ff;}}}this.inherited(arguments);},reset:function $DME_(){this._maskValidSubsetError=true;this.inherited(arguments);}});dojo.declare("dijit.form.MappedTextBox",dijit.form.ValidationTextBox,{postMixInProperties:function $DMF_(){this.inherited(arguments);this.nameAttrSetting="";},serialize:function $DMG_(val,_5b6){return val.toString?val.toString():"";},toString:function $DMH_(){var val=this.filter(this.attr("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function $DMI_(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function $DMJ_(){this.inherited(arguments);this.valueNode=dojo.create("input",{style:{display:"none"},type:this.type,name:this.name},this.textbox,"after");},_setDisabledAttr:function $DMK_(_5b8){this.inherited(arguments);dojo.attr(this.valueNode,"disabled",_5b8);},reset:function $DML_(){this.valueNode.value="";this.inherited(arguments);}});dojo.declare("dijit.form.RangeBoundTextBox",dijit.form.MappedTextBox,{rangeMessage:"",rangeCheck:function $DMM_(_5b9,_5ba){var _5bb="min" in _5ba;var _5bc="max" in _5ba;if(_5bb||_5bc){return (!_5bb||this.compare(_5b9,_5ba.min)>=0)&&(!_5bc||this.compare(_5b9,_5ba.max)<=0);}return true;},isInRange:function $DMN_(_5bd){return this.rangeCheck(this.attr("value"),this.constraints);},_isDefinitelyOutOfRange:function $DMO_(){var val=this.attr("value");var _5bf=false;var _5c0=false;if("min" in this.constraints){var min=this.constraints.min;val=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_5bf=(typeof val=="number")&&val<0;}if("max" in this.constraints){var max=this.constraints.max;val=this.compare(val,((typeof max!="number")||max>0)?max:0);_5c0=(typeof val=="number")&&val>0;}return _5bf||_5c0;},_isValidSubset:function $DMP_(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function $DMQ_(_5c3){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_5c3));},getErrorMessage:function $DMR_(_5c4){if(dijit.form.RangeBoundTextBox.superclass.isValid.call(this,false)&&!this.isInRange(_5c4)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function $DMS_(){this.inherited(arguments);if(!this.rangeMessage){this.messages=dojo.i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},postCreate:function $DMT_(){this.inherited(arguments);if(this.constraints.min!==undefined){dijit.setWaiState(this.focusNode,"valuemin",this.constraints.min);}if(this.constraints.max!==undefined){dijit.setWaiState(this.focusNode,"valuemax",this.constraints.max);}},_setValueAttr:function $DMU_(_5c5,_5c6){dijit.setWaiState(this.focusNode,"valuenow",_5c5);this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form._DateTimeTextBox"]){dojo._hasResource["dijit.form._DateTimeTextBox"]=true;dojo.provide("dijit.form._DateTimeTextBox");dojo.declare("dijit.form._DateTimeTextBox",dijit.form.RangeBoundTextBox,{regExpGen:dojo.date.locale.regexp,compare:dojo.date.compare,format:function $DHT_(_5c7,_5c8){if(!_5c7){return "";}return dojo.date.locale.format(_5c7,_5c8);},parse:function $DHU_(_5c9,_5ca){return dojo.date.locale.parse(_5c9,_5ca)||(this._isEmpty(_5c9)?null:undefined);},serialize:dojo.date.stamp.toISOString,value:new Date(""),_blankValue:null,popupClass:"",_selector:"",postMixInProperties:function $DHV_(){this.inherited(arguments);if(!this.value||this.value.toString()==dijit.form._DateTimeTextBox.prototype.value.toString()){this.value=null;}var _5cb=this.constraints;_5cb.selector=this._selector;_5cb.fullYear=true;var _5cc=dojo.date.stamp.fromISOString;if(typeof _5cb.min=="string"){_5cb.min=_5cc(_5cb.min);}if(typeof _5cb.max=="string"){_5cb.max=_5cc(_5cb.max);}},_onFocus:function $DHW_(evt){this._open();},_setValueAttr:function $DHX_(_5ce,_5cf,_5d0){this.inherited(arguments);if(this._picker){if(!_5ce){_5ce=new Date();}this._picker.attr("value",_5ce);}},_open:function $DHY_(){if(this.disabled||this.readOnly||!this.popupClass){return;}var _5d1=this;if(!this._picker){var _5d2=dojo.getObject(this.popupClass,false);this._picker=new _5d2({onValueSelected:function $DHZ_(_5d3){if(_5d1._tabbingAway){delete _5d1._tabbingAway;}else{_5d1.focus();}setTimeout(dojo.hitch(_5d1,"_close"),1);dijit.form._DateTimeTextBox.superclass._setValueAttr.call(_5d1,_5d3,true);},lang:_5d1.lang,constraints:_5d1.constraints,isDisabledDate:function $DHa_(date){var _5d5=dojo.date.compare;var _5d6=_5d1.constraints;return _5d6&&(_5d6.min&&(_5d5(_5d6.min,date,"date")>0)||(_5d6.max&&_5d5(_5d6.max,date,"date")<0));}});this._picker.attr("value",this.attr("value")||new Date());}if(!this._opened){dijit.popup.open({parent:this,popup:this._picker,around:this.domNode,onCancel:dojo.hitch(this,this._close),onClose:function $DHb_(){_5d1._opened=false;}});this._opened=true;}dojo.marginBox(this._picker.domNode,{w:this.domNode.offsetWidth});},_close:function $DHc_(){if(this._opened){dijit.popup.close(this._picker);this._opened=false;}},_onBlur:function $DHd_(){this._close();if(this._picker){this._picker.destroy();delete this._picker;}this.inherited(arguments);},_getDisplayedValueAttr:function $DHe_(){return this.textbox.value;},_setDisplayedValueAttr:function $DHf_(_5d7,_5d8){this._setValueAttr(this.parse(_5d7,this.constraints),_5d8,_5d7);},destroy:function $DHg_(){if(this._picker){this._picker.destroy();delete this._picker;}this.inherited(arguments);},postCreate:function $DHh_(){this.inherited(arguments);this.connect(this.focusNode,"onkeypress",this._onKeyPress);},_onKeyPress:function $DHi_(e){var p=this._picker,dk=dojo.keys;if(p&&this._opened&&p.handleKey){if(p.handleKey(e)===false){return;}}if(this._opened&&e.charOrCode==dk.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){this._close();dojo.stopEvent(e);}else{if(!this._opened&&e.charOrCode==dk.DOWN_ARROW){this._open();dojo.stopEvent(e);}else{if(e.charOrCode===dk.TAB){this._tabbingAway=true;}else{if(this._opened&&(e.keyChar||e.charOrCode===dk.BACKSPACE||e.charOrCode==dk.DELETE)){setTimeout(dojo.hitch(this,function(){dijit.placeOnScreenAroundElement(p.domNode.parentNode,this.domNode,{"BL":"TL","TL":"BL"},p.orient?dojo.hitch(p,"orient"):null);}),1);}}}}}});}if(!dojo._hasResource["dijit.form.DateTextBox"]){dojo._hasResource["dijit.form.DateTextBox"]=true;dojo.provide("dijit.form.DateTextBox");dojo.declare("dijit.form.DateTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitDateTextBox",popupClass:"dijit._Calendar",_selector:"date",value:new Date("")});}if(!dojo._hasResource["betterform.ui.input.Date"]){dojo._hasResource["betterform.ui.input.Date"]=true;dojo.provide("betterform.ui.input.Date");dojo.declare("betterform.ui.input.Date",[betterform.ui.ControlValue,dijit.form.DateTextBox],{constructor:function $DA2j_(){this.incremental=true;},postMixInProperties:function $DA2k_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA2l_(){this.inherited(arguments);this.setCurrentValue();},onChange:function $DA2m_(_5dc,_5dd){this.inherited(arguments);if(this.incremental){this.setControlValue();}},_onFocus:function $DA2n_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA2o_(){this.handleOnBlur();this.inherited(arguments);},validate:function $DA2p_(_5de){},getControlValue:function $DA2q_(){var _5df;var _5e0=this.attr("value");if(_5e0==undefined){_5df=this.focusNode.value;}else{_5df=dojo.date.stamp.toISOString(_5e0,this.constraint);}if(_5df.indexOf("T")!=-1){_5df=_5df.split("T")[0];}return _5df;},_handleSetControlValue:function $DA2r_(date){if(date==undefined||date==""){this._setValueAttr("");}else{this._setValueAttr(dojo.date.stamp.fromISOString(date,this.constraint));}},_handleDOMFocusIn:function $DA2s_(){this.focused=true;var _5e2=dijit.byId(this.id);if(_5e2!=undefined){_5e2.focus();}}});}if(!dojo._hasResource["dijit._TimePicker"]){dojo._hasResource["dijit._TimePicker"]=true;dojo.provide("dijit._TimePicker");dojo.declare("dijit._TimePicker",[dijit._Widget,dijit._Templated],{templateString:"<div id=\"widget_${id}\" class=\"dijitMenu ${baseClass}\"\n    ><div dojoAttachPoint=\"upArrow\" class=\"dijitButtonNode dijitUpArrowButton\" dojoAttachEvent=\"onmouseenter:_buttonMouse,onmouseleave:_buttonMouse\"\n\t\t><div class=\"dijitReset dijitInline dijitArrowButtonInner\" wairole=\"presentation\" role=\"presentation\">&nbsp;</div\n\t\t><div class=\"dijitArrowButtonChar\">&#9650;</div></div\n    ><div dojoAttachPoint=\"timeMenu,focusNode\" dojoAttachEvent=\"onclick:_onOptionSelected,onmouseover,onmouseout\"></div\n    ><div dojoAttachPoint=\"downArrow\" class=\"dijitButtonNode dijitDownArrowButton\" dojoAttachEvent=\"onmouseenter:_buttonMouse,onmouseleave:_buttonMouse\"\n\t\t><div class=\"dijitReset dijitInline dijitArrowButtonInner\" wairole=\"presentation\" role=\"presentation\">&nbsp;</div\n\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div></div\n></div>\n",baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date(),_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:dojo.date.stamp.toISOString,_filterString:"",setValue:function $DEd_(_5e3){dojo.deprecated("dijit._TimePicker:setValue() is deprecated.  Use attr('value') instead.","","2.0");this.attr("value",_5e3);},_setValueAttr:function $DEe_(date){this.value=date;this._showText();},onOpen:function $DEf_(best){if(this._beenOpened&&this.domNode.parentNode){var p=dijit.byId(this.domNode.parentNode.dijitPopupParent);if(p){var val=p.getDisplayedValue();if(val&&!p.parse(val,p.constraints)){this._filterString=val;}else{this._filterString="";}this._showText();}}this._beenOpened=true;},isDisabledDate:function $DEg_(_5e8,_5e9){return false;},_getFilteredNodes:function $DEh_(_5ea,_5eb,_5ec){var _5ed=[],n,i=_5ea,max=this._maxIncrement+Math.abs(i),chk=_5ec?-1:1,dec=_5ec?1:0,inc=_5ec?0:1;do{i=i-dec;n=this._createOption(i);if(n){_5ed.push(n);}i=i+inc;}while(_5ed.length<_5eb&&(i*chk)<max);if(_5ec){_5ed.reverse();}return _5ed;},_showText:function $DEi_(){this.timeMenu.innerHTML="";var _5f4=dojo.date.stamp.fromISOString;this._clickableIncrementDate=_5f4(this.clickableIncrement);this._visibleIncrementDate=_5f4(this.visibleIncrement);this._visibleRangeDate=_5f4(this.visibleRange);var _5f5=function(date){return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();};var _5f7=_5f5(this._clickableIncrementDate);var _5f8=_5f5(this._visibleIncrementDate);var _5f9=_5f5(this._visibleRangeDate);var time=this.value.getTime();this._refDate=new Date(time-time%(_5f8*1000));this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._totalIncrements=_5f9/_5f7;this._visibleIncrement=_5f8/_5f7;this._maxIncrement=(60*60*24)/_5f7;var _5fb=this._getFilteredNodes(0,this._totalIncrements>>1,true);var _5fc=this._getFilteredNodes(0,this._totalIncrements>>1,false);if(_5fb.length<this._totalIncrements>>1){_5fb=_5fb.slice(_5fb.length/2);_5fc=_5fc.slice(0,_5fc.length/2);}dojo.forEach(_5fb.concat(_5fc),function(n){this.timeMenu.appendChild(n);},this);},postCreate:function $DEj_(){if(this.constraints===dijit._TimePicker.prototype.constraints){this.constraints={};}dojo.mixin(this,this.constraints);if(!this.constraints.locale){this.constraints.locale=this.lang;}this.connect(this.timeMenu,dojo.isIE?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var _5fe=this;var _5ff=function(){_5fe._connects.push(dijit.typematic.addMouseListener.apply(null,arguments));};_5ff(this.upArrow,this,this._onArrowUp,1,50);_5ff(this.downArrow,this,this._onArrowDown,1,50);var _600=function(cb){return function(cnt){if(cnt>0){cb.call(this,arguments);}};};var _603=function(node,cb){return function(e){dojo.stopEvent(e);dijit.typematic.trigger(e,this,node,_600(cb),node,1,50);};};this.connect(this.upArrow,"onmouseover",_603(this.upArrow,this._onArrowUp));this.connect(this.downArrow,"onmouseover",_603(this.downArrow,this._onArrowDown));this.inherited(arguments);},_buttonMouse:function $DEk_(e){dojo.toggleClass(e.currentTarget,"dijitButtonNodeHover",e.type=="mouseover");},_createOption:function $DEl_(_608){var date=new Date(this._refDate);var _60a=this._clickableIncrementDate;date.setHours(date.getHours()+_60a.getHours()*_608,date.getMinutes()+_60a.getMinutes()*_608,date.getSeconds()+_60a.getSeconds()*_608);var _60b=dojo.date.locale.format(date,this.constraints);if(this._filterString&&_60b.toLowerCase().indexOf(this._filterString)!==0){return null;}var div=dojo.create("div",{"class":this.baseClass+"Item"});div.date=date;div.index=_608;dojo.create("div",{"class":this.baseClass+"ItemInner",innerHTML:_60b},div);if(_608%this._visibleIncrement<1&&_608%this._visibleIncrement>-1){dojo.addClass(div,this.baseClass+"Marker");}else{if(!(_608%this._clickableIncrement)){dojo.addClass(div,this.baseClass+"Tick");}}if(this.isDisabledDate(date)){dojo.addClass(div,this.baseClass+"ItemDisabled");}if(!dojo.date.compare(this.value,date,this.constraints.selector)){div.selected=true;dojo.addClass(div,this.baseClass+"ItemSelected");if(dojo.hasClass(div,this.baseClass+"Marker")){dojo.addClass(div,this.baseClass+"MarkerSelected");}else{dojo.addClass(div,this.baseClass+"TickSelected");}}return div;},_onOptionSelected:function $DEm_(tgt){var _60e=tgt.target.date||tgt.target.parentNode.date;if(!_60e||this.isDisabledDate(_60e)){return;}this._highlighted_option=null;this.attr("value",_60e);this.onValueSelected(_60e);},onValueSelected:function $DEn_(time){},_highlightOption:function $DEo_(node,_611){if(!node){return;}if(_611){if(this._highlighted_option){this._highlightOption(this._highlighted_option,false);}this._highlighted_option=node;}else{if(this._highlighted_option!==node){return;}else{this._highlighted_option=null;}}dojo.toggleClass(node,this.baseClass+"ItemHover",_611);if(dojo.hasClass(node,this.baseClass+"Marker")){dojo.toggleClass(node,this.baseClass+"MarkerHover",_611);}else{dojo.toggleClass(node,this.baseClass+"TickHover",_611);}},onmouseover:function $DEp_(e){var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;if(!dojo.hasClass(tgr,this.baseClass+"Item")){return;}this._highlightOption(tgr,true);},onmouseout:function $DEq_(e){var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;this._highlightOption(tgr,false);},_mouseWheeled:function $DEr_(e){dojo.stopEvent(e);var _617=(dojo.isIE?e.wheelDelta:-e.detail);this[(_617>0?"_onArrowUp":"_onArrowDown")]();},_onArrowUp:function $DEs_(_618){if(typeof _618=="number"&&_618==-1){return;}if(!this.timeMenu.childNodes.length){return;}var _619=this.timeMenu.childNodes[0].index;var divs=this._getFilteredNodes(_619,1,true);if(divs.length){this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);this.timeMenu.insertBefore(divs[0],this.timeMenu.childNodes[0]);}},_onArrowDown:function $DEt_(_61b){if(typeof _61b=="number"&&_61b==-1){return;}if(!this.timeMenu.childNodes.length){return;}var _61c=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].index+1;var divs=this._getFilteredNodes(_61c,1,false);if(divs.length){this.timeMenu.removeChild(this.timeMenu.childNodes[0]);this.timeMenu.appendChild(divs[0]);}},handleKey:function $DEu_(e){var dk=dojo.keys;if(e.keyChar||e.charOrCode===dk.BACKSPACE||e.charOrCode==dk.DELETE){setTimeout(dojo.hitch(this,function(){this._filterString=e.target.value.toLowerCase();this._showText();}),1);}else{if(e.charOrCode==dk.DOWN_ARROW||e.charOrCode==dk.UP_ARROW){dojo.stopEvent(e);if(this._highlighted_option&&!this._highlighted_option.parentNode){this._highlighted_option=null;}var _620=this.timeMenu,tgt=this._highlighted_option||dojo.query("."+this.baseClass+"ItemSelected",_620)[0];if(!tgt){tgt=_620.childNodes[0];}else{if(_620.childNodes.length){if(e.charOrCode==dk.DOWN_ARROW&&!tgt.nextSibling){this._onArrowDown();}else{if(e.charOrCode==dk.UP_ARROW&&!tgt.previousSibling){this._onArrowUp();}}if(e.charOrCode==dk.DOWN_ARROW){tgt=tgt.nextSibling;}else{tgt=tgt.previousSibling;}}}this._highlightOption(tgt,true);}else{if(this._highlighted_option&&(e.charOrCode==dk.ENTER||e.charOrCode===dk.TAB)){if(e.charOrCode==dk.ENTER){dojo.stopEvent(e);}setTimeout(dojo.hitch(this,function(){this._onOptionSelected({target:this._highlighted_option});}),1);}}}}});}if(!dojo._hasResource["dijit.form.TimeTextBox"]){dojo._hasResource["dijit.form.TimeTextBox"]=true;dojo.provide("dijit.form.TimeTextBox");dojo.declare("dijit.form.TimeTextBox",dijit.form._DateTimeTextBox,{baseClass:"dijitTextBox dijitTimeTextBox",popupClass:"dijit._TimePicker",_selector:"time",value:new Date("")});}if(!dojo._hasResource["betterform.ui.input.DateTime"]){dojo._hasResource["betterform.ui.input.DateTime"]=true;dojo.provide("betterform.ui.input.DateTime");dojo.declare("betterform.ui.input.DateTime",betterform.ui.ControlValue,{templateString:"<div class=\"xfDateTimeControl\"\n    ><input\n        type=\"text\" dojoAttachPoint=\"dateFacet\" value=\"\" class=\"xfValue xfDateTextBox\" dojoType=\"dijit.form.DateTextBox\" required=\"true\" style=\"width:100px\"\n    /><input type=\"text\" dojoAttachPoint=\"timeFacet\" value=\"\" class=\"xfValue xfTimeTextBox\" dojoType=\"dijit.form.TimeTextBox\" required=\"true\" style=\"width:100px\"\n            constraints=\"{ timePattern:'HH:mm:ss'}\"\n/></div>\n",id:null,widgetsInTemplate:true,dateDijit:null,timeDijit:null,constraints:null,timezone:null,postMixInProperties:function $DA2t_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA2u_(){this.inherited(arguments);dojo.attr(this.domNode,"value",this.value);this.applyValues(this.value);},_onFocus:function $DA2v_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA2w_(){this.incremental=false;this.handleOnBlur();},applyValues:function $DA2x_(_622){if(_622.indexOf("+")!=-1){this.timezone=_622.substring(_622.indexOf("+"),_622.length);_622=_622.substring(0,_622.indexOf("+"));}if(_622.indexOf("Z")!=-1){this.timezone="Z";_622=_622.substring(0,_622.indexOf("Z"));}var _623;var _624;if(_622!=undefined&&_622!=""){var _625=_622.split("T");_623=dojo.date.stamp.fromISOString(_625[0],this.constraints);_624=dojo.date.stamp.fromISOString("T"+_625[1],this.constraints);}else{_623="";_624="";}if(this.dateDijit==undefined){this.dateDijit=dijit.byId(this.dateFacet.id);if(this.constraints.formatLength!=undefined){this.dateDijit.constraints.formatLength=this.constraints.formatLength;}if(this.constraints.locale!=undefined){this.dateDijit.constraints.locale=this.constraints.locale;}if(this.constraints.datePattern!=undefined){this.dateDijit.constraints.datePattern=this.constraints.datePattern;}this.dateDijit.constraints.selector="date";}this.dateDijit._setValueAttr(_623);if(this.timeDijit==undefined){this.timeDijit=dijit.byId(this.timeFacet.id);if(this.constraints.formatLength!=undefined){this.timeDijit.constraints.formatLength=this.constraints.formatLength;}if(this.constraints.locale!=undefined){this.timeDijit.constraints.locale=this.constraints.locale;}if(this.constraints.timePattern!=undefined){this.timeDijit.constraints.timePattern=this.constraints.timePattern;}this.timeDijit.constraints.selector="time";}this.timeDijit._setValueAttr(_624);this.setCurrentValue(_622);},getControlValue:function $DA2y_(){var _626;var _627=this.dateDijit.attr("value");if(_627==undefined){_626=this.dateDijit.focusNode.value;}else{_626=dojo.date.stamp.toISOString(_627,this.constraints);}if(_626==undefined){_626="";}else{if(_626.length==25&&_626.indexOf("T")==10){_626=_626.substring(0,11);}}var _628=this.timeDijit.textbox.value;if(_628==undefined){_628="";}else{if(_628.length==5&&_628.indexOf(":")==2){_628+=":00";}}if(_628.length==8&&_628.indexOf(":")==2&&this.miliseconds){_628+=".000";}if((_628.length==12||_628.length==8)&&_628.indexOf(":")==2&&this.value.indexOf("Z")!=-1){_628+="Z";}else{if(this.timezone!=undefined){_628+=this.timezone;}}this.value=_626+_628;return this.value;},_handleSetControlValue:function $DA2z_(_629){if(this.miliseconds&&_629.indexOf(".")!=-1){_629=_629.substring(0,_629.indexOf("."));}this.applyValues(_629);},applyState:function $DA20_(){if(this.xfControl.isReadonly()){this.dateDijit.attr("disabled",true);this.timeDijit.attr("disabled",true);}else{this.dateDijit.attr("disabled",false);this.timeDijit.attr("disabled",false);}}});}if(!dojo._hasResource["dijit.form.Button"]){dojo._hasResource["dijit.form.Button"]=true;dojo.provide("dijit.form.Button");dojo.declare("dijit.form.Button",dijit.form._FormWidget,{label:"",showLabel:true,iconClass:"",type:"button",baseClass:"dijitButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\n\t><span class=\"dijitReset dijitRight dijitInline\"\n\t\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\t\tdojoAttachPoint=\"titleNode,focusNode\" \n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\" waiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" \n\t\t\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#10003;</span \n\t\t\t\t></span \n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\" \n\t\t\t\t\tid=\"${id}_label\"  \n\t\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t\t></span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n",attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),_onClick:function $DIN_(e){if(this.disabled||this.readOnly){return false;}this._clicked();return this.onClick(e);},_onButtonClick:function $DIO_(e){if(e.type!="click"&&!(this.type=="submit"||this.type=="reset")){dojo.stopEvent(e);}if(this._onClick(e)===false){e.preventDefault();}else{if(this.type=="submit"&&!this.focusNode.form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _62d=dijit.byNode(node);if(_62d&&typeof _62d._onSubmit=="function"){_62d._onSubmit(e);break;}}}}},_setValueAttr:function $DIP_(_62e){var attr=this.attributeMap.value||"";if(this[attr.node||attr||"domNode"].tagName=="BUTTON"){if(_62e!=this.value){}}},_fillContent:function $DIQ_(_630){if(_630&&!("label" in this.params)){this.attr("label",_630.innerHTML);}},postCreate:function $DIR_(){if(this.showLabel==false){dojo.addClass(this.containerNode,"dijitDisplayNone");}dojo.setSelectable(this.focusNode,false);this.inherited(arguments);},onClick:function $DIS_(e){return true;},_clicked:function $DIT_(e){},setLabel:function $DIU_(_633){dojo.deprecated("dijit.form.Button.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_633);},_setLabelAttr:function $DIV_(_634){this.containerNode.innerHTML=this.label=_634;this._layoutHack();if(this.showLabel==false&&!this.params.title){this.titleNode.title=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});dojo.declare("dijit.form.DropDownButton",[dijit.form.Button,dijit._Container],{baseClass:"dijitDropDownButton",templateString:"<span class=\"dijit dijitReset dijitLeft dijitInline\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse,onclick:_onDropDownClick,onkeydown:_onDropDownKeydown,onblur:_onDropDownBlur,onkeypress:_onKey\"\n\t><span class='dijitReset dijitRight dijitInline'\n\t\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\t\t><button class=\"dijitReset dijitStretch dijitButtonContents\" \n\t\t\t\t${nameAttrSetting} type=\"${type}\" value=\"${value}\"\n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" \n\t\t\t\twaiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t\t\t><span class=\"dijitReset dijitInline\" \n\t\t\t\t\tdojoAttachPoint=\"iconNode\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  \n\t\t\t\t\tdojoAttachPoint=\"containerNode,popupStateNode\" \n\t\t\t\t\tid=\"${id}_label\"\n\t\t\t\t></span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\">&thinsp;</span\n\t\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t\t></button\n\t\t></span\n\t></span\n></span>\n",_fillContent:function $DIW_(){if(this.srcNodeRef){var _635=dojo.query("*",this.srcNodeRef);dijit.form.DropDownButton.superclass._fillContent.call(this,_635[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function $DIX_(){if(this._started){return;}if(!this.dropDown){var _636=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_636);delete this.dropDownContainer;}dijit.popup.prepare(this.dropDown.domNode);this.inherited(arguments);},destroyDescendants:function $DIY_(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}this.inherited(arguments);},_onArrowClick:function $DIZ_(e){if(this.disabled||this.readOnly){return;}this._toggleDropDown();},_onDropDownClick:function $DIa_(e){var _639=dojo.isFF&&dojo.isFF<3&&navigator.appVersion.indexOf("Macintosh")!=-1;if(!_639||e.detail!=0||this._seenKeydown){this._onArrowClick(e);}this._seenKeydown=false;},_onDropDownKeydown:function $DIb_(e){this._seenKeydown=true;},_onDropDownBlur:function $DIc_(e){this._seenKeydown=false;},_onKey:function $DId_(e){if(this.disabled||this.readOnly){return;}if(e.charOrCode==dojo.keys.DOWN_ARROW){if(!this.dropDown||this.dropDown.domNode.style.visibility=="hidden"){dojo.stopEvent(e);this._toggleDropDown();}}},_onBlur:function $DIe_(){this._closeDropDown();this.inherited(arguments);},_toggleDropDown:function $DIf_(){if(this.disabled||this.readOnly){return;}dijit.focus(this.popupStateNode);var _63d=this.dropDown;if(!_63d){return;}if(!this._opened){if(_63d.href&&!_63d.isLoaded){var self=this;var _63f=dojo.connect(_63d,"onLoad",function(){dojo.disconnect(_63f);self._openDropDown();});_63d.refresh();return;}else{this._openDropDown();}}else{this._closeDropDown();}},_openDropDown:function $DIg_(){var _640=this.dropDown;var _641=_640.domNode.style.width;var self=this;dijit.popup.open({parent:this,popup:_640,around:this.domNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function $DIh_(){self._closeDropDown(true);},onCancel:function $DIi_(){self._closeDropDown(true);},onClose:function $DIj_(){_640.domNode.style.width=_641;self.popupStateNode.removeAttribute("popupActive");self._opened=false;}});if(this.domNode.offsetWidth>_640.domNode.offsetWidth){var _643=null;if(!this.isLeftToRight()){_643=_640.domNode.parentNode;var _644=_643.offsetLeft+_643.offsetWidth;}dojo.marginBox(_640.domNode,{w:this.domNode.offsetWidth});if(_643){_643.style.left=_644-this.domNode.offsetWidth+"px";}}this.popupStateNode.setAttribute("popupActive","true");this._opened=true;if(_640.focus){_640.focus();}},_closeDropDown:function $DIk_(_645){if(this._opened){dijit.popup.close(this.dropDown);if(_645){this.focus();}this._opened=false;}}});dojo.declare("dijit.form.ComboButton",dijit.form.DropDownButton,{templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\n\tcellspacing='0' cellpadding='0' waiRole=\"presentation\"\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onButtonClick,onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"  dojoAttachPoint=\"titleNode\"\n\t\t\twaiRole=\"button\" waiState=\"labelledby-${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline\" dojoAttachPoint=\"iconNode\" waiRole=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" dojoAttachPoint=\"containerNode\" waiRole=\"presentation\"></div\n\t\t></td\n\t\t><td class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"popupStateNode,focusNode\"\n\t\t\tdojoAttachEvent=\"ondijitclick:_onArrowClick, onkeypress:_onKey,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\tstateModifier=\"DownArrow\"\n\t\t\ttitle=\"${optionsTitle}\" ${nameAttrSetting}\n\t\t\twaiRole=\"button\" waiState=\"haspopup-true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" waiRole=\"presentation\">&thinsp;</div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n",attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{id:"",tabIndex:["focusNode","titleNode"]}),optionsTitle:"",baseClass:"dijitComboButton",_focusedNode:null,postCreate:function $DIl_(){this.inherited(arguments);this._focalNodes=[this.titleNode,this.popupStateNode];dojo.forEach(this._focalNodes,dojo.hitch(this,function(node){if(dojo.isIE){this.connect(node,"onactivate",this._onNodeFocus);this.connect(node,"ondeactivate",this._onNodeBlur);}else{this.connect(node,"onfocus",this._onNodeFocus);this.connect(node,"onblur",this._onNodeBlur);}}));},focusFocalNode:function $DIm_(node){this._focusedNode=node;dijit.focus(node);},hasNextFocalNode:function $DIn_(){return this._focusedNode!==this.getFocalNodes()[1];},focusNext:function $DIo_(){this._focusedNode=this.getFocalNodes()[this._focusedNode?1:0];dijit.focus(this._focusedNode);},hasPrevFocalNode:function $DIp_(){return this._focusedNode!==this.getFocalNodes()[0];},focusPrev:function $DIq_(){this._focusedNode=this.getFocalNodes()[this._focusedNode?0:1];dijit.focus(this._focusedNode);},getFocalNodes:function $DIr_(){return this._focalNodes;},_onNodeFocus:function $DIs_(evt){this._focusedNode=evt.currentTarget;var fnc=this._focusedNode==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.addClass(this._focusedNode,fnc);},_onNodeBlur:function $DIt_(evt){var fnc=evt.currentTarget==this.focusNode?"dijitDownArrowButtonFocused":"dijitButtonContentsFocused";dojo.removeClass(evt.currentTarget,fnc);},_onBlur:function $DIu_(){this.inherited(arguments);this._focusedNode=null;}});dojo.declare("dijit.form.ToggleButton",dijit.form.Button,{baseClass:"dijitToggleButton",checked:false,attributeMap:dojo.mixin(dojo.clone(dijit.form.Button.prototype.attributeMap),{checked:"focusNode"}),_clicked:function $DIv_(evt){this.attr("checked",!this.checked);},_setCheckedAttr:function $DIw_(_64d){this.checked=_64d;dojo.attr(this.focusNode||this.domNode,"checked",_64d);dijit.setWaiState(this.focusNode||this.domNode,"pressed",_64d);this._setStateClass();this._handleOnChange(_64d,true);},setChecked:function $DIx_(_64e){dojo.deprecated("setChecked("+_64e+") is deprecated. Use attr('checked',"+_64e+") instead.","","2.0");this.attr("checked",_64e);},reset:function $DIy_(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);}});}if(!dojo._hasResource["dijit.form.CheckBox"]){dojo._hasResource["dijit.form.CheckBox"]=true;dojo.provide("dijit.form.CheckBox");dojo.declare("dijit.form.CheckBox",dijit.form.ToggleButton,{templateString:"<div class=\"dijitReset dijitInline\" waiRole=\"presentation\"\n\t><input\n\t \t${nameAttrSetting} type=\"${type}\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdojoAttachPoint=\"focusNode\"\n\t \tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick\"\n/></div>\n",baseClass:"dijitCheckBox",type:"checkbox",value:"on",_setValueAttr:function $DIz_(_64f){if(typeof _64f=="string"){this.value=_64f;dojo.attr(this.focusNode,"value",_64f);_64f=true;}if(this._created){this.attr("checked",_64f);}},_getValueAttr:function $DI0_(){return (this.checked?this.value:false);},postMixInProperties:function $DI1_(){if(this.value==""){this.value="on";}this.checkedAttrSetting=this.checked?"checked":"";this.inherited(arguments);},_fillContent:function $DI2_(_650){},reset:function $DI3_(){this._hasBeenBlurred=false;this.attr("checked",this.params.checked||false);this.value=this.params.value||"on";dojo.attr(this.focusNode,"value",this.value);},_onFocus:function $DI4_(){if(this.id){dojo.query("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}},_onBlur:function $DI5_(){if(this.id){dojo.query("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}}});dojo.declare("dijit.form.RadioButton",dijit.form.CheckBox,{type:"radio",baseClass:"dijitRadio",_setCheckedAttr:function $DI6_(_651){this.inherited(arguments);if(!this._created){return;}if(_651){var _652=this;dojo.query("INPUT[type=radio]",this.focusNode.form||dojo.doc).forEach(function(_653){if(_653.name==_652.name&&_653!=_652.focusNode&&_653.form==_652.focusNode.form){var _654=dijit.getEnclosingWidget(_653);if(_654&&_654.checked){_654.attr("checked",false);}}});}},_clicked:function $DI7_(e){if(!this.checked){this.attr("checked",true);}}});}if(!dojo._hasResource["betterform.ui.input.Boolean"]){dojo._hasResource["betterform.ui.input.Boolean"]=true;dojo.provide("betterform.ui.input.Boolean");dojo.declare("betterform.ui.input.Boolean",[betterform.ui.ControlValue,dijit.form.CheckBox],{postMixInProperties:function $DA2a_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA2b_(){this.inherited(arguments);this.setCurrentValue();},onClick:function $DA2c_(){this.inherited(arguments);this.setControlValue();},_onFocus:function $DA2d_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA2e_(){this.inherited(arguments);this.handleOnBlur();},_handleSetControlValue:function $DA2f_(_656){if(_656=="true"||_656=="false"){this.attr("checked",eval(_656));}},getControlValue:function $DA2g_(){var _657=this.attr("checked");var _658;if(_657=="true"||_657==true){_658=true;}else{if(_657=="false"||_657==false){_658=false;}}if(_658==undefined){var _659=this.attr("value");if(_659=="true"||_659==true){_658=true;}else{if(_659=="false"||_659==false){_658=false;}}}if(_658!=undefined&&_658){return true;}else{return false;}},setTextValue:function $DA2h_(_65a){this.xfControl.setControlValue(this.checked);},getTextValue:function $DA2i_(){return this.checked;}});}if(!dojo._hasResource["betterform.ui.input.TextField"]){dojo._hasResource["betterform.ui.input.TextField"]=true;dojo.provide("betterform.ui.input.TextField");dojo.declare("betterform.ui.input.TextField",[betterform.ui.ControlValue,dijit.form.TextBox],{intermediateChanges:true,postMixInProperties:function $DA21_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA22_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DA23_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA24_(){this.inherited(arguments);this.handleOnBlur();},onChange:function $DA25_(_65b,_65c){this.inherited(arguments);if(this.incremental){this.setControlValue();}},getControlValue:function $DA26_(){return this._getValueAttr();},_handleSetControlValue:function $DA27_(_65d){this.focusNode.value=_65d;this.attr("displayedValue",_65d);},setTextValue:function $DA28_(_65e){this.setControlValue(this.getControlValue());},applyState:function $DA29_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"readonly","readonly");}else{if(dojo.hasAttr(this.domNode,"readonly")){dojo.removeAttr(this.domNode,"readonly");}else{if(dojo.hasAttr(this.domNode,"disabled")){dojo.removeAttr(this.domNode,"disabled");}}}},getTextValue:function $DA3A_(){return this.getControlValue();}});}if(!dojo._hasResource["betterform.ui.output.Link"]){dojo._hasResource["betterform.ui.output.Link"]=true;dojo.provide("betterform.ui.output.Link");dojo.declare("betterform.ui.output.Link",[betterform.ui.ControlValue],{href:"",label:null,templateString:"<span><a href=\"${href}\" target=\"_blank\" dojoAttachPoint=\"containerNode\"></a></span>",postMixInProperties:function $DA3O_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA3P_(){this.label=dojo.byId(this.xfControl.id+"-label");if(this.label!=undefined){this.containerNode.innerHTML=this.label.innerHTML;this.label.innerHTML="";}},_onFocus:function $DA3Q_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA3R_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA3S_(){return this.containerNode.innerHTML;},applyState:function $DA3T_(){},_handleSetControlValue:function $DA3U_(_65f){dojo.attr(this.containerNode,"href",_65f);if(_65f.indexOf("/")>0){_65f=_65f.substring(_65f.lastIndexOf("/")+1,_65f.length);}if(_65f.indexOf(".")>0){_65f=_65f.substring(0,_65f.lastIndexOf("."));}this.containerNode.innerHTML=_65f;},_setLabel:function $DA3V_(_660){if(this.containerNode.innerHTML==""){var _661=document.createTextNode(_660);dojo.place(_661,this.containerNode);}else{this.containerNode.innerHTML=_660;}}});}if(!dojo._hasResource["betterform.ui.output.Image"]){dojo._hasResource["betterform.ui.output.Image"]=true;dojo.provide("betterform.ui.output.Image");dojo.declare("betterform.ui.output.Image",betterform.ui.ControlValue,{src:"",alt:"",templateString:"<img src=\"${src}\" alt=\"${alt}\" class=\"xfValue\"/>",postMixInProperties:function $DA3I_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},_onFocus:function $DA3J_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA3K_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA3L_(){return dojo.attr(this.domNode,"src");},_handleSetControlValue:function $DA3M_(_662){dojo.attr(this.domNode,"src",_662);},applyState:function $DA3N_(){}});}if(!dojo._hasResource["betterform.ui.output.Html"]){dojo._hasResource["betterform.ui.output.Html"]=true;dojo.provide("betterform.ui.output.Html");dojo.declare("betterform.ui.output.Html",betterform.ui.ControlValue,{templateString:"<span id=\"${id}\" dojoAttachPoint=\"containerNode\"></span>",postMixInProperties:function $DA3B_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA3C_(){this.containerNode.innerHTML=this.value;},_onFocus:function $DA3D_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA3E_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA3F_(){return this.containerNode.innerHTML;},applyState:function $DA3G_(){},_handleSetControlValue:function $DA3H_(_663){this.containerNode.innerHTML=_663;}});}if(!dojo._hasResource["dojox.highlight._base"]){dojo._hasResource["dojox.highlight._base"]=true;dojo.provide("dojox.highlight._base");(function(){var dh=dojox.highlight,_665="\\b(0x[A-Za-z0-9]+|\\d+(\\.\\d+)?)";dh.constants={IDENT_RE:"[a-zA-Z][a-zA-Z0-9_]*",UNDERSCORE_IDENT_RE:"[a-zA-Z_][a-zA-Z0-9_]*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:_665,APOS_STRING_MODE:{className:"string",begin:"'",end:"'",illegal:"\\n",contains:["escape"],relevance:0},QUOTE_STRING_MODE:{className:"string",begin:"\"",end:"\"",illegal:"\\n",contains:["escape"],relevance:0},BACKSLASH_ESCAPE:{className:"escape",begin:"\\\\.",end:"^",relevance:0},C_LINE_COMMENT_MODE:{className:"comment",begin:"//",end:"$",relevance:0},C_BLOCK_COMMENT_MODE:{className:"comment",begin:"/\\*",end:"\\*/"},HASH_COMMENT_MODE:{className:"comment",begin:"#",end:"$"},C_NUMBER_MODE:{className:"number",begin:_665,end:"^",relevance:0}};function esc(_667){return _667.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;");};function _668(_669){return dojo.every(_669.childNodes,function(node){return node.nodeType==3||String(node.nodeName).toLowerCase()=="br";});};function _66b(_66c){var _66d=[];dojo.forEach(_66c.childNodes,function(node){if(node.nodeType==3){_66d.push(node.nodeValue);}else{if(String(node.nodeName).toLowerCase()=="br"){_66d.push("\n");}else{throw "Complex markup";}}});return _66d.join("");};function _66f(mode){if(!mode.keywordGroups){for(var key in mode.keywords){var kw=mode.keywords[key];if(kw instanceof Object){mode.keywordGroups=mode.keywords;}else{mode.keywordGroups={keyword:mode.keywords};}break;}}};function _673(lang){if(lang.defaultMode&&lang.modes){_66f(lang.defaultMode);dojo.forEach(lang.modes,_66f);}};var _675=function(_676,_677){this.langName=_676;this.lang=dh.languages[_676];this.modes=[this.lang.defaultMode];this.relevance=0;this.keywordCount=0;this.result=[];if(!this.lang.defaultMode.illegalRe){this.buildRes();_673(this.lang);}try{this.highlight(_677);this.result=this.result.join("");}catch(e){if(e=="Illegal"){this.relevance=0;this.keywordCount=0;this.partialResult=this.result.join("");this.result=esc(_677);}else{throw e;}}};dojo.extend(_675,{buildRes:function $DAW2_(){dojo.forEach(this.lang.modes,function(mode){if(mode.begin){mode.beginRe=this.langRe("^"+mode.begin);}if(mode.end){mode.endRe=this.langRe("^"+mode.end);}if(mode.illegal){mode.illegalRe=this.langRe("^(?:"+mode.illegal+")");}},this);this.lang.defaultMode.illegalRe=this.langRe("^(?:"+this.lang.defaultMode.illegal+")");},subMode:function $DAW3_(_679){var _67a=this.modes[this.modes.length-1].contains;if(_67a){var _67b=this.lang.modes;for(var i=0;i<_67a.length;++i){var _67d=_67a[i];for(var j=0;j<_67b.length;++j){var mode=_67b[j];if(mode.className==_67d&&mode.beginRe.test(_679)){return mode;}}}}return null;},endOfMode:function $DAW4_(_680){for(var i=this.modes.length-1;i>=0;--i){var mode=this.modes[i];if(mode.end&&mode.endRe.test(_680)){return this.modes.length-i;}if(!mode.endsWithParent){break;}}return 0;},isIllegal:function $DAW5_(_683){var _684=this.modes[this.modes.length-1].illegalRe;return _684&&_684.test(_683);},langRe:function $DAW6_(_685,_686){var mode="m"+(this.lang.case_insensitive?"i":"")+(_686?"g":"");return new RegExp(_685,mode);},buildTerminators:function $DAW7_(){var mode=this.modes[this.modes.length-1],_689={};if(mode.contains){dojo.forEach(this.lang.modes,function(_68a){if(dojo.indexOf(mode.contains,_68a.className)>=0){_689[_68a.begin]=1;}});}for(var i=this.modes.length-1;i>=0;--i){var m=this.modes[i];if(m.end){_689[m.end]=1;}if(!m.endsWithParent){break;}}if(mode.illegal){_689[mode.illegal]=1;}var t=[];for(i in _689){t.push(i);}mode.terminatorsRe=this.langRe("("+t.join("|")+")");},eatModeChunk:function $DAW8_(_68e,_68f){var mode=this.modes[this.modes.length-1];if(!mode.terminatorsRe){this.buildTerminators();}_68e=_68e.substr(_68f);var _691=mode.terminatorsRe.exec(_68e);if(!_691){return {buffer:_68e,lexeme:"",end:true};}return {buffer:_691.index?_68e.substr(0,_691.index):"",lexeme:_691[0],end:false};},keywordMatch:function $DAW9_(mode,_693){var _694=_693[0];if(this.lang.case_insensitive){_694=_694.toLowerCase();}for(var _695 in mode.keywordGroups){if(_694 in mode.keywordGroups[_695]){return _695;}}return "";},buildLexemes:function $DAXA_(mode){var _697={};dojo.forEach(mode.lexems,function(_698){_697[_698]=1;});var t=[];for(var i in _697){t.push(i);}mode.lexemsRe=this.langRe("("+t.join("|")+")",true);},processKeywords:function $DAXB_(_69b){var mode=this.modes[this.modes.length-1];if(!mode.keywords||!mode.lexems){return esc(_69b);}if(!mode.lexemsRe){this.buildLexemes(mode);}mode.lexemsRe.lastIndex=0;var _69d=[],_69e=0,_69f=mode.lexemsRe.exec(_69b);while(_69f){_69d.push(esc(_69b.substr(_69e,_69f.index-_69e)));var _6a0=this.keywordMatch(mode,_69f);if(_6a0){++this.keywordCount;_69d.push("<span class=\""+_6a0+"\">"+esc(_69f[0])+"</span>");}else{_69d.push(esc(_69f[0]));}_69e=mode.lexemsRe.lastIndex;_69f=mode.lexemsRe.exec(_69b);}_69d.push(esc(_69b.substr(_69e,_69b.length-_69e)));return _69d.join("");},processModeInfo:function $DAXC_(_6a1,_6a2,end){var mode=this.modes[this.modes.length-1];if(end){this.result.push(this.processKeywords(mode.buffer+_6a1));return;}if(this.isIllegal(_6a2)){throw "Illegal";}var _6a5=this.subMode(_6a2);if(_6a5){mode.buffer+=_6a1;this.result.push(this.processKeywords(mode.buffer));if(_6a5.excludeBegin){this.result.push(_6a2+"<span class=\""+_6a5.className+"\">");_6a5.buffer="";}else{this.result.push("<span class=\""+_6a5.className+"\">");_6a5.buffer=_6a2;}this.modes.push(_6a5);this.relevance+=typeof _6a5.relevance=="number"?_6a5.relevance:1;return;}var _6a6=this.endOfMode(_6a2);if(_6a6){mode.buffer+=_6a1;if(mode.excludeEnd){this.result.push(this.processKeywords(mode.buffer)+"</span>"+_6a2);}else{this.result.push(this.processKeywords(mode.buffer+_6a2)+"</span>");}while(_6a6>1){this.result.push("</span>");--_6a6;this.modes.pop();}this.modes.pop();this.modes[this.modes.length-1].buffer="";return;}},highlight:function $DAXD_(_6a7){var _6a8=0;this.lang.defaultMode.buffer="";do{var _6a9=this.eatModeChunk(_6a7,_6a8);this.processModeInfo(_6a9.buffer,_6a9.lexeme,_6a9.end);_6a8+=_6a9.buffer.length+_6a9.lexeme.length;}while(!_6a9.end);if(this.modes.length>1){throw "Illegal";}}});function _6aa(node,_6ac,text){if(String(node.tagName).toLowerCase()=="code"&&String(node.parentNode.tagName).toLowerCase()=="pre"){var _6ae=document.createElement("div"),_6af=node.parentNode.parentNode;_6ae.innerHTML="<pre><code class=\""+_6ac+"\">"+text+"</code></pre>";_6af.replaceChild(_6ae.firstChild,node.parentNode);}else{node.className=_6ac;node.innerHTML=text;}};function _6b0(lang,str){var _6b3=new _675(lang,str);return {result:_6b3.result,langName:lang,partialResult:_6b3.partialResult};};function _6b4(_6b5,lang){var _6b7=_6b0(lang,_66b(_6b5));_6aa(_6b5,_6b5.className,_6b7.result);};function _6b8(str){var _6ba="",_6bb="",_6bc=2,_6bd=str;for(var key in dh.languages){if(!dh.languages[key].defaultMode){continue;}var _6bf=new _675(key,_6bd),_6c0=_6bf.keywordCount+_6bf.relevance,_6c1=0;if(!_6ba||_6c0>_6c1){_6c1=_6c0;_6ba=_6bf.result;_6bb=_6bf.langName;}}return {result:_6ba,langName:_6bb};};function _6c2(_6c3){var _6c4=_6b8(_66b(_6c3));if(_6c4.result){_6aa(_6c3,_6c4.langName,_6c4.result);}};dojox.highlight.processString=function $DAXE_(str,lang){return lang?_6b0(lang,str):_6b8(str);};dojox.highlight.init=function $DAXF_(node){node=dojo.byId(node);if(dojo.hasClass(node,"no-highlight")){return;}if(!_668(node)){return;}var _6c8=node.className.split(/\s+/),flag=dojo.some(_6c8,function(_6ca){if(_6ca.charAt(0)!="_"&&dh.languages[_6ca]){_6b4(node,_6ca);return true;}return false;});if(!flag){_6c2(node);}};dh.Code=function $DAXH_(p,n){dh.init(n);};})();}if(!dojo._hasResource["dojox.highlight"]){dojo._hasResource["dojox.highlight"]=true;dojo.provide("dojox.highlight");}if(!dojo._hasResource["dojox.highlight.languages.xml"]){dojo._hasResource["dojox.highlight.languages.xml"]=true;dojo.provide("dojox.highlight.languages.xml");(function(){var _6cd={className:"comment",begin:"<!--",end:"-->"};var _6ce={className:"attribute",begin:" [a-zA-Z-]+=",end:"^",contains:["value"]};var _6cf={className:"value",begin:"\"",end:"\""};var dh=dojox.highlight,dhc=dh.constants;dh.languages.xml={defaultMode:{contains:["pi","comment","cdata","tag"]},case_insensitive:true,modes:[{className:"pi",begin:"<\\?",end:"\\?>",relevance:10},_6cd,{className:"cdata",begin:"<\\!\\[CDATA\\[",end:"\\]\\]>"},{className:"tag",begin:"</?",end:">",contains:["title","tag_internal"],relevance:1.5},{className:"title",begin:"[A-Za-z:_][A-Za-z0-9\\._:-]+",end:"^",relevance:0},{className:"tag_internal",begin:"^",endsWithParent:true,contains:["attribute"],relevance:0,illegal:"[\\+\\.]"},_6ce,_6cf],XML_COMMENT:_6cd,XML_ATTR:_6ce,XML_VALUE:_6cf};})();}if(!dojo._hasResource["betterform.ui.output.SourceCode"]){dojo._hasResource["betterform.ui.output.SourceCode"]=true;dojo.provide("betterform.ui.output.SourceCode");dojo.declare("betterform.ui.output.SourceCode",betterform.ui.output.Html,{postCreate:function $DA3d_(){this.containerNode.innerHTML=this.value;this.load_css("/betterform/resources/scripts/dojox/highlight/resources/highlight.css");this.load_css("/betterform/resources/scripts/dojox/highlight/resources/pygments/pastie.css");this.highlight();},_handleSetControlValue:function $DA3e_(_6d2){this.inherited(arguments);this.containerNode.innerHTML=_6d2;this.highlight();},highlight:function $DA3f_(){dojo.query("code",this.containerNode).forEach(dojox.highlight.init);},load_css:function $DA3g_(_6d3){var _6d4=document.createElement("link");_6d4.href=_6d3;_6d4.rel="stylesheet";_6d4.type="text/css";document.body.appendChild(_6d4);}});}if(!dojo._hasResource["betterform.ui.output.Plain"]){dojo._hasResource["betterform.ui.output.Plain"]=true;dojo.provide("betterform.ui.output.Plain");dojo.declare("betterform.ui.output.Plain",betterform.ui.ControlValue,{id:"",value:"",templateString:"<span id=\"${id}\" dojoAttachPoint=\"containerNode\"></span>",postMixInProperties:function $DA3W_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA3X_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DA3Y_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA3Z_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA3a_(){return this.containerNode.innerHTML;},_handleSetControlValue:function $DA3b_(_6d5){this.containerNode.innerHTML=_6d5;},applyState:function $DA3c_(){}});}if(!dojo._hasResource["dojox.form.Rating"]){dojo._hasResource["dojox.form.Rating"]=true;dojo.provide("dojox.form.Rating");dojo.declare("dojox.form.Rating",dijit.form._FormWidget,{templateString:null,numStars:3,value:0,constructor:function $D2v_(_6d6){dojo.mixin(this,_6d6);var tpl="<div dojoAttachPoint=\"domNode\" class=\"dojoxRating dijitInline\">"+"<input type=\"hidden\" value=\"0\" dojoAttachPoint=\"focusNode\" /><ul>${stars}</ul>"+"</div>";var _6d8="<li class=\"dojoxRatingStar dijitInline\" dojoAttachEvent=\"onclick:onStarClick,onmouseover:_onMouse,onmouseout:_onMouse\" value=\"${value}\"></li>";var _6d9="";for(var i=0;i<this.numStars;i++){_6d9+=dojo.string.substitute(_6d8,{value:i+1});}this.templateString=dojo.string.substitute(tpl,{stars:_6d9});},postCreate:function $D2w_(){this.inherited(arguments);this._renderStars(this.value);},_onMouse:function $D2x_(evt){this.inherited(arguments);if(this._hovering){var _6dc=+dojo.attr(evt.target,"value");this.onMouseOver(evt,_6dc);this._renderStars(_6dc,true);}else{this._renderStars(this.value);}},_renderStars:function $D2y_(_6dd,_6de){dojo.query(".dojoxRatingStar",this.domNode).forEach(function(star,i){if(i+1>_6dd){dojo.removeClass(star,"dojoxRatingStarHover");dojo.removeClass(star,"dojoxRatingStarChecked");}else{dojo.removeClass(star,"dojoxRatingStar"+(_6de?"Checked":"Hover"));dojo.addClass(star,"dojoxRatingStar"+(_6de?"Hover":"Checked"));}});},onStarClick:function $D2z_(evt){var _6e2=+dojo.attr(evt.target,"value");this.setAttribute("value",_6e2==this.value?0:_6e2);this._renderStars(this.value);this.onChange(this.value);},onMouseOver:function $D20_(){},setAttribute:function $D21_(key,_6e4){this.inherited("setAttribute",arguments);if(key=="value"){this._renderStars(this.value);this.onChange(this.value);}}});}if(!dojo._hasResource["betterform.ui.range.Rating"]){dojo._hasResource["betterform.ui.range.Rating"]=true;dojo.provide("betterform.ui.range.Rating");dojo.declare("betterform.ui.range.Rating",[betterform.ui.ControlValue,dojox.form.Rating],{postMixInProperties:function $DA3h_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA3i_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DA3j_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA3k_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA3l_(){return this.attr("value");},onStarClick:function $DA3m_(evt){this.inherited(arguments);if(this.incremental){this.setControlValue();}},_handleSetControlValue:function $DA3n_(_6e6){this.setAttribute("value",_6e6);}});}if(!dojo._hasResource["dojo.dnd.common"]){dojo._hasResource["dojo.dnd.common"]=true;dojo.provide("dojo.dnd.common");dojo.dnd._isMac=navigator.appVersion.indexOf("Macintosh")>=0;dojo.dnd._copyKey=dojo.dnd._isMac?"metaKey":"ctrlKey";dojo.dnd.getCopyKeyState=function $DBFd_(e){return e[dojo.dnd._copyKey];};dojo.dnd._uniqueId=0;dojo.dnd.getUniqueId=function $DBFe_(){var id;do{id=dojo._scopeName+"Unique"+(++dojo.dnd._uniqueId);}while(dojo.byId(id));return id;};dojo.dnd._empty={};dojo.dnd.isFormElement=function $DBFf_(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};dojo.dnd._lmb=dojo.isIE?1:0;dojo.dnd._isLmbPressed=dojo.isIE?function(e){return e.button&1;}:function(e){return e.button===0;};}if(!dojo._hasResource["dojo.dnd.autoscroll"]){dojo._hasResource["dojo.dnd.autoscroll"]=true;dojo.provide("dojo.dnd.autoscroll");dojo.dnd.getViewport=function $DBFV_(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){return {w:dd.clientWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){return {w:w.innerWidth,h:w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){return {w:dd.clientWidth,h:dd.clientHeight};}else{if(b.clientWidth){return {w:b.clientWidth,h:b.clientHeight};}}}}return null;};dojo.dnd.V_TRIGGER_AUTOSCROLL=32;dojo.dnd.H_TRIGGER_AUTOSCROLL=32;dojo.dnd.V_AUTOSCROLL_VALUE=16;dojo.dnd.H_AUTOSCROLL_VALUE=16;dojo.dnd.autoScroll=function $DBFW_(e){var v=dojo.dnd.getViewport(),dx=0,dy=0;if(e.clientX<dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=-dojo.dnd.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-dojo.dnd.H_TRIGGER_AUTOSCROLL){dx=dojo.dnd.H_AUTOSCROLL_VALUE;}}if(e.clientY<dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=-dojo.dnd.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-dojo.dnd.V_TRIGGER_AUTOSCROLL){dy=dojo.dnd.V_AUTOSCROLL_VALUE;}}window.scrollBy(dx,dy);};dojo.dnd._validNodes={"div":1,"p":1,"td":1};dojo.dnd._validOverflow={"auto":1,"scroll":1};dojo.dnd.autoScrollNodes=function $DBFX_(e){for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in dojo.dnd._validNodes)){var s=dojo.getComputedStyle(n);if(s.overflow.toLowerCase() in dojo.dnd._validOverflow){var b=dojo._getContentBox(n,s),t=dojo._abs(n,true);var w=Math.min(dojo.dnd.H_TRIGGER_AUTOSCROLL,b.w/2),h=Math.min(dojo.dnd.V_TRIGGER_AUTOSCROLL,b.h/2),rx=e.pageX-t.x,ry=e.pageY-t.y,dx=0,dy=0;if(dojo.isWebKit||dojo.isOpera){rx+=dojo.body().scrollLeft,ry+=dojo.body().scrollTop;}if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}}if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}}var _700=n.scrollLeft,_701=n.scrollTop;n.scrollLeft=n.scrollLeft+dx;n.scrollTop=n.scrollTop+dy;if(_700!=n.scrollLeft||_701!=n.scrollTop){return;}}}try{n=n.parentNode;}catch(x){n=null;}}dojo.dnd.autoScroll(e);};}if(!dojo._hasResource["dojo.dnd.Mover"]){dojo._hasResource["dojo.dnd.Mover"]=true;dojo.provide("dojo.dnd.Mover");dojo.declare("dojo.dnd.Mover",null,{constructor:function $DBGp_(node,e,host){this.node=dojo.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=this.host=host,d=node.ownerDocument,_707=dojo.connect(d,"onmousemove",this,"onFirstMove");this.events=[dojo.connect(d,"onmousemove",this,"onMouseMove"),dojo.connect(d,"onmouseup",this,"onMouseUp"),dojo.connect(d,"ondragstart",dojo.stopEvent),dojo.connect(d.body,"onselectstart",dojo.stopEvent),_707];if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function $DBGq_(e){dojo.dnd.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY});dojo.stopEvent(e);},onMouseUp:function $DBGr_(e){if(dojo.isWebKit&&dojo.dnd._isMac&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}dojo.stopEvent(e);},onFirstMove:function $DBGs_(){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left));t=Math.round(parseFloat(s.top));break;default:s.position="absolute";var m=dojo.marginBox(this.node);var b=dojo.doc.body;var bs=dojo.getComputedStyle(b);var bm=dojo._getMarginBox(b,bs);var bc=dojo._getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this);}dojo.disconnect(this.events.pop());},destroy:function $DBGt_(){dojo.forEach(this.events,dojo.disconnect);var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});}if(!dojo._hasResource["dojo.dnd.Moveable"]){dojo._hasResource["dojo.dnd.Moveable"]=true;dojo.provide("dojo.dnd.Moveable");dojo.declare("dojo.dnd.Moveable",null,{handle:"",delay:0,skip:false,constructor:function $DBGb_(node,_716){this.node=dojo.byId(node);if(!_716){_716={};}this.handle=_716.handle?dojo.byId(_716.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_716.delay>0?_716.delay:0;this.skip=_716.skip;this.mover=_716.mover?_716.mover:dojo.dnd.Mover;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown"),dojo.connect(this.handle,"ondragstart",this,"onSelectStart"),dojo.connect(this.handle,"onselectstart",this,"onSelectStart")];},markupFactory:function $DBGc_(_717,node){return new dojo.dnd.Moveable(node,_717);},destroy:function $DBGd_(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=this.handle=null;},onMouseDown:function $DBGe_(e){if(this.skip&&dojo.dnd.isFormElement(e)){return;}if(this.delay){this.events.push(dojo.connect(this.handle,"onmousemove",this,"onMouseMove"),dojo.connect(this.handle,"onmouseup",this,"onMouseUp"));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}dojo.stopEvent(e);},onMouseMove:function $DBGf_(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}dojo.stopEvent(e);},onMouseUp:function $DBGg_(e){for(var i=0;i<2;++i){dojo.disconnect(this.events.pop());}dojo.stopEvent(e);},onSelectStart:function $DBGh_(e){if(!this.skip||!dojo.dnd.isFormElement(e)){dojo.stopEvent(e);}},onDragDetected:function $DBGi_(e){new this.mover(this.node,e,this);},onMoveStart:function $DBGj_(_71f){dojo.publish("/dnd/move/start",[_71f]);dojo.addClass(dojo.body(),"dojoMove");dojo.addClass(this.node,"dojoMoveItem");},onMoveStop:function $DBGk_(_720){dojo.publish("/dnd/move/stop",[_720]);dojo.removeClass(dojo.body(),"dojoMove");dojo.removeClass(this.node,"dojoMoveItem");},onFirstMove:function $DBGl_(_721){},onMove:function $DBGm_(_722,_723){this.onMoving(_722,_723);var s=_722.node.style;s.left=_723.l+"px";s.top=_723.t+"px";this.onMoved(_722,_723);},onMoving:function $DBGn_(_725,_726){},onMoved:function $DBGo_(_727,_728){}});}if(!dojo._hasResource["dojo.dnd.move"]){dojo._hasResource["dojo.dnd.move"]=true;dojo.provide("dojo.dnd.move");dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function $DBGL_(){},within:false,markupFactory:function $DBGM_(_729,node){return new dojo.dnd.move.constrainedMoveable(node,_729);},constructor:function $DBGN_(node,_72c){if(!_72c){_72c={};}this.constraints=_72c.constraints;this.within=_72c.within;},onFirstMove:function $DBGO_(_72d){var c=this.constraintBox=this.constraints.call(this,_72d);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo.marginBox(_72d.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function $DBGP_(_730,_731){var c=this.constraintBox,s=_730.node.style;s.left=(_731.l<c.l?c.l:c.r<_731.l?c.r:_731.l)+"px";s.top=(_731.t<c.t?c.t:c.b<_731.t?c.b:_731.t)+"px";}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},markupFactory:function $DBGQ_(_734,node){return new dojo.dnd.move.boxConstrainedMoveable(node,_734);},constructor:function $DBGR_(node,_737){var box=_737&&_737.box;this.constraints=function $DBGW_(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",markupFactory:function $DBGS_(_739,node){return new dojo.dnd.move.parentConstrainedMoveable(node,_739);},constructor:function $DBGT_(node,_73c){var area=_73c&&_73c.area;this.constraints=function $DBGX_(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.move.constrainedMover=function $DBGY_(fun,_743){dojo.deprecated("dojo.dnd.move.constrainedMover, use dojo.dnd.move.constrainedMoveable instead");var _744=function(node,e,_747){dojo.dnd.Mover.call(this,node,e,_747);};dojo.extend(_744,dojo.dnd.Mover.prototype);dojo.extend(_744,{onMouseMove:function $DBGU_(e){dojo.dnd.autoScroll(e);var m=this.marginBox,c=this.constraintBox,l=m.l+e.pageX,t=m.t+e.pageY;l=l<c.l?c.l:c.r<l?c.r:l;t=t<c.t?c.t:c.b<t?c.b:t;this.host.onMove(this,{l:l,t:t});},onFirstMove:function $DBGV_(){dojo.dnd.Mover.prototype.onFirstMove.call(this);var c=this.constraintBox=fun.call(this);c.r=c.l+c.w;c.b=c.t+c.h;if(_743){var mb=dojo.marginBox(this.node);c.r-=mb.w;c.b-=mb.h;}}});return _744;};dojo.dnd.move.boxConstrainedMover=function $DBGZ_(box,_750){dojo.deprecated("dojo.dnd.move.boxConstrainedMover, use dojo.dnd.move.boxConstrainedMoveable instead");return dojo.dnd.move.constrainedMover(function(){return box;},_750);};dojo.dnd.move.parentConstrainedMover=function $DBGa_(area,_752){dojo.deprecated("dojo.dnd.move.parentConstrainedMover, use dojo.dnd.move.parentConstrainedMoveable instead");var fun=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};return dojo.dnd.move.constrainedMover(fun,_752);};dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;}if(!dojo._hasResource["dojo.number"]){dojo._hasResource["dojo.number"]=true;dojo.provide("dojo.number");dojo.number.format=function $DBJg_(_758,_759){_759=dojo.mixin({},_759||{});var _75a=dojo.i18n.normalizeLocale(_759.locale);var _75b=dojo.i18n.getLocalization("dojo.cldr","number",_75a);_759.customs=_75b;var _75c=_759.pattern||_75b[(_759.type||"decimal")+"Format"];if(isNaN(_758)||Math.abs(_758)==Infinity){return null;}return dojo.number._applyPattern(_758,_75c,_759);};dojo.number._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;dojo.number._applyPattern=function $DBJh_(_75d,_75e,_75f){_75f=_75f||{};var _760=_75f.customs.group;var _761=_75f.customs.decimal;var _762=_75e.split(";");var _763=_762[0];_75e=_762[(_75d<0)?1:0]||("-"+_763);if(_75e.indexOf("%")!=-1){_75d*=100;}else{if(_75e.indexOf("")!=-1){_75d*=1000;}else{if(_75e.indexOf("")!=-1){_760=_75f.customs.currencyGroup||_760;_761=_75f.customs.currencyDecimal||_761;_75e=_75e.replace(/\u00a4{1,3}/,function(_764){var prop=["symbol","currency","displayName"][_764.length-1];return _75f[prop]||_75f.currency||"";});}else{if(_75e.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _766=dojo.number._numberPatternRE;var _767=_763.match(_766);if(!_767){throw new Error("unable to find a number expression in pattern: "+_75e);}if(_75f.fractional===false){_75f.places=0;}return _75e.replace(_766,dojo.number._formatAbsolute(_75d,_767[0],{decimal:_761,group:_760,places:_75f.places,round:_75f.round}));};dojo.number.round=function $DBJi_(_768,_769,_76a){var _76b=10/(_76a||10);return (_76b*+_768).toFixed(_769)/_76b;};if((0.9).toFixed()==0){(function(){var _76c=dojo.number.round;dojo.number.round=function $DBJj_(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d||a*Math.pow(10,p+1)<5){d=0;}return _76c(v,p,m)+(v>0?d:-d);};})();}dojo.number._formatAbsolute=function $DBJl_(_772,_773,_774){_774=_774||{};if(_774.places===true){_774.places=0;}if(_774.places===Infinity){_774.places=6;}var _775=_773.split(".");var _776=(_774.places>=0)?_774.places:(_775[1]&&_775[1].length)||0;if(!(_774.round<0)){_772=dojo.number.round(_772,_776,_774.round);}var _777=String(Math.abs(_772)).split(".");var _778=_777[1]||"";if(_774.places){var _779=dojo.isString(_774.places)&&_774.places.indexOf(",");if(_779){_774.places=_774.places.substring(_779+1);}_777[1]=dojo.string.pad(_778.substr(0,_774.places),_774.places,"0",true);}else{if(_775[1]&&_774.places!==0){var pad=_775[1].lastIndexOf("0")+1;if(pad>_778.length){_777[1]=dojo.string.pad(_778,pad,"0",true);}var _77b=_775[1].length;if(_77b<_778.length){_777[1]=_778.substr(0,_77b);}}else{if(_777[1]){_777.pop();}}}var _77c=_775[0].replace(",","");pad=_77c.indexOf("0");if(pad!=-1){pad=_77c.length-pad;if(pad>_777[0].length){_777[0]=dojo.string.pad(_777[0],pad);}if(_77c.indexOf("#")==-1){_777[0]=_777[0].substr(_777[0].length-pad);}}var _77d=_775[0].lastIndexOf(",");var _77e,_77f;if(_77d!=-1){_77e=_775[0].length-_77d-1;var _780=_775[0].substr(0,_77d);_77d=_780.lastIndexOf(",");if(_77d!=-1){_77f=_780.length-_77d-1;}}var _781=[];for(var _782=_777[0];_782;){var off=_782.length-_77e;_781.push((off>0)?_782.substr(off):_782);_782=(off>0)?_782.slice(0,off):"";if(_77f){_77e=_77f;delete _77f;}}_777[0]=_781.reverse().join(_774.group||",");return _777.join(_774.decimal||".");};dojo.number.regexp=function $DBJn_(_784){return dojo.number._parseInfo(_784).regexp;};dojo.number._parseInfo=function $DBJo_(_785){_785=_785||{};var _786=dojo.i18n.normalizeLocale(_785.locale);var _787=dojo.i18n.getLocalization("dojo.cldr","number",_786);var _788=_785.pattern||_787[(_785.type||"decimal")+"Format"];var _789=_787.group;var _78a=_787.decimal;var _78b=1;if(_788.indexOf("%")!=-1){_78b/=100;}else{if(_788.indexOf("")!=-1){_78b/=1000;}else{var _78c=_788.indexOf("")!=-1;if(_78c){_789=_787.currencyGroup||_789;_78a=_787.currencyDecimal||_78a;}}}var _78d=_788.split(";");if(_78d.length==1){_78d.push("-"+_78d[0]);}var re=dojo.regexp.buildGroupRE(_78d,function(_78f){_78f="(?:"+dojo.regexp.escapeString(_78f,".")+")";return _78f.replace(dojo.number._numberPatternRE,function(_790){var _791={signed:false,separator:_785.strict?_789:[_789,""],fractional:_785.fractional,decimal:_78a,exponent:false};var _792=_790.split(".");var _793=_785.places;if(_792.length==1||_793===0){_791.fractional=false;}else{if(_793===undefined){_793=_785.pattern?_792[1].lastIndexOf("0")+1:Infinity;}if(_793&&_785.fractional==undefined){_791.fractional=true;}if(!_785.places&&(_793<_792[1].length)){_793+=","+_792[1].length;}_791.places=_793;}var _794=_792[0].split(",");if(_794.length>1){_791.groupSize=_794.pop().length;if(_794.length>1){_791.groupSize2=_794.pop().length;}}return "("+dojo.number._realNumberRegexp(_791)+")";});},true);if(_78c){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_795,_796,_797,_798){var prop=["symbol","currency","displayName"][_797.length-1];var _79a=dojo.regexp.escapeString(_785[prop]||_785.currency||"");_796=_796?"[\\s\\xa0]":"";_798=_798?"[\\s\\xa0]":"";if(!_785.strict){if(_796){_796+="*";}if(_798){_798+="*";}return "(?:"+_796+_79a+_798+")?";}return _796+_79a+_798;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_789,decimal:_78a,factor:_78b};};dojo.number.parse=function $DBJq_(_79b,_79c){var info=dojo.number._parseInfo(_79c);var _79e=(new RegExp("^"+info.regexp+"$")).exec(_79b);if(!_79e){return NaN;}var _79f=_79e[1];if(!_79e[1]){if(!_79e[2]){return NaN;}_79f=_79e[2];info.factor*=-1;}_79f=_79f.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _79f*info.factor;};dojo.number._realNumberRegexp=function $DBJs_(_7a0){_7a0=_7a0||{};if(!("places" in _7a0)){_7a0.places=Infinity;}if(typeof _7a0.decimal!="string"){_7a0.decimal=".";}if(!("fractional" in _7a0)||/^0/.test(_7a0.places)){_7a0.fractional=[true,false];}if(!("exponent" in _7a0)){_7a0.exponent=[true,false];}if(!("eSigned" in _7a0)){_7a0.eSigned=[true,false];}var _7a1=dojo.number._integerRegexp(_7a0);var _7a2=dojo.regexp.buildGroupRE(_7a0.fractional,function(q){var re="";if(q&&(_7a0.places!==0)){re="\\"+_7a0.decimal;if(_7a0.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_7a0.places+"}";}}return re;},true);var _7a5=dojo.regexp.buildGroupRE(_7a0.exponent,function(q){if(q){return "([eE]"+dojo.number._integerRegexp({signed:_7a0.eSigned})+")";}return "";});var _7a7=_7a1+_7a2;if(_7a2){_7a7="(?:(?:"+_7a7+")|(?:"+_7a2+"))";}return _7a7+_7a5;};dojo.number._integerRegexp=function $DBJu_(_7a8){_7a8=_7a8||{};if(!("signed" in _7a8)){_7a8.signed=[true,false];}if(!("separator" in _7a8)){_7a8.separator="";}else{if(!("groupSize" in _7a8)){_7a8.groupSize=3;}}var _7a9=dojo.regexp.buildGroupRE(_7a8.signed,function(q){return q?"[-+]":"";},true);var _7ab=dojo.regexp.buildGroupRE(_7a8.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=dojo.regexp.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_7a8.groupSize,grp2=_7a8.groupSize2;if(grp2){var _7af="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_7af+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_7af;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _7a9+_7ab;};}if(!dojo._hasResource["dijit.form.HorizontalSlider"]){dojo._hasResource["dijit.form.HorizontalSlider"]=true;dojo.provide("dijit.form.HorizontalSlider");dojo.declare("dijit.form.HorizontalSlider",[dijit.form._FormValueWidget,dijit._Container],{templateString:"<table class=\"dijit dijitReset dijitSlider\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"containerNode,topDecoration\" class=\"dijitReset\" style=\"text-align:center;width:100%;\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\"\n\t\t\t><div class=\"dijitSliderDecrementIconH\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper dijitSliderLeftBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" ${nameAttrSetting}\n\t\t\t/><div class=\"dijitReset dijitSliderBarContainerH\" waiRole=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable dijitSliderMoveableH\" \n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleH\" dojoAttachEvent=\"onmousedown:_onHandleClick\" waiRole=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH\" dojoAttachEvent=\"onmousedown:_onBarClick\"></div\n\t\t\t></div\n\t\t></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper dijitSliderRightBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div\n\t\t></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH\" style=\"right:0px;\"\n\t\t\t><div class=\"dijitSliderIncrementIconH\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t\t><td dojoAttachPoint=\"containerNode,bottomDecoration\" class=\"dijitReset\" style=\"text-align:center;\"></td\n\t\t><td class=\"dijitReset\" colspan=\"2\"></td\n\t></tr\n></table>\n",value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:dijit.defaultDuration,widgetsInTemplate:true,attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{id:""}),baseClass:"dijitSlider",_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_startingPixelCount:"l",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyPress:function $DKq_(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey){return;}switch(e.charOrCode){case dojo.keys.HOME:this._setValueAttr(this.minimum,true);break;case dojo.keys.END:this._setValueAttr(this.maximum,true);break;case ((this._descending||this.isLeftToRight())?dojo.keys.RIGHT_ARROW:dojo.keys.LEFT_ARROW):case (this._descending===false?dojo.keys.DOWN_ARROW:dojo.keys.UP_ARROW):case (this._descending===false?dojo.keys.PAGE_DOWN:dojo.keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?dojo.keys.LEFT_ARROW:dojo.keys.RIGHT_ARROW):case (this._descending===false?dojo.keys.UP_ARROW:dojo.keys.DOWN_ARROW):case (this._descending===false?dojo.keys.PAGE_UP:dojo.keys.PAGE_DOWN):this.decrement(e);break;default:return;}dojo.stopEvent(e);},_onHandleClick:function $DKr_(e){if(this.disabled||this.readOnly){return;}if(!dojo.isIE){dijit.focus(this.sliderHandle);}dojo.stopEvent(e);},_isReversed:function $DKs_(){return !this.isLeftToRight();},_onBarClick:function $DKt_(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}dijit.focus(this.sliderHandle);dojo.stopEvent(e);var _7b3=dojo.coords(this.sliderBarContainer,true);var _7b4=e[this._mousePixelCoord]-_7b3[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_7b3[this._pixelCount]-_7b4):_7b4,_7b3[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function $DKu_(_7b5,_7b6,_7b7){if(this.disabled||this.readOnly){return;}_7b5=_7b5<0?0:_7b6<_7b5?_7b6:_7b5;var _7b8=this.discreteValues;if(_7b8<=1||_7b8==Infinity){_7b8=_7b6;}_7b8--;var _7b9=_7b6/_7b8;var _7ba=Math.round(_7b5/_7b9);this._setValueAttr((this.maximum-this.minimum)*_7ba/_7b8+this.minimum,_7b7);},_setValueAttr:function $DKv_(_7bb,_7bc){this.valueNode.value=this.value=_7bb;dijit.setWaiState(this.focusNode,"valuenow",_7bb);this.inherited(arguments);var _7bd=(_7bb-this.minimum)/(this.maximum-this.minimum);var _7be=(this._descending===false)?this.remainingBar:this.progressBar;var _7bf=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_7bc&&this.slideDuration>0&&_7be.style[this._progressPixelSize]){var _7c0=this;var _7c1={};var _7c2=parseFloat(_7be.style[this._progressPixelSize]);var _7c3=this.slideDuration*(_7bd-_7c2/100);if(_7c3==0){return;}if(_7c3<0){_7c3=0-_7c3;}_7c1[this._progressPixelSize]={start:_7c2,end:_7bd*100,units:"%"};this._inProgressAnim=dojo.animateProperty({node:_7be,duration:_7c3,onAnimate:function $DKw_(v){_7bf.style[_7c0._progressPixelSize]=(100-parseFloat(v[_7c0._progressPixelSize]))+"%";},onEnd:function $DKx_(){delete _7c0._inProgressAnim;},properties:_7c1});this._inProgressAnim.play();}else{_7be.style[this._progressPixelSize]=(_7bd*100)+"%";_7bf.style[this._progressPixelSize]=((1-_7bd)*100)+"%";}},_bumpValue:function $DKy_(_7c5){if(this.disabled||this.readOnly){return;}var s=dojo.getComputedStyle(this.sliderBarContainer);var c=dojo._getContentBox(this.sliderBarContainer,s);var _7c8=this.discreteValues;if(_7c8<=1||_7c8==Infinity){_7c8=c[this._pixelCount];}_7c8--;var _7c9=(this.value-this.minimum)*_7c8/(this.maximum-this.minimum)+_7c5;if(_7c9<0){_7c9=0;}if(_7c9>_7c8){_7c9=_7c8;}_7c9=_7c9*(this.maximum-this.minimum)/_7c8+this.minimum;this._setValueAttr(_7c9,true);},_onClkBumper:function $DKz_(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function $DK0_(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function $DK1_(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function $DK2_(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function $DK3_(e){this._bumpValue(e.charOrCode==dojo.keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function $DK4_(evt){dojo.stopEvent(evt);var _7ce=!dojo.isMozilla;var _7cf=evt[(_7ce?"wheelDelta":"detail")]*(_7ce?1:-1);this[(_7cf<0?"decrement":"increment")](evt);},startup:function $DK5_(){dojo.forEach(this.getChildren(),function(_7d0){if(this[_7d0.container]!=this.containerNode){this[_7d0.container].appendChild(_7d0.domNode);}},this);},_typematicCallback:function $DK6_(_7d1,_7d2,e){if(_7d1==-1){return;}this[(_7d2==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);},postCreate:function $DK7_(){if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";this._connects.push(dijit.typematic.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(dijit.typematic.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,!dojo.isMozilla?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var _7d4=this;var _7d5=function(){dijit.form._SliderMover.apply(this,arguments);this.widget=_7d4;};dojo.extend(_7d5,dijit.form._SliderMover.prototype);this._movable=new dojo.dnd.Moveable(this.sliderHandle,{mover:_7d5});var _7d6=dojo.query("label[for=\""+this.id+"\"]");if(_7d6.length){_7d6[0].id=(this.id+"_label");dijit.setWaiState(this.focusNode,"labelledby",_7d6[0].id);}dijit.setWaiState(this.focusNode,"valuemin",this.minimum);dijit.setWaiState(this.focusNode,"valuemax",this.maximum);this.inherited(arguments);},destroy:function $DK8_(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this.inherited(arguments);}});dojo.declare("dijit.form._SliderMover",dojo.dnd.Mover,{onMouseMove:function $DK9_(e){var _7d8=this.widget;var _7d9=_7d8._abspos;if(!_7d9){_7d9=_7d8._abspos=dojo.coords(_7d8.sliderBarContainer,true);_7d8._setPixelValue_=dojo.hitch(_7d8,"_setPixelValue");_7d8._isReversed_=_7d8._isReversed();}var _7da=e[_7d8._mousePixelCoord]-_7d9[_7d8._startingPixelCoord];_7d8._setPixelValue_(_7d8._isReversed_?(_7d9[_7d8._pixelCount]-_7da):_7da,_7d9[_7d8._pixelCount],false);},destroy:function $DLA_(e){dojo.dnd.Mover.prototype.destroy.apply(this,arguments);var _7dc=this.widget;_7dc._abspos=null;_7dc._setValueAttr(_7dc.value,true);}});}if(!dojo._hasResource["dijit.form.VerticalSlider"]){dojo._hasResource["dijit.form.VerticalSlider"]=true;dojo.provide("dijit.form.VerticalSlider");dojo.declare("dijit.form.VerticalSlider",dijit.form.HorizontalSlider,{templateString:"<table class=\"dijitReset dijitSlider\" cellspacing=\"0\" cellpadding=\"0\" border=\"0\" rules=\"none\" dojoAttachEvent=\"onkeypress:_onKeyPress\"\n><tbody class=\"dijitReset\"\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV\"\n\t\t\t><div class=\"dijitSliderIncrementIconV\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"decrementButton\"><span class=\"dijitSliderButtonInner\">+</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><center><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderTopBumper dijitSliderTopBumper\" dojoAttachEvent=\"onmousedown:_onClkIncBumper\"></div></center\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td dojoAttachPoint=\"leftDecoration\" class=\"dijitReset\" style=\"text-align:center;height:100%;\"></td\n\t\t><td class=\"dijitReset\" style=\"height:100%;\"\n\t\t\t><input dojoAttachPoint=\"valueNode\" type=\"hidden\" ${nameAttrSetting}\n\t\t\t/><center class=\"dijitReset dijitSliderBarContainerV\" waiRole=\"presentation\" dojoAttachPoint=\"sliderBarContainer\"\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"remainingBar\" class=\"dijitSliderBar dijitSliderBarV dijitSliderRemainingBar dijitSliderRemainingBarV\" dojoAttachEvent=\"onmousedown:_onBarClick\"><!--#5629--></div\n\t\t\t\t><div waiRole=\"presentation\" dojoAttachPoint=\"progressBar\" class=\"dijitSliderBar dijitSliderBarV dijitSliderProgressBar dijitSliderProgressBarV\" dojoAttachEvent=\"onmousedown:_onBarClick\"\n\t\t\t\t\t><div class=\"dijitSliderMoveable\" style=\"vertical-align:top;\" \n\t\t\t\t\t\t><div dojoAttachPoint=\"sliderHandle,focusNode\" class=\"dijitSliderImageHandle dijitSliderImageHandleV\" dojoAttachEvent=\"onmousedown:_onHandleClick\" waiRole=\"slider\" valuemin=\"${minimum}\" valuemax=\"${maximum}\"></div\n\t\t\t\t\t></div\n\t\t\t\t></div\n\t\t\t></center\n\t\t></td\n\t\t><td dojoAttachPoint=\"containerNode,rightDecoration\" class=\"dijitReset\" style=\"text-align:center;height:100%;\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset\"\n\t\t\t><center><div class=\"dijitSliderBar dijitSliderBumper dijitSliderBumperV dijitSliderBottomBumper dijitSliderBottomBumper\" dojoAttachEvent=\"onmousedown:_onClkDecBumper\"></div></center\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n\t><tr class=\"dijitReset\"\n\t\t><td class=\"dijitReset\"></td\n\t\t><td class=\"dijitReset dijitSliderButtonContainer dijitSliderButtonContainerV\"\n\t\t\t><div class=\"dijitSliderDecrementIconV\" tabIndex=\"-1\" style=\"display:none\" dojoAttachPoint=\"incrementButton\"><span class=\"dijitSliderButtonInner\">-</span></div\n\t\t></td\n\t\t><td class=\"dijitReset\"></td\n\t></tr\n></tbody></table>\n",_mousePixelCoord:"pageY",_pixelCount:"h",_startingPixelCoord:"y",_startingPixelCount:"t",_handleOffsetCoord:"top",_progressPixelSize:"height",_descending:true,startup:function $DMY_(){if(this._started){return;}if(!this.isLeftToRight()&&dojo.isMoz){if(this.leftDecoration){this._rtlRectify(this.leftDecoration);}if(this.rightDecoration){this._rtlRectify(this.rightDecoration);}}this.inherited(arguments);},_isReversed:function $DMZ_(){return this._descending;},_rtlRectify:function $DMa_(_7dd){var _7de=[];while(_7dd.firstChild){_7de.push(_7dd.firstChild);_7dd.removeChild(_7dd.firstChild);}for(var i=_7de.length-1;i>=0;i--){if(_7de[i]){_7dd.appendChild(_7de[i]);}}}});}if(!dojo._hasResource["dijit.form.HorizontalRule"]){dojo._hasResource["dijit.form.HorizontalRule"]=true;dojo.provide("dijit.form.HorizontalRule");dojo.declare("dijit.form.HorizontalRule",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH\"></div>",count:3,container:"containerNode",ruleStyle:"",_positionPrefix:"<div class=\"dijitRuleMark dijitRuleMarkH\" style=\"left:",_positionSuffix:"%;",_suffix:"\"></div>",_genHTML:function $DKk_(pos,ndx){return this._positionPrefix+pos+this._positionSuffix+this.ruleStyle+this._suffix;},_isHorizontal:true,postCreate:function $DKl_(){var _7e2;if(this.count==1){_7e2=this._genHTML(50,0);}else{var i;var _7e4=100/(this.count-1);if(!this._isHorizontal||this.isLeftToRight()){_7e2=this._genHTML(0,0);for(i=1;i<this.count-1;i++){_7e2+=this._genHTML(_7e4*i,i);}_7e2+=this._genHTML(100,this.count-1);}else{_7e2=this._genHTML(100,0);for(i=1;i<this.count-1;i++){_7e2+=this._genHTML(100-_7e4*i,i);}_7e2+=this._genHTML(0,this.count-1);}}this.domNode.innerHTML=_7e2;}});}if(!dojo._hasResource["dijit.form.VerticalRule"]){dojo._hasResource["dijit.form.VerticalRule"]=true;dojo.provide("dijit.form.VerticalRule");dojo.declare("dijit.form.VerticalRule",dijit.form.HorizontalRule,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerV\"></div>",_positionPrefix:"<div class=\"dijitRuleMark dijitRuleMarkV\" style=\"top:",_isHorizontal:false});}if(!dojo._hasResource["dijit.form.HorizontalRuleLabels"]){dojo._hasResource["dijit.form.HorizontalRuleLabels"]=true;dojo.provide("dijit.form.HorizontalRuleLabels");dojo.declare("dijit.form.HorizontalRuleLabels",dijit.form.HorizontalRule,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerH dijitRuleLabelsContainer dijitRuleLabelsContainerH\"></div>",labelStyle:"",labels:[],numericMargin:0,minimum:0,maximum:1,constraints:{pattern:"#%"},_positionPrefix:"<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerH\" style=\"left:",_labelPrefix:"\"><span class=\"dijitRuleLabel dijitRuleLabelH\">",_suffix:"</span></div>",_calcPosition:function $DKm_(pos){return pos;},_genHTML:function $DKn_(pos,ndx){return this._positionPrefix+this._calcPosition(pos)+this._positionSuffix+this.labelStyle+this._labelPrefix+this.labels[ndx]+this._suffix;},getLabels:function $DKo_(){var _7e8=this.labels;if(!_7e8.length){_7e8=dojo.query("> li",this.srcNodeRef).map(function(node){return String(node.innerHTML);});}this.srcNodeRef.innerHTML="";if(!_7e8.length&&this.count>1){var _7ea=this.minimum;var inc=(this.maximum-_7ea)/(this.count-1);for(var i=0;i<this.count;i++){_7e8.push((i<this.numericMargin||i>=(this.count-this.numericMargin))?"":dojo.number.format(_7ea,this.constraints));_7ea+=inc;}}return _7e8;},postMixInProperties:function $DKp_(){this.inherited(arguments);this.labels=this.getLabels();this.count=this.labels.length;}});}if(!dojo._hasResource["dijit.form.VerticalRuleLabels"]){dojo._hasResource["dijit.form.VerticalRuleLabels"]=true;dojo.provide("dijit.form.VerticalRuleLabels");dojo.declare("dijit.form.VerticalRuleLabels",dijit.form.HorizontalRuleLabels,{templateString:"<div class=\"dijitRuleContainer dijitRuleContainerV dijitRuleLabelsContainer dijitRuleLabelsContainerV\"></div>",_positionPrefix:"<div class=\"dijitRuleLabelContainer dijitRuleLabelContainerV\" style=\"top:",_labelPrefix:"\"><span class=\"dijitRuleLabel dijitRuleLabelV\">",_calcPosition:function $DMX_(pos){return 100-pos;},_isHorizontal:false});}if(!dojo._hasResource["dijit.form.Slider"]){dojo._hasResource["dijit.form.Slider"]=true;dojo.provide("dijit.form.Slider");dojo.deprecated("Call require() for HorizontalSlider / VerticalRule, explicitly rather than 'dijit.form.Slider' itself","","2.0");}if(!dojo._hasResource["betterform.ui.range.Slider"]){dojo._hasResource["betterform.ui.range.Slider"]=true;dojo.provide("betterform.ui.range.Slider");dojo.declare("betterform.ui.range.Slider",[betterform.ui.ControlValue,dijit.form.HorizontalSlider],{start:null,end:null,step:null,postMixInProperties:function $DA3o_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);this.start=eval(dojo.attr(this.srcNodeRef,"start"));this.step=eval(dojo.attr(this.srcNodeRef,"step"));this.end=eval(dojo.attr(this.srcNodeRef,"end"));},postCreate:function $DA3p_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DA3q_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA3r_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA3s_(){return this.valueNode.value;},_setValueAttr:function $DA3t_(_7ee,_7ef){if(this.incremental&&this.valueNode.value!=_7ee&&this.valueNode.value!=""&&this.valueNode.value!="NaN"){this.valueNode.value=_7ee;this.setControlValue();}this.inherited(arguments);},_handleSetControlValue:function $DA3u_(_7f0){_7f0=eval(_7f0);if(_7f0!=undefined&&_7f0!=""&&_7f0!="NaN"){if(_7f0>this.end){this._setValueAttr(this.end);}else{if(_7f0<this.start){this._setValueAttr(this.start);}else{this._setValueAttr(_7f0);}}}}});}if(!dojo._hasResource["betterform.ui.secret.Secret"]){dojo._hasResource["betterform.ui.secret.Secret"]=true;dojo.provide("betterform.ui.secret.Secret");dojo.declare("betterform.ui.secret.Secret",[betterform.ui.ControlValue,betterform.ui.input.TextField],{type:"password"});}if(!dojo._hasResource["dijit.form.ComboBox"]){dojo._hasResource["dijit.form.ComboBox"]=true;dojo.provide("dijit.form.ComboBox");dojo.declare("dijit.form.ComboBoxMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,hasDownArrow:true,templateString:"<div class=\"dijit dijitReset dijitInlineTable dijitLeft\"\n\tid=\"widget_${id}\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\" dojoAttachPoint=\"comboNode\" waiRole=\"combobox\" tabIndex=\"-1\"\n\t><div style=\"overflow:hidden;\"\n\t\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton'\n\t\t\tdojoAttachPoint=\"downArrowNode\" waiRole=\"presentation\"\n\t\t\tdojoAttachEvent=\"onmousedown:_onArrowMouseDown,onmouseup:_onMouse,onmouseenter:_onMouse,onmouseleave:_onMouse\"\n\t\t\t><div class=\"dijitArrowButtonInner\">&thinsp;</div\n\t\t\t><div class=\"dijitArrowButtonChar\">&#9660;</div\n\t\t></div\n\t\t><div class=\"dijitReset dijitValidationIcon\"><br></div\n\t\t><div class=\"dijitReset dijitValidationIconText\">&Chi;</div\n\t\t><div class=\"dijitReset dijitInputField\"\n\t\t\t><input ${nameAttrSetting} type=\"text\" autocomplete=\"off\" class='dijitReset'\n\t\t\tdojoAttachEvent=\"onkeypress:_onKeyPress,compositionend\"\n\t\t\tdojoAttachPoint=\"textbox,focusNode\" waiRole=\"textbox\" waiState=\"haspopup-true,autocomplete-list\"\n\t\t/></div\n\t></div\n></div>\n",baseClass:"dijitComboBox",_getCaretPos:function $DI8_(_7f1){var pos=0;if(typeof (_7f1.selectionStart)=="number"){pos=_7f1.selectionStart;}else{if(dojo.isIE){var tr=dojo.doc.selection.createRange().duplicate();var ntr=_7f1.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function $DI9_(_7f5,_7f6){_7f6=parseInt(_7f6);dijit.selectInputText(_7f5,_7f6,_7f6);},_setDisabledAttr:function $DJA_(_7f7){this.inherited(arguments);dijit.setWaiState(this.comboNode,"disabled",_7f7);},_onKeyPress:function $DJB_(evt){var key=evt.charOrCode;if(evt.altKey||(evt.ctrlKey&&(key!="x"&&key!="v"))||evt.key==dojo.keys.SHIFT){return;}var _7fa=false;var pw=this._popupWidget;var dk=dojo.keys;var _7fd=null;if(this._isShowingNow){pw.handleKey(key);_7fd=pw.getHighlightedOption();}switch(key){case dk.PAGE_DOWN:case dk.DOWN_ARROW:if(!this._isShowingNow||this._prev_key_esc){this._arrowPressed();_7fa=true;}else{if(_7fd){this._announceOption(_7fd);}}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.PAGE_UP:case dk.UP_ARROW:if(this._isShowingNow){this._announceOption(_7fd);}dojo.stopEvent(evt);this._prev_key_backspace=false;this._prev_key_esc=false;break;case dk.ENTER:if(_7fd){if(_7fd==pw.nextButton){this._nextSearch(1);dojo.stopEvent(evt);break;}else{if(_7fd==pw.previousButton){this._nextSearch(-1);dojo.stopEvent(evt);break;}}}else{this._setDisplayedValueAttr(this.attr("displayedValue"),true);}evt.preventDefault();case dk.TAB:var _7fe=this.attr("displayedValue");if(pw&&(_7fe==pw._messages["previousMessage"]||_7fe==pw._messages["nextMessage"])){break;}if(this._isShowingNow){this._prev_key_backspace=false;this._prev_key_esc=false;if(_7fd){pw.attr("value",{target:_7fd});}this._lastQuery=null;this._hideResultList();}break;case " ":this._prev_key_backspace=false;this._prev_key_esc=false;if(_7fd){dojo.stopEvent(evt);this._selectOption();this._hideResultList();}else{_7fa=true;}break;case dk.ESCAPE:this._prev_key_backspace=false;this._prev_key_esc=true;if(this._isShowingNow){dojo.stopEvent(evt);this._hideResultList();}break;case dk.DELETE:case dk.BACKSPACE:this._prev_key_esc=false;this._prev_key_backspace=true;_7fa=true;break;case dk.RIGHT_ARROW:case dk.LEFT_ARROW:this._prev_key_backspace=false;this._prev_key_esc=false;break;default:this._prev_key_backspace=false;this._prev_key_esc=false;_7fa=typeof key=="string";}if(this.searchTimer){clearTimeout(this.searchTimer);}if(_7fa){setTimeout(dojo.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function $DJC_(text){var fn=this.focusNode;dijit.selectInputText(fn,fn.value.length);var _801=this.ignoreCase?"toLowerCase":"substr";if(text[_801](0).indexOf(this.focusNode.value[_801](0))==0){var cpos=this._getCaretPos(fn);if((cpos+1)>fn.value.length){fn.value=text;dijit.selectInputText(fn,cpos);}}else{fn.value=text;dijit.selectInputText(fn);}},_openResultList:function $DJD_(_803,_804){if(this.disabled||this.readOnly||(_804.query[this.searchAttr]!=this._lastQuery)){return;}this._popupWidget.clearResultList();if(!_803.length){this._hideResultList();return;}this.item=null;var _805=new String(this.store.getValue(_803[0],this.searchAttr));if(_805&&this.autoComplete&&!this._prev_key_backspace&&(_804.query[this.searchAttr]!="*")){this.item=_803[0];this._autoCompleteText(_805);}_804._maxOptions=this._maxOptions;this._popupWidget.createOptions(_803,_804,dojo.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_804.direction){if(1==_804.direction){this._popupWidget.highlightFirstOption();}else{if(-1==_804.direction){this._popupWidget.highlightLastOption();}}this._announceOption(this._popupWidget.getHighlightedOption());}},_showResultList:function $DJE_(){this._hideResultList();var _806=this._popupWidget.getItems(),_807=Math.min(_806.length,this.maxListLength);this._arrowPressed();this.displayMessage("");dojo.style(this._popupWidget.domNode,{width:"",height:""});var best=this.open();var _809=dojo.marginBox(this._popupWidget.domNode);this._popupWidget.domNode.style.overflow=((best.h==_809.h)&&(best.w==_809.w))?"hidden":"auto";var _80a=best.w;if(best.h<this._popupWidget.domNode.scrollHeight){_80a+=16;}dojo.marginBox(this._popupWidget.domNode,{h:best.h,w:Math.max(_80a,this.domNode.offsetWidth)});dijit.setWaiState(this.comboNode,"expanded","true");},_hideResultList:function $DJF_(){if(this._isShowingNow){dijit.popup.close(this._popupWidget);this._arrowIdle();this._isShowingNow=false;dijit.setWaiState(this.comboNode,"expanded","false");dijit.removeWaiState(this.focusNode,"activedescendant");}},_setBlurValue:function $DJG_(){var _80b=this.attr("displayedValue");var pw=this._popupWidget;if(pw&&(_80b==pw._messages["previousMessage"]||_80b==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{this.attr("displayedValue",_80b);}},_onBlur:function $DJH_(){this._hideResultList();this._arrowIdle();this.inherited(arguments);},_announceOption:function $DJI_(node){if(node==null){return;}var _80e;if(node==this._popupWidget.nextButton||node==this._popupWidget.previousButton){_80e=node.innerHTML;}else{_80e=this.store.getValue(node.item,this.searchAttr);}this.focusNode.value=this.focusNode.value.substring(0,this._getCaretPos(this.focusNode));dijit.setWaiState(this.focusNode,"activedescendant",dojo.attr(node,"id"));this._autoCompleteText(_80e);},_selectOption:function $DJJ_(evt){var tgt=null;if(!evt){evt={target:this._popupWidget.getHighlightedOption()};}if(!evt.target){this.attr("displayedValue",this.attr("displayedValue"));return;}else{tgt=evt.target;}if(!evt.noHide){this._hideResultList();this._setCaretPos(this.focusNode,this.store.getValue(tgt.item,this.searchAttr).length);}this._doSelect(tgt);},_doSelect:function $DJK_(tgt){this.item=tgt.item;this.attr("value",this.store.getValue(tgt.item,this.searchAttr));},_onArrowMouseDown:function $DJL_(evt){if(this.disabled||this.readOnly){return;}dojo.stopEvent(evt);this.focus();if(this._isShowingNow){this._hideResultList();}else{this._startSearch("");}},_startSearchFromInput:function $DJM_(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function $DJN_(text){return dojo.string.substitute(this.queryExpr,[text]);},_startSearch:function $DJO_(key){if(!this._popupWidget){var _815=this.id+"_popup";this._popupWidget=new dijit.form._ComboBoxMenu({onChange:dojo.hitch(this,this._selectOption),id:_815});dijit.removeWaiState(this.focusNode,"activedescendant");dijit.setWaiState(this.textbox,"owns",_815);}this.item=null;var _816=dojo.clone(this.query);this._lastInput=key;this._lastQuery=_816[this.searchAttr]=this._getQueryString(key);this.searchTimer=setTimeout(dojo.hitch(this,function(_817,_818){var _819={queryOptions:{ignoreCase:this.ignoreCase,deep:true},query:_817,onBegin:dojo.hitch(this,"_setMaxOptions"),onComplete:dojo.hitch(this,"_openResultList"),onError:function $DJP_(_81a){console.error("dijit.form.ComboBox: "+_81a);dojo.hitch(_818,"_hideResultList")();},start:0,count:this.pageSize};dojo.mixin(_819,_818.fetchProperties);var _81b=_818.store.fetch(_819);var _81c=function(_81d,_81e){_81d.start+=_81d.count*_81e;_81d.direction=_81e;this.store.fetch(_81d);};this._nextSearch=this._popupWidget.onPage=dojo.hitch(this,_81c,_81b);},_816,this),this.searchDelay);},_setMaxOptions:function $DJQ_(size,_820){this._maxOptions=size;},_getValueField:function $DJR_(){return this.searchAttr;},_arrowPressed:function $DJS_(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.addClass(this.downArrowNode,"dijitArrowButtonActive");}},_arrowIdle:function $DJT_(){if(!this.disabled&&!this.readOnly&&this.hasDownArrow){dojo.removeClass(this.downArrowNode,"dojoArrowButtonPushed");}},compositionend:function $DJU_(evt){this._onKeyPress({charCode:-1});},constructor:function $DJV_(){this.query={};this.fetchProperties={};},postMixInProperties:function $DJW_(){if(!this.hasDownArrow){this.baseClass="dijitTextBox";}if(!this.store){var _822=this.srcNodeRef;this.store=new dijit.form._ComboBoxDataStore(_822);if(!this.value||((typeof _822.selectedIndex=="number")&&_822.selectedIndex.toString()===this.value)){var item=this.store.fetchSelectedItem();if(item){this.value=this.store.getValue(item,this._getValueField());}}}this.inherited(arguments);},postCreate:function $DJX_(){var _824=dojo.query("label[for=\""+this.id+"\"]");if(_824.length){_824[0].id=(this.id+"_label");var cn=this.comboNode;dijit.setWaiState(cn,"labelledby",_824[0].id);}this.inherited(arguments);},uninitialize:function $DJY_(){if(this._popupWidget){this._hideResultList();this._popupWidget.destroy();}},_getMenuLabelFromItem:function $DJZ_(item){var _827=this.store.getValue(item,this.labelAttr||this.searchAttr);var _828=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_827=this.doHighlight(_827,this._escapeHtml(this._lastInput));_828="html";}return {html:_828=="html",label:_827};},doHighlight:function $DJa_(_829,find){var _82b="i"+(this.highlightMatch=="all"?"g":"");var _82c=this._escapeHtml(_829);find=dojo.regexp.escapeString(find);var ret=_82c.replace(new RegExp("(^|\\s)("+find+")",_82b),"$1<span class=\"dijitComboBoxHighlightMatch\">$2</span>");return ret;},_escapeHtml:function $DJb_(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},open:function $DJc_(){this._isShowingNow=true;return dijit.popup.open({popup:this._popupWidget,around:this.domNode,parent:this});},reset:function $DJd_(){this.item=null;this.inherited(arguments);}});dojo.declare("dijit.form._ComboBoxMenu",[dijit._Widget,dijit._Templated],{templateString:"<ul class='dijitReset dijitMenu' dojoAttachEvent='onmousedown:_onMouseDown,onmouseup:_onMouseUp,onmouseover:_onMouseOver,onmouseout:_onMouseOut' tabIndex='-1' style='overflow: \"auto\"; overflow-x: \"hidden\";'>"+"<li class='dijitMenuItem dijitMenuPreviousButton' dojoAttachPoint='previousButton' waiRole='option'></li>"+"<li class='dijitMenuItem dijitMenuNextButton' dojoAttachPoint='nextButton' waiRole='option'></li>"+"</ul>",_messages:null,postMixInProperties:function $DJe_(){this._messages=dojo.i18n.getLocalization("dijit.form","ComboBox",this.lang);this.inherited(arguments);},_setValueAttr:function $DJf_(_82f){this.value=_82f;this.onChange(_82f);},onChange:function $DJg_(_830){},onPage:function $DJh_(_831){},postCreate:function $DJi_(){this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];this.inherited(arguments);},onClose:function $DJj_(){this._blurOptionNode();},_createOption:function $DJk_(item,_833){var _834=_833(item);var _835=dojo.doc.createElement("li");dijit.setWaiRole(_835,"option");if(_834.html){_835.innerHTML=_834.label;}else{_835.appendChild(dojo.doc.createTextNode(_834.label));}if(_835.innerHTML==""){_835.innerHTML="&nbsp;";}_835.item=item;return _835;},createOptions:function $DJl_(_836,_837,_838){this.previousButton.style.display=(_837.start==0)?"none":"";dojo.attr(this.previousButton,"id",this.id+"_prev");dojo.forEach(_836,function(item,i){var _83b=this._createOption(item,_838);_83b.className="dijitReset dijitMenuItem";dojo.attr(_83b,"id",this.id+i);this.domNode.insertBefore(_83b,this.nextButton);},this);var _83c=false;if(_837._maxOptions&&_837._maxOptions!=-1){if((_837.start+_837.count)<_837._maxOptions){_83c=true;}else{if((_837.start+_837.count)>(_837._maxOptions-1)){if(_837.count==_836.length){_83c=true;}}}}else{if(_837.count==_836.length){_83c=true;}}this.nextButton.style.display=_83c?"":"none";dojo.attr(this.nextButton,"id",this.id+"_next");},clearResultList:function $DJm_(){while(this.domNode.childNodes.length>2){this.domNode.removeChild(this.domNode.childNodes[this.domNode.childNodes.length-2]);}},getItems:function $DJn_(){return this.domNode.childNodes;},getListLength:function $DJo_(){return this.domNode.childNodes.length-2;},_onMouseDown:function $DJp_(evt){dojo.stopEvent(evt);},_onMouseUp:function $DJq_(evt){if(evt.target===this.domNode){return;}else{if(evt.target==this.previousButton){this.onPage(-1);}else{if(evt.target==this.nextButton){this.onPage(1);}else{var tgt=evt.target;while(!tgt.item){tgt=tgt.parentNode;}this._setValueAttr({target:tgt},true);}}}},_onMouseOver:function $DJr_(evt){if(evt.target===this.domNode){return;}var tgt=evt.target;if(!(tgt==this.previousButton||tgt==this.nextButton)){while(!tgt.item){tgt=tgt.parentNode;}}this._focusOptionNode(tgt);},_onMouseOut:function $DJs_(evt){if(evt.target===this.domNode){return;}this._blurOptionNode();},_focusOptionNode:function $DJt_(node){if(this._highlighted_option!=node){this._blurOptionNode();this._highlighted_option=node;dojo.addClass(this._highlighted_option,"dijitMenuItemSelected");}},_blurOptionNode:function $DJu_(){if(this._highlighted_option){dojo.removeClass(this._highlighted_option,"dijitMenuItemSelected");this._highlighted_option=null;}},_highlightNextOption:function $DJv_(){var fc=this.domNode.firstChild;if(!this.getHighlightedOption()){this._focusOptionNode(fc.style.display=="none"?fc.nextSibling:fc);}else{var ns=this._highlighted_option.nextSibling;if(ns&&ns.style.display!="none"){this._focusOptionNode(ns);}}dijit.scrollIntoView(this._highlighted_option);},highlightFirstOption:function $DJw_(){this._focusOptionNode(this.domNode.firstChild.nextSibling);dijit.scrollIntoView(this._highlighted_option);},highlightLastOption:function $DJx_(){this._focusOptionNode(this.domNode.lastChild.previousSibling);dijit.scrollIntoView(this._highlighted_option);},_highlightPrevOption:function $DJy_(){var lc=this.domNode.lastChild;if(!this.getHighlightedOption()){this._focusOptionNode(lc.style.display=="none"?lc.previousSibling:lc);}else{var ps=this._highlighted_option.previousSibling;if(ps&&ps.style.display!="none"){this._focusOptionNode(ps);}}dijit.scrollIntoView(this._highlighted_option);},_page:function $DJz_(up){var _849=0;var _84a=this.domNode.scrollTop;var _84b=dojo.style(this.domNode,"height");if(!this.getHighlightedOption()){this._highlightNextOption();}while(_849<_84b){if(up){if(!this.getHighlightedOption().previousSibling||this._highlighted_option.previousSibling.style.display=="none"){break;}this._highlightPrevOption();}else{if(!this.getHighlightedOption().nextSibling||this._highlighted_option.nextSibling.style.display=="none"){break;}this._highlightNextOption();}var _84c=this.domNode.scrollTop;_849+=(_84c-_84a)*(up?-1:1);_84a=_84c;}},pageUp:function $DJ0_(){this._page(true);},pageDown:function $DJ1_(){this._page(false);},getHighlightedOption:function $DJ2_(){var ho=this._highlighted_option;return (ho&&ho.parentNode)?ho:null;},handleKey:function $DJ3_(key){switch(key){case dojo.keys.DOWN_ARROW:this._highlightNextOption();break;case dojo.keys.PAGE_DOWN:this.pageDown();break;case dojo.keys.UP_ARROW:this._highlightPrevOption();break;case dojo.keys.PAGE_UP:this.pageUp();break;}}});dojo.declare("dijit.form.ComboBox",[dijit.form.ValidationTextBox,dijit.form.ComboBoxMixin],{_setValueAttr:function $DJ4_(_84f,_850){if(!_84f){_84f="";}dijit.form.ValidationTextBox.prototype._setValueAttr.call(this,_84f,_850);}});dojo.declare("dijit.form._ComboBoxDataStore",null,{constructor:function $DJ5_(root){this.root=root;dojo.query("> option",root).forEach(function(node){node.innerHTML=dojo.trim(node.innerHTML);});},getValue:function $DJ6_(item,_854,_855){return (_854=="value")?item.value:(item.innerText||item.textContent||"");},isItemLoaded:function $DJ7_(_856){return true;},getFeatures:function $DJ8_(){return {"dojo.data.api.Read":true,"dojo.data.api.Identity":true};},_fetchItems:function $DJ9_(args,_858,_859){if(!args.query){args.query={};}if(!args.query.name){args.query.name="";}if(!args.queryOptions){args.queryOptions={};}var _85a=dojo.data.util.filter.patternToRegExp(args.query.name,args.queryOptions.ignoreCase),_85b=dojo.query("> option",this.root).filter(function(_85c){return (_85c.innerText||_85c.textContent||"").match(_85a);});if(args.sort){_85b.sort(dojo.data.util.sorter.createSortFunction(args.sort,this));}_858(_85b,args);},close:function $DKA_(_85d){return;},getLabel:function $DKB_(item){return item.innerHTML;},getIdentity:function $DKC_(item){return dojo.attr(item,"value");},fetchItemByIdentity:function $DKD_(args){var item=dojo.query("option[value='"+args.identity+"']",this.root)[0];args.onItem(item);},fetchSelectedItem:function $DKE_(){var root=this.root,si=root.selectedIndex;return dojo.query("> option:nth-child("+(si!=-1?si+1:1)+")",root)[0];}});dojo.extend(dijit.form._ComboBoxDataStore,dojo.data.util.simpleFetch);}if(!dojo._hasResource["dijit.form.FilteringSelect"]){dojo._hasResource["dijit.form.FilteringSelect"]=true;dojo.provide("dijit.form.FilteringSelect");dojo.declare("dijit.form.FilteringSelect",[dijit.form.MappedTextBox,dijit.form.ComboBoxMixin],{_isvalid:true,required:true,_lastDisplayedValue:"",isValid:function $DKH_(){return this._isvalid||(!this.required&&this.attr("displayedValue")=="");},_callbackSetLabel:function $DKI_(_864,_865,_866){if((_865&&_865.query[this.searchAttr]!=this._lastQuery)||(!_865&&_864.length&&this.store.getIdentity(_864[0])!=this._lastQuery)){return;}if(!_864.length){this.valueNode.value="";dijit.form.TextBox.superclass._setValueAttr.call(this,"",_866||(_866===undefined&&!this._focused));this._isvalid=false;this.validate(this._focused);this.item=null;}else{this._setValueFromItem(_864[0],_866);}},_openResultList:function $DKJ_(_867,_868){if(_868.query[this.searchAttr]!=this._lastQuery){return;}this._isvalid=_867.length!=0;this.validate(true);dijit.form.ComboBoxMixin.prototype._openResultList.apply(this,arguments);},_getValueAttr:function $DKK_(){return this.valueNode.value;},_getValueField:function $DKL_(){return "value";},_setValue:function $DKM_(_869,_86a,_86b){this.valueNode.value=_869;dijit.form.FilteringSelect.superclass._setValueAttr.call(this,_869,_86b,_86a);this._lastDisplayedValue=_86a;},_setValueAttr:function $DKN_(_86c,_86d){if(!this._onChangeActive){_86d=null;}this._lastQuery=_86c;if(_86c===null||_86c===""){this._setDisplayedValueAttr("",_86d);return;}var self=this;var _86f=function(item,_871){if(item){if(self.store.isItemLoaded(item)){self._callbackSetLabel([item],undefined,_871);}else{self.store.loadItem({item:item,onItem:function $DKO_(_872,_873){self._callbackSetLabel(_872,_873,_871);}});}}else{self._isvalid=false;self.validate(false);}};this.store.fetchItemByIdentity({identity:_86c,onItem:function $DKP_(item){_86f(item,_86d);}});},_setValueFromItem:function $DKQ_(item,_876){this._isvalid=true;this.item=item;this._setValue(this.store.getIdentity(item),this.labelFunc(item,this.store),_876);},labelFunc:function $DKR_(item,_878){return _878.getValue(item,this.searchAttr);},_doSelect:function $DKS_(tgt){this._setValueFromItem(tgt.item,true);},_setDisplayedValueAttr:function $DKT_(_87a,_87b){if(!this._created){_87b=false;}if(this.store){var _87c=dojo.clone(this.query);this._lastQuery=_87c[this.searchAttr]=_87a.replace(/([\\\*\?])/g,"\\$1");this.textbox.value=_87a;this._lastDisplayedValue=_87a;var _87d=this;var _87e={query:_87c,queryOptions:{ignoreCase:this.ignoreCase,deep:true},onComplete:function $DKU_(_87f,_880){dojo.hitch(_87d,"_callbackSetLabel")(_87f,_880,_87b);},onError:function $DKV_(_881){console.error("dijit.form.FilteringSelect: "+_881);dojo.hitch(_87d,"_setValue")("",_87a,false);}};dojo.mixin(_87e,this.fetchProperties);this.store.fetch(_87e);}},postMixInProperties:function $DKW_(){this.inherited(arguments);this._isvalid=!this.required;},undo:function $DKX_(){this.attr("displayedValue",this._lastDisplayedValue);}});}if(!dojo._hasResource["betterform.ui.select.CheckBox"]){dojo._hasResource["betterform.ui.select.CheckBox"]=true;dojo.provide("betterform.ui.select.CheckBox");dojo.declare("betterform.ui.select.CheckBox",[betterform.ui.ControlValue,dijit.form.CheckBox],{selectWidgetId:"",value:"",selectWidget:null,templateString:"<span class=\"dijitReset dijitInline\" waiRole=\"presentation\"\n\t><input\n\t \ttype=\"${type}\" name=\"${name}\"\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdojoAttachPoint=\"focusNode\"\n\t \tdojoAttachEvent=\"onmouseover:_onMouse,onmouseout:_onMouse,onclick:_onClick\"\n/></span>\n",postMixInProperties:function $DA3v_(){this.inherited(arguments);this.selectWidget=dijit.byId(this.selectWidgetId);if(this.srcNodeRef!=undefined){this.currentValue=dojo.attr(this.srcNodeRef,"value");}},onClick:function $DA3w_(evt){this.inherited(arguments);if(this.selectWidget==undefined){this.selectWidget=dijit.byId(this.selectWidgetId);}if(this.selectWidget==undefined){conosle.warn("CheckBox.onClick: Select (CheckBoxGroup) "+this.selectWidgetId+" could not be found");return;}this.selectWidget._setCheckBoxGroupValue();},getControlValue:function $DA3x_(){return this.currentValue;}});}if(!dojo._hasResource["betterform.ui.select.CheckBoxGroup"]){dojo._hasResource["betterform.ui.select.CheckBoxGroup"]=true;dojo.provide("betterform.ui.select.CheckBoxGroup");dojo.declare("betterform.ui.select.CheckBoxGroup",betterform.ui.ControlValue,{buildRendering:function $DA3y_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DA3z_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DA30_(){this.inherited(arguments);var _883="";dojo.query("*[checked]",this.domNode).forEach(function(_884){_883+=_884.value+" ";});if(_883!=""){_883=_883.replace(/\s+$/g,"");}this.setCurrentValue(_883);},_onFocus:function $DA31_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA32_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA33_(){var _885="";dojo.query(".dijitCheckBoxChecked .dijitCheckBoxInput",this.domNode).forEach(function(_886){_885=dijit.byId(dojo.attr(_886,"id")).getControlValue()+" "+_885;});return _885.replace(/\s+$/g,"");},_handleSetControlValue:function $DA34_(_887){var _888=new Array();_888=_887.split(" ");dojo.query(".dijitCheckBoxInput",this.domNode).forEach(function(_889){if(dojo.indexOf(_888,dijit.byId(_889.id).currentValue)!=-1){dijit.byId(_889.id).setChecked(true);}else{dijit.byId(_889.id).setChecked(false);}});},_setCheckBoxGroupValue:function $DA35_(){var _88a=dojo.query(".dijitCheckBoxChecked .dijitCheckBoxInput",this.domNode);var ids=undefined;dojo.forEach(_88a,function(item,_88d,_88e){var id=dojo.attr(item,"id");id=id.substring(0,id.length-6);if(ids==undefined){ids=id;}else{ids=ids+";"+id;}});if(ids==undefined){ids="";}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",ids);if(this.incremental){this.xfControl.setControlValue(this.getControlValue());}},applyState:function $DA36_(){if(this.xfControl.isReadonly()){this.setDisabled(true);}else{this.setDisabled(false);}},setDisabled:function $DA37_(_890){dojo.forEach(dojo.query(".dijitCheckBoxInput",this.domNode),function(_891){var _892=dojo.attr(_891,"id");var _893=dijit.byId(_892);if(_893!=undefined){_893.attr("disabled",_890);}else{_893=new betterform.ui.select.CheckBox({},_892);_893.attr("disabled",_890);}});}});}if(!dojo._hasResource["dijit.form.MultiSelect"]){dojo._hasResource["dijit.form.MultiSelect"]=true;dojo.provide("dijit.form.MultiSelect");dojo.declare("dijit.form.MultiSelect",dijit.form._FormWidget,{size:7,templateString:"<select multiple='true' ${nameAttrSetting} dojoAttachPoint='containerNode,focusNode' dojoAttachEvent='onchange: _onChange'></select>",attributeMap:dojo.delegate(dijit.form._FormWidget.prototype.attributeMap,{size:"focusNode"}),reset:function $DLB_(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},addSelected:function $DLC_(_894){_894.getSelected().forEach(function(n){this.containerNode.appendChild(n);this.domNode.scrollTop=this.domNode.offsetHeight;var _896=_894.domNode.scrollTop;_894.domNode.scrollTop=0;_894.domNode.scrollTop=_896;},this);},getSelected:function $DLD_(){return dojo.query("option",this.containerNode).filter(function(n){return n.selected;});},_getValueAttr:function $DLE_(){return this.getSelected().map(function(n){return n.value;});},_multiValue:true,_setValueAttr:function $DLF_(_899){dojo.query("option",this.containerNode).forEach(function(n){n.selected=(dojo.indexOf(_899,n.value)!=-1);});},invertSelection:function $DLG_(_89b){dojo.query("option",this.containerNode).forEach(function(n){n.selected=!n.selected;});this._handleOnChange(this.attr("value"),_89b==true);},_onChange:function $DLH_(e){this._handleOnChange(this.attr("value"),true);},resize:function $DLI_(size){if(size){dojo.marginBox(this.domNode,size);}},postCreate:function $DLJ_(){this._onChange();}});}if(!dojo._hasResource["betterform.ui.select.MultiSelect"]){dojo._hasResource["betterform.ui.select.MultiSelect"]=true;dojo.provide("betterform.ui.select.MultiSelect");dojo.declare("betterform.ui.select.MultiSelect",[betterform.ui.ControlValue,dijit.form.MultiSelect],{size:"",value:"",multiple:"",freeTextDijit:null,freeTextValue:"",openSelection:false,isServerUpdate:false,postMixInProperties:function $DA4B_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}if(dojo.attr(this.srcNodeRef,"selection")!=undefined&&dojo.attr(this.srcNodeRef,"selection")=="open"){this.openSelection=true;}this.xfControl=dijit.byId(this.xfControlId);if(this.size==""||this.size<1){this.size=5;}},postCreate:function $DA4C_(){this.inherited(arguments);this.setCurrentValue();if(this.openSelection){dojo.addClass(this.xfControl.domNode,"xfSelectOpen");var _89f=dojo.doc.createElement("div");dojo.addClass(_89f,"xfSelectFreeText");var _8a0=dojo.doc.createElement("div");dojo.place(_8a0,_89f);dojo.place(this.domNode,_89f);dojo.place(_89f,this.xfControl.domNode,1);this.freeTextDijit=new dijit.form.TextBox({},_8a0);dojo.connect(this.freeTextDijit,"_handleOnChange",this,"_textFieldValueChanged");}},_textFieldValueChanged:function $DA4D_(_8a1,_8a2){if(this.isServerUpdate){return;}else{this.freeTextValue=_8a1;this.setControlValue();}},_onFocus:function $DA4E_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA4F_(){this.inherited(arguments);this.handleOnBlur();},applyState:function $DA4G_(){if(this.xfControl.isReadonly()){this.attr("disabled",true);if(this.openSelection){dojo.attr(this.freeTextDijit.domNode,"disabled",true);}}else{this.attr("disabled",false);if(this.openSelection){dojo.attr(this.freeTextDijit.domNode,"disabled",false);}}},getControlValue:function $DA4H_(){var _8a3=this.attr("value").join(" ");if(this.openSelection){if(this.freeTextValue==""&&_8a3==undefined){_8a3="";}else{if(this.freeTextValue!=""&&_8a3!=undefined&&_8a3!=""){_8a3=_8a3+" "+this.freeTextValue;}else{if(this.freeTextValue!=""){_8a3=this.freeTextValue;}}}}return _8a3;},onChange:function $DA4I_(evt){this.inherited(arguments);var _8a5=this.getSelected();var ids=undefined;dojo.forEach(_8a5,function(item,_8a8,_8a9){var _8aa=dojo.attr(item,"id");if(ids==undefined){ids=_8aa;}else{ids=ids+";"+_8aa;}});if(ids==undefined){ids="";}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",ids);if(this.incremental){this.setControlValue();}},_handleSetControlValue:function $DA4J_(_8ab){var _8ac=new Array();_8ac=_8ab.split(" ");if(this.openSelection){var _8ad=dojo.query(".xfSelectorItem",this.domNode);var _8ae="";dojo.forEach(_8ac,function(_8af,_8b0,_8b1){var _8b2=false;dojo.forEach(_8ad,function(_8b3,_8b4,_8b5){if(dojo.attr(_8b3,"value")==_8af){_8b2=true;}});if(!_8b2){if(_8ae==undefined){_8ae=_8af;}else{_8ae=_8ae+" "+_8af;}}});this.freeTextValue=_8ae;this.isServerUpdate=true;this.freeTextDijit._setValueAttr(_8ae);this.isServerUpdate=false;}this._setValueAttr(_8ac);}});}if(!dojo._hasResource["betterform.ui.select1.ComboBox"]){dojo._hasResource["betterform.ui.select1.ComboBox"]=true;dojo.provide("betterform.ui.select1.ComboBox");dojo.declare("betterform.ui.select1.ComboBox",betterform.ui.ControlValue,{buildRendering:function $DA4N_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DA4O_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DA4P_(){dojo.connect(this.domNode,"onchange",this,"_onChange");this.setCurrentValue();},_onFocus:function $DA4Q_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA4R_(){this.inherited(arguments);this.handleOnBlur();},_onChange:function $DA4S_(){var _8b6=this.domNode.options[this.domNode.selectedIndex];fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",dojo.attr(_8b6,"id"));if(this.incremental){this.setControlValue();}},getControlValue:function $DA4T_(){if(this.domNode.selectedIndex!=-1&&this.domNode.options!=undefined){var _8b7=this.domNode.options[this.domNode.selectedIndex];return dojo.attr(_8b7,"value");}else{return null;}},_handleSetControlValue:function $DA4U_(_8b8){for(i=0;i<this.domNode.options.length;i++){if(this.domNode.options[i].value==_8b8){this.domNode.selectedIndex=i;}}}});}if(!dojo._hasResource["betterform.ui.select1.ComboBoxOpen"]){dojo._hasResource["betterform.ui.select1.ComboBoxOpen"]=true;dojo.provide("betterform.ui.select1.ComboBoxOpen");dojo.declare("betterform.ui.select1.ComboBoxOpen",[betterform.ui.ControlValue,dijit.form.ComboBox],{options:null,postMixInProperties:function $DA4V_(){options=dojo.query("*[value]",this.srcNodeRef);this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DA4W_(){this.inherited(arguments);var _8b9=dojo.query("*[selected]",this.srcNodeRef)[0];if(_8b9!=undefined){var _8ba=dojo.attr(_8b9,"value");var _8bb=_8b9.innerHTML;this.setCurrentValue(_8ba);this.focusNode.value=_8bb;}else{this.setCurrentValue("");this.focusNode.value="";}},_onFocus:function $DA4X_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA4Y_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA4Z_(){var _8bc;var _8bd=this.focusNode.value;dojo.forEach(options,function(_8be){if(_8be.innerHTML==_8bd){_8bc=dojo.attr(_8be,"value");}});if(_8bc!=undefined){return _8bc;}else{if(this.focusNode.value!=undefined){return this.focusNode.value;}else{return "";}}},onChange:function $DA4a_(evt){this.inherited(arguments);var _8c0;var _8c1=this.focusNode.value;dojo.forEach(options,function(_8c2){if(_8c2.innerHTML==_8c1){_8c0=_8c2;}});if(_8c0!=undefined){fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",dojo.attr(_8c0,"id"));}if(this.incremental){this.setControlValue();}},_handleSetControlValue:function $DA4b_(_8c3){var _8c4;dojo.forEach(options,function(_8c5){if(dojo.attr(_8c5,"value")==_8c3){_8c4=_8c5.innerHTML;}});if(_8c4!=undefined){this.focusNode.value=_8c4;}else{if(_8c3!=undefined){this.focusNode.value=_8c3;}else{this.focusNode.value="";}}}});}if(!dojo._hasResource["dojox.form._FormSelectWidget"]){dojo._hasResource["dojox.form._FormSelectWidget"]=true;dojo.provide("dojox.form._FormSelectWidget");dojo.declare("dojox.form._FormSelectWidget",dijit.form._FormValueWidget,{multiple:"",_multiValue:false,options:null,getOptions:function $DyZ_(_8c6){var _8c7=_8c6,opts=this.options||[],l=opts.length;if(_8c7===undefined){return opts;}if(dojo.isArray(_8c7)){return dojo.map(_8c7,"return this.getOptions(item);",this);}if(dojo.isObject(_8c6)){if(!dojo.some(this.options,function(o,idx){if(o===_8c7||(o.value&&o.value===_8c7.value)){_8c7=idx;return true;}return false;})){_8c7=-1;}}if(typeof _8c7=="string"){for(var i=0;i<l;i++){if(opts[i].value===_8c7){_8c7=i;break;}}}if(typeof _8c7=="number"&&_8c7>=0&&_8c7<l){return this.options[_8c7];}return null;},addOption:function $Dya_(_8cd){if(!dojo.isArray(_8cd)){_8cd=[_8cd];}dojo.forEach(_8cd,function(i){if(i&&dojo.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function $Dyb_(_8cf){if(!dojo.isArray(_8cf)){_8cf=[_8cf];}var _8d0=this.getOptions(_8cf);dojo.forEach(_8d0,function(i){this.options=dojo.filter(this.options,function(node,idx){return (node.value!==i.value);});this._removeOptionItem(i);},this);this._loadChildren();},updateOption:function $Dyc_(_8d4){if(!dojo.isArray(_8d4)){_8d4=[_8d4];}dojo.forEach(_8d4,function(i){var _8d6=this.getOptions(i),k;if(_8d6){for(k in i){_8d6[k]=i[k];}}},this);this._loadChildren();},_setValueAttr:function $Dyd_(_8d8,_8d9){var opts=this.getOptions()||[];if(!dojo.isArray(_8d8)){_8d8=[_8d8];}dojo.forEach(_8d8,function(i,idx){if(!dojo.isObject(i)){i=i+"";}if(typeof i==="string"){_8d8[idx]=dojo.filter(opts,function(node){return node.value===i;})[0]||{value:"",label:""};}},this);_8d8=dojo.filter(_8d8,function(i){return i&&i.value;});if(!this._multiValue&&(!_8d8[0]||!_8d8[0].value)&&opts.length){_8d8[0]=opts[0];}dojo.forEach(opts,function(i){i.selected=dojo.some(_8d8,function(v){return v.value===i.value;});});var val=dojo.map(_8d8,function(i){return i.value;}),disp=dojo.map(_8d8,function(i){return i.label;});this.value=this._multiValue?val:val[0];this._setDisplay(this._multiValue?disp:disp[0]);this._updateSelection();this._handleOnChange(this.value,_8d9);},_getDisplayedValueAttr:function $Dye_(){var val=this.attr("value");if(!dojo.isArray(val)){val=[val];}var ret=dojo.map(this.getOptions(val),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this._multiValue?ret:ret[0];},_getValueDeprecated:false,getValue:function $Dyf_(){return this._lastValue;},undo:function $Dyg_(){this._setValueAttr(this._lastValueReported,false);},_loadChildren:function $Dyh_(){dojo.forEach(this._getChildren(),function(_8e8){_8e8.destroyRecursive();});dojo.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function $Dyi_(){this.value=this._getValueFromOpts();var val=this.value;if(!dojo.isArray(val)){val=[val];}if(val&&val[0]){dojo.forEach(this._getChildren(),function(_8ea){var _8eb=dojo.some(val,function(v){return _8ea.option&&(v===_8ea.option.value);});dojo.toggleClass(_8ea.domNode,this.baseClass+"SelectedOption",_8eb);dijit.setWaiState(_8ea.domNode,"selected",_8eb);},this);}this._handleOnChange(this.value);},_getValueFromOpts:function $Dyj_(){var opts=this.getOptions()||[];if(!this._multiValue&&opts.length){var opt=dojo.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this._multiValue){return dojo.map(dojo.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return "";},postMixInProperties:function $Dyk_(){this._multiValue=(this.multiple.toLowerCase()==="true");this.inherited(arguments);},_fillContent:function $Dyl_(){var opts=this.options;if(!opts){opts=this.options=this.srcNodeRef?dojo.query(">",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return {value:"",label:"",selected:false,disabled:false};}return {value:node.getAttribute("value"),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this.value=this._getValueFromOpts();}else{if(this._multiValue&&typeof this.value=="string"){this.value=this.value.split(",");}}},postCreate:function $Dym_(){dojo.setSelectable(this.focusNode,false);this.inherited(arguments);this.connect(this,"onChange","_updateSelection");this.connect(this,"startup","_loadChildren");this._setValueAttr(this.value,null);},_addOptionItem:function $Dyn_(_8f4){},_removeOptionItem:function $Dyo_(_8f5){},_setDisplay:function $Dyp_(_8f6){},_getChildren:function $Dyq_(){return [];},_getSelectedOptionsAttr:function $Dyr_(){return this.getOptions(this.attr("value"));}});}if(!dojo._hasResource["dojox.form._HasDropDown"]){dojo._hasResource["dojox.form._HasDropDown"]=true;dojo.provide("dojox.form._HasDropDown");dojo.declare("dojox.form._HasDropDown",null,{dropDownNode:null,popupStateNode:null,aroundNode:null,dropDown:null,autoWidth:true,_stopClickEvents:true,_onMenuMouseup:function $Dyt_(e){},_onDropDownMouse:function $Dyu_(e){if(e.type=="click"&&!this._seenKeydown){return;}this._seenKeydown=false;if(e.type=="mousedown"){this._docHandler=this.connect(dojo.doc,"onmouseup","_onDropDownMouseup");}if(this.disabled||this.readOnly){return;}if(this._stopClickEvents){dojo.stopEvent(e);}this.toggleDropDown();if(e.type=="click"||e.type=="keypress"){this._onDropDownMouseup();}},_onDropDownMouseup:function $Dyv_(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _8fa=this.dropDown,_8fb=false;if(e&&this._opened){var t=e.target;while(t&&!_8fb){if(dojo.hasClass(t,"dijitPopup")){_8fb=true;}else{t=t.parentNode;}}if(_8fb){this._onMenuMouseup(e);return;}}if(this._opened&&_8fa.focus){window.setTimeout(dojo.hitch(_8fa,"focus"),1);}else{dijit.focus(this.focusNode);}},_setupDropdown:function $Dyw_(){this.dropDownNode=this.dropDownNode||this.focusNode||this.domNode;this.popupStateNode=this.popupStateNode||this.focusNode||this.dropDownNode;this.aroundNode=this.aroundNode||this.domNode;this.connect(this.dropDownNode,"onmousedown","_onDropDownMouse");this.connect(this.dropDownNode,"onclick","_onDropDownMouse");this.connect(this.dropDownNode,"onkeydown","_onDropDownKeydown");this.connect(this.dropDownNode,"onblur","_onDropDownBlur");this.connect(this.dropDownNode,"onkeypress","_onKey");if(this._setStateClass){this.connect(this,"openDropDown","_setStateClass");this.connect(this,"closeDropDown","_setStateClass");}},postCreate:function $Dyx_(){this._setupDropdown();this.inherited("postCreate",arguments);},startup:function $Dyy_(){dijit.popup.prepare(this.dropDown.domNode);this.inherited("startup",arguments);},destroyDescendants:function $Dyz_(){if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}this.inherited("destroyDescendants",arguments);},_onDropDownKeydown:function $Dy0_(e){this._seenKeydown=true;},_onKeyPress:function $Dy1_(e){if(this._opened&&e.charOrCode==dojo.keys.ESCAPE&&!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.toggleDropDown();dojo.stopEvent(e);return;}this.inherited(arguments);},_onDropDownBlur:function $Dy2_(e){this._seenKeydown=false;},_onKey:function $Dy3_(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){return;}}if(d&&this._opened&&e.keyCode==dojo.keys.ESCAPE){this.toggleDropDown();return;}if(e.keyCode==dojo.keys.DOWN_ARROW){this._onDropDownMouse(e);}},_onBlur:function $Dy4_(){this.closeDropDown();this.inherited("_onBlur",arguments);},isLoaded:function $Dy5_(){return true;},loadDropDown:function $Dy6_(_902){_902();},toggleDropDown:function $Dy7_(){if(this.disabled||this.readOnly){return;}this.focus();var _903=this.dropDown;if(!_903){return;}if(!this._opened){if(!this.isLoaded()){this.loadDropDown(dojo.hitch(this,"openDropDown"));return;}else{this.openDropDown();}}else{this.closeDropDown();}},openDropDown:function $Dy8_(){var _904=this.dropDown;var _905=_904.domNode.style.width;var self=this;var _907=dijit.popup.open({parent:this,popup:_904,around:this.aroundNode,orient:this.isLeftToRight()?{"BL":"TL","BR":"TR","TL":"BL","TR":"BR"}:{"BR":"TR","BL":"TL","TR":"BR","TL":"BL"},onExecute:function $Dy9_(){self.closeDropDown(true);},onCancel:function $DzA_(){self.closeDropDown(true);},onClose:function $DzB_(){_904.domNode.style.width=_905;dojo.attr(self.popupStateNode,"popupActive",false);dojo.removeClass(self.popupStateNode,"dojoxHasDropDownOpen");self._opened=false;self.state="";}});if(this.autoWidth&&this.domNode.offsetWidth>_904.domNode.offsetWidth){var _908=null;if(!this.isLeftToRight()){_908=_904.domNode.parentNode;var _909=_908.offsetLeft+_908.offsetWidth;}if(_904.resize){_904.resize({w:this.domNode.offsetWidth});}else{dojo.marginBox(_904.domNode,{w:this.domNode.offsetWidth});}if(_908){_908.style.left=_909-this.domNode.offsetWidth+"px";}}dojo.attr(this.popupStateNode,"popupActive","true");dojo.addClass(self.popupStateNode,"dojoxHasDropDownOpen");this._opened=true;this.state="Opened";return _907;},closeDropDown:function $DzC_(_90a){if(this._opened){dijit.popup.close(this.dropDown);if(_90a){this.focus();}this._opened=false;this.state="";}}});}if(!dojo._hasResource["dijit._KeyNavContainer"]){dojo._hasResource["dijit._KeyNavContainer"]=true;dojo.provide("dijit._KeyNavContainer");dojo.declare("dijit._KeyNavContainer",[dijit._Container],{tabIndex:"0",_keyNavCodes:{},connectKeyNavHandlers:function $DEE_(_90b,_90c){var _90d=this._keyNavCodes={};var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_90b,function(code){_90d[code]=prev;});dojo.forEach(_90c,function(code){_90d[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function $DEF_(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function $DEG_(_912,_913){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_912);},focus:function $DEH_(){this.focusFirstChild();},focusFirstChild:function $DEI_(){this.focusChild(this._getFirstFocusableChild());},focusNext:function $DEJ_(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return;}var _914=this._getNextFocusableChild(this.focusedChild,1);if(_914.getFocalNodes){this.focusChild(_914,_914.getFocalNodes()[0]);}else{this.focusChild(_914);}},focusPrev:function $DEK_(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return;}var _915=this._getNextFocusableChild(this.focusedChild,-1);if(_915.getFocalNodes){var _916=_915.getFocalNodes();this.focusChild(_915,_916[_916.length-1]);}else{this.focusChild(_915);}},focusChild:function $DEL_(_917,node){if(_917){if(this.focusedChild&&_917!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_917;if(node&&_917.focusFocalNode){_917.focusFocalNode(node);}else{_917.focus();}}},_startupChild:function $DEM_(_919){if(_919.getFocalNodes){dojo.forEach(_919.getFocalNodes(),function(node){dojo.attr(node,"tabindex",-1);this._connectNode(node);},this);}else{var node=_919.focusNode||_919.domNode;if(_919.isFocusable()){dojo.attr(node,"tabindex",-1);}this._connectNode(node);}},_connectNode:function $DEN_(node){this.connect(node,"onfocus","_onNodeFocus");this.connect(node,"onblur","_onNodeBlur");},_onContainerFocus:function $DEO_(evt){if(evt.target!==this.domNode){return;}this.focusFirstChild();dojo.removeAttr(this.domNode,"tabIndex");},_onBlur:function $DEP_(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex);}},_onContainerKeypress:function $DEQ_(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();dojo.stopEvent(evt);}},_onNodeFocus:function $DER_(evt){var _922=dijit.getEnclosingWidget(evt.target);if(_922&&_922.isFocusable()){this.focusedChild=_922;}dojo.stopEvent(evt);},_onNodeBlur:function $DES_(evt){dojo.stopEvent(evt);},_onChildBlur:function $DET_(_924){},_getFirstFocusableChild:function $DEU_(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function $DEV_(_925,dir){if(_925){_925=this._getSiblingOfChild(_925,dir);}var _927=this.getChildren();for(var i=0;i<_927.length;i++){if(!_925){_925=_927[(dir>0)?0:(_927.length-1)];}if(_925.isFocusable()){return _925;}_925=this._getSiblingOfChild(_925,dir);}return null;}});}if(!dojo._hasResource["dijit.MenuItem"]){dojo._hasResource["dijit.MenuItem"]=true;dojo.provide("dijit.MenuItem");dojo.declare("dijit.MenuItem",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitem\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon\" dojoAttachPoint=\"iconNode\">\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\n\t\t<div dojoAttachPoint=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\">\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{label:{node:"containerNode",type:"innerHTML"},iconClass:{node:"iconNode",type:"class"}}),label:"",iconClass:"",accelKey:"",disabled:false,_fillContent:function $DP5_(_929){if(_929&&!("label" in this.params)){this.attr("label",_929.innerHTML);}},postCreate:function $DP6_(){dojo.setSelectable(this.domNode,false);dojo.attr(this.containerNode,"id",this.id+"_text");dijit.setWaiState(this.domNode,"labelledby",this.id+"_text");},_onHover:function $DP7_(){dojo.addClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemHover(this);},_onUnhover:function $DP8_(){dojo.removeClass(this.domNode,"dijitMenuItemHover");this.getParent().onItemUnhover(this);},_onClick:function $DP9_(evt){this.getParent().onItemClick(this,evt);dojo.stopEvent(evt);},onClick:function $DQA_(evt){},focus:function $DQB_(){try{dijit.focus(this.focusNode);}catch(e){}},_onFocus:function $DQC_(){this._setSelected(true);},_setSelected:function $DQD_(_92c){dojo.toggleClass(this.domNode,"dijitMenuItemSelected",_92c);},setLabel:function $DQE_(_92d){dojo.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use attr('label', ...) instead.","","2.0");this.attr("label",_92d);},setDisabled:function $DQF_(_92e){dojo.deprecated("dijit.Menu.setDisabled() is deprecated.  Use attr('disabled', bool) instead.","","2.0");this.attr("disabled",_92e);},_setDisabledAttr:function $DQG_(_92f){this.disabled=_92f;dojo[_92f?"addClass":"removeClass"](this.domNode,"dijitMenuItemDisabled");dijit.setWaiState(this.focusNode,"disabled",_92f?"true":"false");},_setAccelKeyAttr:function $DQH_(_930){this.accelKey=_930;this.accelKeyNode.style.display=_930?"":"none";this.accelKeyNode.innerHTML=_930;dojo.attr(this.containerNode,"colSpan",_930?"1":"2");}});}if(!dojo._hasResource["dijit.PopupMenuItem"]){dojo._hasResource["dijit.PopupMenuItem"]=true;dojo.provide("dijit.PopupMenuItem");dojo.declare("dijit.PopupMenuItem",dijit.MenuItem,{_fillContent:function $DQK_(){if(this.srcNodeRef){var _931=dojo.query("*",this.srcNodeRef);dijit.PopupMenuItem.superclass._fillContent.call(this,_931[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function $DQL_(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function $DQM_(){if(this.popup){this.popup.destroyRecursive();delete this.popup;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.CheckedMenuItem"]){dojo._hasResource["dijit.CheckedMenuItem"]=true;dojo.provide("dijit.CheckedMenuItem");dojo.declare("dijit.CheckedMenuItem",dijit.MenuItem,{templateString:"<tr class=\"dijitReset dijitMenuItem\" dojoAttachPoint=\"focusNode\" waiRole=\"menuitemcheckbox\" tabIndex=\"-1\"\n\t\tdojoAttachEvent=\"onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick\">\n\t<td class=\"dijitReset\" waiRole=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" dojoAttachPoint=\"iconNode\">\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" dojoAttachPoint=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" dojoAttachPoint=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" waiRole=\"presentation\">\n\t</td>\n</tr>\n",checked:false,_setCheckedAttr:function $DGK_(_933){dojo.toggleClass(this.domNode,"dijitCheckedMenuItemChecked",_933);dijit.setWaiState(this.domNode,"checked",_933);this.checked=_933;},onChange:function $DGL_(_934){},_onClick:function $DGM_(e){if(!this.disabled){this.attr("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.MenuSeparator"]){dojo._hasResource["dijit.MenuSeparator"]=true;dojo.provide("dijit.MenuSeparator");dojo.declare("dijit.MenuSeparator",[dijit._Widget,dijit._Templated,dijit._Contained],{templateString:"<tr class=\"dijitMenuSeparator\">\n\t<td colspan=\"4\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n",postCreate:function $DQI_(){dojo.setSelectable(this.domNode,false);},isFocusable:function $DQJ_(){return false;}});}if(!dojo._hasResource["dijit.Menu"]){dojo._hasResource["dijit.Menu"]=true;dojo.provide("dijit.Menu");dojo.declare("dijit._MenuBase",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{parentMenu:null,popupDelay:500,startup:function $DPY_(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_936){_936.startup();});this.startupKeyNavChildren();this.inherited(arguments);},onExecute:function $DPZ_(){},onCancel:function $DPa_(_937){},_moveToPopup:function $DPb_(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _939=this._getTopMenu();if(_939&&_939._isMenuBar){_939.focusNext();}}},onItemHover:function $DPc_(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=setTimeout(dojo.hitch(this,"_openPopup"),this.popupDelay);}}},_onChildBlur:function $DPd_(item){item._setSelected(false);dijit.popup.close(item.popup);this._stopPopupTimer();},onItemUnhover:function $DPe_(item){if(this.isActive){this._stopPopupTimer();}},_stopPopupTimer:function $DPf_(){if(this.hover_timer){clearTimeout(this.hover_timer);this.hover_timer=null;}},_getTopMenu:function $DPg_(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function $DPh_(item,evt){if(item.disabled){return false;}this.focusChild(item);if(item.popup){if(!this.is_open){this._openPopup();}}else{this.onExecute();item.onClick(evt);}},_openPopup:function $DPi_(){this._stopPopupTimer();var _940=this.focusedChild;var _941=_940.popup;if(_941.isShowingNow){return;}_941.parentMenu=this;var self=this;dijit.popup.open({parent:this,popup:_941,around:_940.domNode,orient:this._orient||(this.isLeftToRight()?{"TR":"TL","TL":"TR"}:{"TL":"TR","TR":"TL"}),onCancel:function $DPj_(){dijit.popup.close(_941);_940.focus();self.currentPopup=null;},onExecute:dojo.hitch(this,"_onDescendantExecute")});this.currentPopup=_941;if(_941.focus){setTimeout(dojo.hitch(_941,"focus"),0);}},onOpen:function $DPk_(e){this.isShowingNow=true;},onClose:function $DPl_(){this._stopPopupTimer();this.parentMenu=null;this.isShowingNow=false;this.currentPopup=null;if(this.focusedChild){this._onChildBlur(this.focusedChild);this.focusedChild=null;}},_onFocus:function $DPm_(){this.isActive=true;dojo.addClass(this.domNode,"dijitMenuActive");dojo.removeClass(this.domNode,"dijitMenuPassive");this.inherited(arguments);},_onBlur:function $DPn_(){this.isActive=false;dojo.removeClass(this.domNode,"dijitMenuActive");dojo.addClass(this.domNode,"dijitMenuPassive");this.onClose();this.inherited(arguments);},_onDescendantExecute:function $DPo_(){this.onClose();}});dojo.declare("dijit.Menu",dijit._MenuBase,{constructor:function $DPp_(){this._bindings=[];},templateString:"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" waiRole=\"menu\" tabIndex=\"${tabIndex}\" dojoAttachEvent=\"onkeypress:_onKeyPress\">\n\t<tbody class=\"dijitReset\" dojoAttachPoint=\"containerNode\"></tbody>\n</table>\n",targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,_contextMenuWithMouse:false,postCreate:function $DPq_(){if(this.contextMenuForWindow){this.bindDomNode(dojo.body());}else{dojo.forEach(this.targetNodeIds,this.bindDomNode,this);}var k=dojo.keys,l=this.isLeftToRight();this._openSubMenuKey=l?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=l?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW]);},_onKeyPress:function $DPr_(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);dojo.stopEvent(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{dojo.stopEvent(evt);}break;}},_iframeContentWindow:function $DPs_(_947){var win=dijit.getDocumentWindow(dijit.Menu._iframeContentDocument(_947))||dijit.Menu._iframeContentDocument(_947)["__parent__"]||(_947.name&&dojo.doc.frames[_947.name])||null;return win;},_iframeContentDocument:function $DPt_(_949){var doc=_949.contentDocument||(_949.contentWindow&&_949.contentWindow.document)||(_949.name&&dojo.doc.frames[_949.name]&&dojo.doc.frames[_949.name].document)||null;return doc;},bindDomNode:function $DPu_(node){node=dojo.byId(node);var win=dijit.getDocumentWindow(node.ownerDocument);if(node.tagName.toLowerCase()=="iframe"){win=this._iframeContentWindow(node);node=dojo.withGlobal(win,dojo.body);}var cn=(node==dojo.body()?dojo.doc:node);node[this.id]=this._bindings.push([dojo.connect(cn,(this.leftClickToOpen)?"onclick":"oncontextmenu",this,"_openMyself"),dojo.connect(cn,"onkeydown",this,"_contextKey"),dojo.connect(cn,"onmousedown",this,"_contextMouse")]);},unBindDomNode:function $DPv_(_94e){var node=dojo.byId(_94e);if(node){var bid=node[this.id]-1,b=this._bindings[bid];dojo.forEach(b,dojo.disconnect);delete this._bindings[bid];}},_contextKey:function $DPw_(e){this._contextMenuWithMouse=false;if(e.keyCode==dojo.keys.F10){dojo.stopEvent(e);if(e.shiftKey&&e.type=="keydown"){var _e={target:e.target,pageX:e.pageX,pageY:e.pageY};_e.preventDefault=_e.stopPropagation=function(){};window.setTimeout(dojo.hitch(this,function(){this._openMyself(_e);}),1);}}},_contextMouse:function $DPx_(e){this._contextMenuWithMouse=true;},_openMyself:function $DPy_(e){if(this.leftClickToOpen&&e.button>0){return;}dojo.stopEvent(e);var x,y;if(dojo.isSafari||this._contextMenuWithMouse){x=e.pageX;y=e.pageY;}else{var _958=dojo.coords(e.target,true);x=_958.x+10;y=_958.y+10;}var self=this;var _95a=dijit.getFocus(this);function _95b(){dijit.focus(_95a);dijit.popup.close(self);};dijit.popup.open({popup:this,x:x,y:y,onExecute:_95b,onCancel:_95b,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function $DP0_(){this.inherited("_onBlur",arguments);dijit.popup.close(this);};},uninitialize:function $DPz_(){dojo.forEach(this.targetNodeIds,this.unBindDomNode,this);this.inherited(arguments);}});}if(!dojo._hasResource["dojox.form.DropDownSelect"]){dojo._hasResource["dojox.form.DropDownSelect"]=true;dojo.provide("dojox.form.DropDownSelect");dojo.declare("dojox.form.DropDownSelect",[dojox.form._FormSelectWidget,dojox.form._HasDropDown],{attributeMap:dojo.mixin(dojo.clone(dojox.form._FormSelectWidget.prototype.attributeMap),{value:"valueNode",name:"valueNode"}),baseClass:"dojoxDropDownSelect",templateString:"<table class='dijit dijitReset dijitInline dijitLeft'\n\tdojoAttachPoint=\"dropDownNode,tableNode\" cellspacing='0' cellpadding='0' waiRole=\"presentation\"\n\tdojoAttachEvent=\"onmouseenter:_onMouse,onmouseleave:_onMouse,onmousedown:_onMouse\"\n\t><tbody waiRole=\"presentation\"><tr waiRole=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents dijitButtonNode\" \n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"  dojoAttachPoint=\"containerNode,popupStateNode\" id=\"${id}_label\"></span\n\t\t\t><input type=\"hidden\" ${nameAttrSetting} dojoAttachPoint=\"valueNode\" value=\"${value}\" />\n\t\t</td><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton\" \n\t\t\t\tdojoAttachPoint=\"focusNode,titleNode\" waiRole=\"button\" waiState=\"haspopup-true,labelledby-${id}_label\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\">&thinsp;</div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" waiRole=\"presentation\">&#9660;</div\n\t\t></td\n\t></tr></tbody\n></table>\n",attributeMap:dojo.mixin(dojo.clone(dojox.form._FormSelectWidget.prototype.attributeMap),{style:"tableNode"}),required:false,state:"",tooltipPosition:[],emptyLabel:"",_isLoaded:false,_childrenLoaded:false,_fillContent:function $Dzv_(){this.inherited(arguments);if(this.options.length&&!this.value){var si=this.srcNodeRef.selectedIndex;this.value=this.options[si!=-1?si:0].value;}this.dropDown=new dijit.Menu();dojo.addClass(this.dropDown.domNode,this.baseClass+"Menu");},_getMenuItemForOption:function $Dzw_(_95d){if(!_95d.value){return new dijit.MenuSeparator();}else{var _95e=dojo.hitch(this,"_setValueAttr",_95d);return new dijit.MenuItem({option:_95d,label:_95d.label,onClick:_95e,disabled:_95d.disabled||false});}},_addOptionItem:function $Dzx_(_95f){this.dropDown.addChild(this._getMenuItemForOption(_95f));},_getChildren:function $Dzy_(){return this.dropDown.getChildren();},_loadChildren:function $Dzz_(){this.inherited(arguments);var len=this.options.length;this._isLoaded=false;this._childrenLoaded=true;if(!this._iReadOnly){this.attr("readOnly",(len===1));delete this._iReadOnly;}if(!this._iDisabled){this.attr("disabled",(len===0));delete this._iDisabled;}this._setValueAttr(this.value);},_setValueAttr:function $Dz0_(_961){this.inherited(arguments);dojo.attr(this.valueNode,"value",this.attr("value"));},_setDisplay:function $Dz1_(_962){this.containerNode.innerHTML="<span class=\" "+this.baseClass+"Label\">"+(_962||this.emptyLabel||"&nbsp;")+"</span>";this._layoutHack();},validate:function $Dz2_(_963){var _964=this.isValid(_963);this.state=_964?"":"Error";this._setStateClass();dijit.setWaiState(this.focusNode,"invalid",_964?"false":"true");var _965=_964?"":this._missingMsg;if(this._message!==_965){this._message=_965;dijit.hideTooltip(this.domNode);if(_965){dijit.showTooltip(_965,this.domNode,this.tooltipPosition);}}return _964;},isValid:function $Dz3_(_966){return (!this.required||!(/^\s*$/.test(this.value)));},reset:function $Dz4_(){this.inherited(arguments);dijit.hideTooltip(this.domNode);this.state="";this._setStateClass();delete this._message;},postMixInProperties:function $Dz5_(){this.inherited(arguments);this._missingMsg=dojo.i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function $Dz6_(){this.inherited(arguments);if(dojo.attr(this.srcNodeRef,"disabled")){this.attr("disabled",true);}if(this.tableNode.style.width){dojo.addClass(this.domNode,this.baseClass+"FixedWidth");}},startup:function $Dz7_(){if(this._started){return;}if(!this.dropDown){var _967=dojo.query("[widgetId]",this.dropDownContainer)[0];this.dropDown=dijit.byNode(_967);delete this.dropDownContainer;}this.inherited(arguments);},_onMenuMouseup:function $Dz8_(e){var _969=this.dropDown,t=e.target;if(_969.onItemClick){var _96b;while(t&&!(_96b=dijit.byNode(t))){t=t.parentNode;}if(_96b&&_96b.onClick&&_96b.getParent){_96b.getParent().onItemClick(_96b,e);}}},isLoaded:function $Dz9_(){return this._isLoaded;},loadDropDown:function $D0A_(_96c){this._loadChildren();this._isLoaded=true;_96c();},_setReadOnlyAttr:function $D0B_(_96d){this._iReadOnly=_96d;if(!_96d&&this._childrenLoaded&&this.options.length===1){return;}this.readOnly=_96d;},_setDisabledAttr:function $D0C_(_96e){this._iDisabled=_96e;if(!_96e&&this._childrenLoaded&&this.options.length===0){return;}this.inherited(arguments);},uninitialize:function $D0D_(_96f){if(this.dropDown){this.dropDown.destroyRecursive(_96f);delete this.dropDown;}this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.select1.Plain"]){dojo._hasResource["betterform.ui.select1.Plain"]=true;dojo.provide("betterform.ui.select1.Plain");dojo.declare("betterform.ui.select1.Plain",betterform.ui.ControlValue,{buildRendering:function $DA4c_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DA4d_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DA4e_(){dojo.connect(this.domNode,"onchange",this,"_onChange");this.setCurrentValue();},_onFocus:function $DA4f_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA4g_(){this.inherited(arguments);this.handleOnBlur();},_onChange:function $DA4h_(){var _970=this.domNode.options[this.domNode.selectedIndex];fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",dojo.attr(_970,"id"));if(this.incremental){this.setControlValue();}},getControlValue:function $DA4i_(){if(this.domNode.selectedIndex==undefined||this.domNode.selectedIndex==-1){return "";}var _971=this.domNode.options[this.domNode.selectedIndex].value;if(_971!=undefined){return _971;}else{return "";}},applyState:function $DA4j_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"disabled","disabled");}else{this.domNode.removeAttribute("disabled");}},_handleSetControlValue:function $DA4k_(_972){for(i=0;i<this.domNode.options.length;i++){if(this.domNode.options[i].value==_972){this.domNode.selectedIndex=i;}}}});}if(!dojo._hasResource["betterform.ui.select1.RadioGroup"]){dojo._hasResource["betterform.ui.select1.RadioGroup"]=true;dojo.provide("betterform.ui.select1.RadioGroup");dojo.declare("betterform.ui.select1.RadioGroup",betterform.ui.ControlValue,{radioItems:null,buildRendering:function $DA4q_(){this.domNode=this.srcNodeRef;},postMixInProperties:function $DA4r_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DA4s_(){var name=this.id;dojo.query("*[controltype='radioButtonEntry']",this.domNode).forEach(function(_974){var _975=dojo.attr(_974,"id");var _976=[0];dojo.query(".xfRadioValue",_974).attr("name",name);var _977=new betterform.ui.Control({id:_975,value:dojo.attr(_974,"value")},_974);_977.startup();});this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DA4t_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA4u_(){this.inherited(arguments);this.handleOnBlur();},_setRadioGroupValue:function $DA4v_(){var _978=dojo.query(".dijitRadioChecked .dijitCheckBoxInput",this.domNode)[0];var _979;if(_978!=undefined){var _97a=dojo.attr(_978,"id");_979=_97a.substring(0,_97a.length-6);}else{_979="";}fluxProcessor.dispatchEventType(this.xfControl.id,"DOMActivate",_979);if(this.incremental){this.setControlValue();}},getControlValue:function $DA4w_(){var _97b=dojo.query(".dijitRadioChecked .dijitCheckBoxInput",this.domNode)[0];if(_97b!=undefined){return dijit.byId(dojo.attr(_97b,"id")).getControlValue();}else{return "";}},_handleSetControlValue:function $DA4x_(_97c){var _97d=dojo.query(".xfRadioValue",this.domNode);for(i=0;i<_97d.length;i++){var _97e=dojo.attr(_97d[i],"widgetId");var _97f=dijit.byId(_97e);var _980=_97f.getControlValue();if(_980==_97c){_97f._setCheckedAttr(true);}else{_97f._setCheckedAttr(false);}}},applyState:function $DA4y_(){var _981=dojo.query(".xfRadioValue",this.domNode);for(i=0;i<_981.length;i++){var _982=dojo.byId(dojo.attr(_981[i],"widgetId"));if(this.xfControl.isReadonly()&&_982!=undefined){dojo.attr(_982,"disabled","disabled");}else{if(_982!=undefined){_982.removeAttribute("disabled");}}}}});}if(!dojo._hasResource["betterform.ui.textarea.MinimalTextarea"]){dojo._hasResource["betterform.ui.textarea.MinimalTextarea"]=true;dojo.provide("betterform.ui.textarea.MinimalTextarea");dojo.declare("betterform.ui.textarea.MinimalTextarea",betterform.ui.ControlValue,{rows:5,cols:40,templateString:"<span\n    ><textarea name=\"\" rows=\"${rows}\" cols=\"${cols}\" class=\"xfValue\" dojoAttachPoint=\"inputNode\" dojoAttachEvent=\"onchange:_valueChanged\"\n> </textarea></span>\n",templateString:null,postMixInProperties:function $DA5J_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA5K_(){this.inherited(arguments);this.inputNode.value=this.srcNodeRef.innerHTML;dojo.connect(this.domNode,"onkeypress",this,"_valueChanged");},_onFocus:function $DA5L_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA5M_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA5N_(){return this.inputNode.value;},_valueChanged:function $DA5O_(evt){if(this.incremental){this.setControlValue();}},applyState:function $DA5P_(){if(this.xfControl.isReadonly()){dojo.attr(this.inputNode,"disabled","disabled");}else{if(dojo.hasAttr(this.inputNode,"readonly")){dojo.removeAttr(this.inputNode,"disabled");}else{if(dojo.hasAttr(this.inputNode,"disabled")){dojo.removeAttr(this.inputNode,"disabled");}}}},_handleSetControlValue:function $DA5Q_(_984){this._setValueAttr(_984);}});}if(!dojo._hasResource["dijit._editor.selection"]){dojo._hasResource["dijit._editor.selection"]=true;dojo.provide("dijit._editor.selection");dojo.mixin(dijit._editor.selection,{getType:function $DD1_(){if(dojo.doc.selection){return dojo.doc.selection.type.toLowerCase();}else{var _985="text";var oSel;try{oSel=dojo.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _987=oSel.getRangeAt(0);if((_987.startContainer==_987.endContainer)&&((_987.endOffset-_987.startOffset)==1)&&(_987.startContainer.nodeType!=3)){_985="control";}}return _985;}},getSelectedText:function $DD2_(){if(dojo.doc.selection){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().text;}else{var _988=dojo.global.getSelection();if(_988){return _988.toString();}}return "";},getSelectedHtml:function $DD3_(){if(dojo.doc.selection){if(dijit._editor.selection.getType()=="control"){return null;}return dojo.doc.selection.createRange().htmlText;}else{var _989=dojo.global.getSelection();if(_989&&_989.rangeCount){var frag=_989.getRangeAt(0).cloneContents();var div=dojo.doc.createElement("div");div.appendChild(frag);return div.innerHTML;}return null;}},getSelectedElement:function $DD4_(){if(dijit._editor.selection.getType()=="control"){if(dojo.doc.selection){var _98c=dojo.doc.selection.createRange();if(_98c&&_98c.item){return dojo.doc.selection.createRange().item(0);}}else{var _98d=dojo.global.getSelection();return _98d.anchorNode.childNodes[_98d.anchorOffset];}}return null;},getParentElement:function $DD5_(){if(dijit._editor.selection.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(dojo.doc.selection){var r=dojo.doc.selection.createRange();r.collapse(true);return r.parentElement();}else{var _990=dojo.global.getSelection();if(_990){var node=_990.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}return null;},hasAncestorElement:function $DD6_(_992){return this.getAncestorElement.apply(this,arguments)!=null;},getAncestorElement:function $DD7_(_993){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function $DD8_(node,tags){if(node&&node.tagName){var _nlc=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _tlc=String(tags[i]).toLowerCase();if(_nlc==_tlc){return _tlc;}}}return "";},getParentOfType:function $DD9_(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},collapse:function $DEA_(_99c){if(window["getSelection"]){var _99d=dojo.global.getSelection();if(_99d.removeAllRanges){if(_99c){_99d.collapseToStart();}else{_99d.collapseToEnd();}}else{_99d.collapse(_99c);}}else{if(dojo.doc.selection){var _99e=dojo.doc.selection.createRange();_99e.collapse(_99c);_99e.select();}}},remove:function $DEB_(){var _s=dojo.doc.selection;if(_s){if(_s.type.toLowerCase()!="none"){_s.clear();}return _s;}else{_s=dojo.global.getSelection();_s.deleteFromDocument();return _s;}},selectElementChildren:function $DEC_(_9a0,_9a1){var _9a2=dojo.global;var _9a3=dojo.doc;_9a0=dojo.byId(_9a0);if(_9a3.selection&&dojo.body().createTextRange){var _9a4=_9a0.ownerDocument.body.createTextRange();_9a4.moveToElementText(_9a0);if(!_9a1){try{_9a4.select();}catch(e){}}}else{if(_9a2.getSelection){var _9a5=_9a2.getSelection();if(_9a5.setBaseAndExtent){_9a5.setBaseAndExtent(_9a0,0,_9a0,_9a0.innerText.length-1);}else{if(_9a5.selectAllChildren){_9a5.selectAllChildren(_9a0);}}}}},selectElement:function $DED_(_9a6,_9a7){var _9a8,_9a9=dojo.doc;_9a6=dojo.byId(_9a6);if(_9a9.selection&&dojo.body().createTextRange){try{_9a8=dojo.body().createControlRange();_9a8.addElement(_9a6);if(!_9a7){_9a8.select();}}catch(e){this.selectElementChildren(_9a6,_9a7);}}else{if(dojo.global.getSelection){var _9aa=dojo.global.getSelection();if(_9aa.removeAllRanges){_9a8=_9a9.createRange();_9a8.selectNode(_9a6);_9aa.removeAllRanges();_9aa.addRange(_9a8);}}}}});}if(!dojo._hasResource["dijit._editor.range"]){dojo._hasResource["dijit._editor.range"]=true;dojo.provide("dijit._editor.range");dijit.range={};dijit.range.getIndex=function $DCq_(node,_9ac){var ret=[],retR=[];var stop=_9ac;var _9b0=node;var _9b1,n;while(node!=stop){var i=0;_9b1=node.parentNode;while((n=_9b1.childNodes[i++])){if(n===node){--i;break;}}if(i>=_9b1.childNodes.length){dojo.debug("Error finding index of a node in dijit.range.getIndex");}ret.unshift(i);retR.unshift(i-_9b1.childNodes.length);node=_9b1;}if(ret.length>0&&_9b0.nodeType==3){n=_9b0.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_9b0.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return {o:ret,r:retR};};dijit.range.getNode=function $DCr_(_9b4,_9b5){if(!dojo.isArray(_9b4)||_9b4.length==0){return _9b5;}var node=_9b5;dojo.every(_9b4,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;};dijit.range.getCommonAncestor=function $DCs_(n1,n2){var _9ba=function(n){var as=[];while(n){as.unshift(n);if(n.nodeName!="BODY"){n=n.parentNode;}else{break;}}return as;};var n1as=_9ba(n1);var n2as=_9ba(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;};dijit.range.getAncestor=function $DCt_(node,_9c3,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_9c3.test(name)){return node;}node=node.parentNode;}return null;};dijit.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;dijit.range.getBlockAncestor=function $DCu_(node,_9c7,root){root=root||node.ownerDocument.body;_9c7=_9c7||dijit.range.BlockTagNames;var _9c9=null,_9ca;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_9c9&&_9c7.test(name)){_9c9=node;}if(!_9ca&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_9ca=node;}node=node.parentNode;}return {blockNode:_9c9,blockContainer:_9ca||node.ownerDocument.body};};dijit.range.atBeginningOfContainer=function $DCv_(_9cc,node,_9ce){var _9cf=false;var _9d0=(_9ce==0);if(!_9d0&&node.nodeType==3){if(dojo.trim(node.nodeValue.substr(0,_9ce))==0){_9d0=true;}}if(_9d0){var _9d1=node;_9cf=true;while(_9d1&&_9d1!==_9cc){if(_9d1.previousSibling){_9cf=false;break;}_9d1=_9d1.parentNode;}}return _9cf;};dijit.range.atEndOfContainer=function $DCw_(_9d2,node,_9d4){var _9d5=false;var _9d6=(_9d4==(node.length||node.childNodes.length));if(!_9d6&&node.nodeType==3){if(dojo.trim(node.nodeValue.substr(_9d4))==0){_9d6=true;}}if(_9d6){var _9d7=node;_9d5=true;while(_9d7&&_9d7!==_9d2){if(_9d7.nextSibling){_9d5=false;break;}_9d7=_9d7.parentNode;}}return _9d5;};dijit.range.adjacentNoneTextNode=function $DCx_(_9d8,next){var node=_9d8;var len=(0-_9d8.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return [node,len];};dijit.range._w3c=Boolean(window["getSelection"]);dijit.range.create=function $DCy_(){if(dijit.range._w3c){return dojo.doc.createRange();}else{return new dijit.range.W3CRange;}};dijit.range.getSelection=function $DCz_(win,_9de){if(dijit.range._w3c){return win.getSelection();}else{var s=new dijit.range.ie.selection(win);if(!_9de){s._getCurrentSelection();}return s;}};if(!dijit.range._w3c){dijit.range.ie={cachedSelection:{},selection:function $DCR_(win){this._ranges=[];this.addRange=function $DCm_(r,_9e2){this._ranges.push(r);if(!_9e2){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function $DCn_(){this._ranges=[];this.rangeCount=0;};var _9e3=function(){var r=win.document.selection.createRange();var type=win.document.selection.type.toUpperCase();if(type=="CONTROL"){return new dijit.range.W3CRange(dijit.range.ie.decomposeControlRange(r));}else{return new dijit.range.W3CRange(dijit.range.ie.decomposeTextRange(r));}};this.getRangeAt=function $DCo_(i){return this._ranges[i];};this._getCurrentSelection=function $DCp_(){this.removeAllRanges();var r=_9e3();if(r){this.addRange(r,true);}};},decomposeControlRange:function $DCS_(_9e8){var _9e9=_9e8.item(0),_9ea=_9e8.item(_9e8.length-1);var _9eb=_9e9.parentNode,_9ec=_9ea.parentNode;var _9ed=dijit.range.getIndex(_9e9,_9eb).o;var _9ee=dijit.range.getIndex(_9ea,_9ec).o+1;return [_9eb,_9ed,_9ec,_9ee];},getEndPoint:function $DCT_(_9ef,end){var _9f1=_9ef.duplicate();_9f1.collapse(!end);var _9f2="EndTo"+(end?"End":"Start");var _9f3=_9f1.parentElement();var _9f4,_9f5,_9f6;if(_9f3.childNodes.length>0){dojo.every(_9f3.childNodes,function(node,i){var _9f9;if(node.nodeType!=3){_9f1.moveToElementText(node);if(_9f1.compareEndPoints(_9f2,_9ef)>0){_9f4=node.previousSibling;if(_9f6&&_9f6.nodeType==3){_9f4=_9f6;_9f9=true;}else{_9f4=_9f3;_9f5=i;return false;}}else{if(i==_9f3.childNodes.length-1){_9f4=_9f3;_9f5=_9f3.childNodes.length;return false;}}}else{if(i==_9f3.childNodes.length-1){_9f4=node;_9f9=true;}}if(_9f9&&_9f4){var _9fa=dijit.range.adjacentNoneTextNode(_9f4)[0];if(_9fa){_9f4=_9fa.nextSibling;}else{_9f4=_9f3.firstChild;}var _9fb=dijit.range.adjacentNoneTextNode(_9f4);_9fa=_9fb[0];var _9fc=_9fb[1];if(_9fa){_9f1.moveToElementText(_9fa);_9f1.collapse(false);}else{_9f1.moveToElementText(_9f3);}_9f1.setEndPoint(_9f2,_9ef);_9f5=_9f1.text.length-_9fc;return false;}_9f6=node;return true;});}else{_9f4=_9f3;_9f5=0;}if(!end&&_9f4.nodeType!=3&&_9f5==_9f4.childNodes.length){if(_9f4.nextSibling&&_9f4.nextSibling.nodeType==3){_9f4=_9f4.nextSibling;_9f5=0;}}return [_9f4,_9f5];},setEndPoint:function $DCU_(_9fd,_9fe,_9ff){var _a00=_9fd.duplicate(),node,len;if(_9fe.nodeType!=3){if(_9ff>0){node=_9fe.childNodes[_9ff-1];if(node.nodeType==3){_9fe=node;_9ff=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_9fe=node.nextSibling;_9ff=0;}else{_a00.moveToElementText(node.nextSibling?node:_9fe);var _a03=node.parentNode.insertBefore(document.createTextNode(" "),node.nextSibling);_a00.collapse(false);_a03.parentNode.removeChild(_a03);}}}else{_a00.moveToElementText(_9fe);_a00.collapse(true);}}if(_9fe.nodeType==3){var _a04=dijit.range.adjacentNoneTextNode(_9fe);var _a05=_a04[0];len=_a04[1];if(_a05){_a00.moveToElementText(_a05);_a00.collapse(false);if(_a05.contentEditable!="inherit"){len++;}}else{_a00.moveToElementText(_9fe.parentNode);_a00.collapse(true);}_9ff+=len;if(_9ff>0){if(_a00.move("character",_9ff)!=_9ff){console.error("Error when moving!");}}}return _a00;},decomposeTextRange:function $DCV_(_a06){var _a07=dijit.range.ie.getEndPoint(_a06);var _a08=_a07[0],_a09=_a07[1];var _a0a=_a07[0],_a0b=_a07[1];if(_a06.htmlText.length){if(_a06.htmlText==_a06.text){_a0b=_a09+_a06.text.length;}else{_a07=dijit.range.ie.getEndPoint(_a06,true);_a0a=_a07[0],_a0b=_a07[1];}}return [_a08,_a09,_a0a,_a0b];},setRange:function $DCW_(_a0c,_a0d,_a0e,_a0f,_a10,_a11){var _a12=dijit.range.ie.setEndPoint(_a0c,_a0d,_a0e);_a0c.setEndPoint("StartToStart",_a12);if(!_a11){var end=dijit.range.ie.setEndPoint(_a0c,_a0f,_a10);}_a0c.setEndPoint("EndToEnd",end||_a12);return _a0c;}};dojo.declare("dijit.range.W3CRange",null,{constructor:function $DCX_(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function $DCY_(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=dijit.range.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function $DCZ_(node,_a15){_a15=parseInt(_a15);if(this.startContainer===node&&this.startOffset==_a15){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_a15;if(!this.endContainer){this.setEnd(node,_a15);}else{this._updateInternal();}},setEnd:function $DCa_(node,_a17){_a17=parseInt(_a17);if(this.endContainer===node&&this.endOffset==_a17){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_a17;if(!this.startContainer){this.setStart(node,_a17);}else{this._updateInternal();}},setStartAfter:function $DCb_(node,_a19){this._setPoint("setStart",node,_a19,1);},setStartBefore:function $DCc_(node,_a1b){this._setPoint("setStart",node,_a1b,0);},setEndAfter:function $DCd_(node,_a1d){this._setPoint("setEnd",node,_a1d,1);},setEndBefore:function $DCe_(node,_a1f){this._setPoint("setEnd",node,_a1f,0);},_setPoint:function $DCf_(what,node,_a22,ext){var _a24=dijit.range.getIndex(node,node.parentNode).o;this[what](node.parentNode,_a24.pop()+ext);},_getIERange:function $DCg_(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();dijit.range.ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function $DCh_(body){this._getIERange();return this._cachedBookmark;},_select:function $DCi_(){var r=this._getIERange();r.select();},deleteContents:function $DCj_(){var r=this._getIERange();r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function $DCk_(){var r=new dijit.range.W3CRange([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function $DCl_(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}}if(!dojo._hasResource["dijit._editor.html"]){dojo._hasResource["dijit._editor.html"]=true;dojo.provide("dijit._editor.html");dijit._editor.escapeXml=function $DBr_(str,_a2b){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_a2b){str=str.replace(/'/gm,"&#39;");}return str;};dijit._editor.getNodeHtml=function $DBs_(node){var _a2d;switch(node.nodeType){case 1:_a2d="<"+node.nodeName.toLowerCase();var _a2e=[];if(dojo.isIE&&node.outerHTML){var s=node.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var reg=/([^\s=]+)=/g;var m,key;while((m=reg.exec(s))){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(node.getAttribute("_djrealurl")){_a2e.push([key,node.getAttribute("_djrealurl")]);continue;}}var val;switch(key){case "style":val=node.style.cssText.toLowerCase();break;case "class":val=node.className;break;default:val=node.getAttribute(key);}_a2e.push([key,val.toString()]);}}}else{var attr,i=0;while((attr=node.attributes[i++])){var n=attr.name;if(n.substr(0,3)!="_dj"){var v=attr.value;if(n=="src"||n=="href"){if(node.getAttribute("_djrealurl")){v=node.getAttribute("_djrealurl");}}_a2e.push([n,v]);}}}_a2e.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((attr=_a2e[j++])){_a2d+=" "+attr[0]+"=\""+(dojo.isString(attr[1])?dijit._editor.escapeXml(attr[1],true):attr[1])+"\"";}if(node.childNodes.length){_a2d+=">"+dijit._editor.getChildrenHtml(node)+"</"+node.nodeName.toLowerCase()+">";}else{_a2d+=" />";}break;case 3:_a2d=dijit._editor.escapeXml(node.nodeValue,true);break;case 8:_a2d="<!--"+dijit._editor.escapeXml(node.nodeValue,true)+"-->";break;default:_a2d="<!-- Element not recognized - Type: "+node.nodeType+" Name: "+node.nodeName+"-->";}return _a2d;};dijit._editor.getChildrenHtml=function $DBt_(dom){var out="";if(!dom){return out;}var _a3d=dom["childNodes"]||dom;var _a3e=!dojo.isIE||_a3d!==dom;var node,i=0;while((node=_a3d[i++])){if(!_a3e||node.parentNode==dom){out+=dijit._editor.getNodeHtml(node);}}return out;};}if(!dojo._hasResource["dijit._editor.RichText"]){dojo._hasResource["dijit._editor.RichText"]=true;dojo.provide("dijit._editor.RichText");if(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"]){if(dojo._postLoad){(function(){var _a41=dojo.doc.createElement("textarea");_a41.id=dijit._scopeName+"._editor.RichText.savedContent";dojo.style(_a41,{display:"none",position:"absolute",top:"-100px",height:"3px",width:"3px"});dojo.body().appendChild(_a41);})();}else{try{dojo.doc.write("<textarea id=\""+dijit._scopeName+"._editor.RichText.savedContent\" "+"style=\"display:none;position:absolute;top:-100px;left:-100px;height:3px;width:3px;overflow:hidden;\"></textarea>");}catch(e){}}}dojo.declare("dijit._editor.RichText",dijit._Widget,{constructor:function $DC0_(_a42){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this._keyHandlers={};this.contentPreFilters.push(dojo.hitch(this,"_preFixUrlAttributes"));if(dojo.isMoz){this.contentPreFilters.push(this._fixContentForMoz);this.contentPostFilters.push(this._removeMozBogus);}if(dojo.isSafari){this.contentPostFilters.push(this._removeSafariBogus);}this.onLoadDeferred=new dojo.Deferred();},inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",_content:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function $DC1_(){if("textarea"==this.domNode.tagName.toLowerCase()){console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");}dojo.publish(dijit._scopeName+"._editor.RichText::init",[this]);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function $DC2_(){var exec=dojo.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _a46={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function $DC3_(){this.save(true);},m:function $DC4_(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!dojo.isIE){_a46.Z=exec("redo");}for(var key in _a46){this.addKeyHandler(key,true,false,_a46[key]);}},events:["onKeyPress","onKeyDown","onKeyUp","onClick"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function $DC5_(){if(this._editorCommandsLocalized){return;}this._editorCommandsLocalized=true;var _a48=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _a49="",_a4a,i=0;while((_a4a=_a48[i++])){if(_a4a.charAt(1)!="l"){_a49+="<"+_a4a+"><span>content</span></"+_a4a+"><br/>";}else{_a49+="<"+_a4a+"><li>content</li></"+_a4a+"><br/>";}}var div=dojo.doc.createElement("div");dojo.style(div,{position:"absolute",top:"-2000px"});dojo.doc.body.appendChild(div);div.innerHTML=_a49;var node=div.firstChild;while(node){dijit._editor.selection.selectElement(node.firstChild);dojo.withGlobal(this.window,"selectElement",dijit._editor.selection,[node.firstChild]);var _a4e=node.tagName.toLowerCase();this._local2NativeFormatNames[_a4e]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_a4e]]=_a4e;node=node.nextSibling.nextSibling;}dojo.body().removeChild(div);},open:function $DC6_(_a4f){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new dojo.Deferred();}if(!this.isClosed){this.close();}dojo.publish(dijit._scopeName+"._editor.RichText::open",[this]);this._content="";if(arguments.length==1&&_a4f.nodeName){this.domNode=_a4f;}var dn=this.domNode;var html;if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=this._preFilterContent(ta.value);dn=this.domNode=dojo.doc.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;dojo.place(dn,ta,"before");var _a53=dojo.hitch(this,function(){dojo.style(ta,{display:"block",position:"absolute",top:"-1000px"});if(dojo.isIE){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(dojo.isIE){setTimeout(_a53,10);}else{_a53();}if(ta.form){dojo.connect(ta.form,"onsubmit",this,function(){ta.value=this.getValue();});}}else{html=this._preFilterContent(dijit._editor.getChildrenHtml(dn));dn.innerHTML="";}var _a55=dojo.contentBox(dn);this._oldHeight=_a55.h;this._oldWidth=_a55.w;this.savedContent=html;if(dn.nodeName&&dn.nodeName=="LI"){dn.innerHTML=" <br>";}this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);if(this.name!=""&&(!dojo.config["useXDomain"]||dojo.config["allowXdRichTextSave"])){var _a56=dojo.byId(dijit._scopeName+"._editor.RichText.savedContent");if(_a56.value!=""){var _a57=_a56.value.split(this._SEPARATOR),i=0,dat;while((dat=_a57[i++])){var data=dat.split(":");if(data[0]==this.name){html=data[1];_a57.splice(i,1);break;}}}this.connect(window,"onbeforeunload","_saveContent");}this.isClosed=false;if(dojo.isIE||dojo.isWebKit||dojo.isOpera){var ifr=(this.editorObject=this.iframe=dojo.doc.createElement("iframe"));ifr.id=this.id+"_iframe";this._iframeSrc=this._getIframeDocTxt();ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(dojo.isIE>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=dojo.hitch(this,function(win){this.window=win;this.document=this.window.document;if(dojo.isIE){this._localizeEditorCommands();}this.onLoad(html);this.savedContent=this.getValue(true);});var s="javascript:parent."+dijit._scopeName+".byId(\""+this.id+"\")._iframeSrc";ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);if(dojo.isWebKit){setTimeout(function(){ifr.setAttribute("src",s);},0);}}else{this._drawIframe(html);this.savedContent=this.getValue(true);}if(dn.nodeName=="LI"){dn.lastChild.style.marginTop="-1.2em";}if(this.domNode.nodeName=="LI"){this.domNode.lastChild.style.marginTop="-1.2em";}dojo.addClass(this.domNode,"RichTextEditable");},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_localizedIframeTitles:null,_getIframeDocTxt:function $DC7_(){var _cs=dojo.getComputedStyle(this.domNode);var html="";if(dojo.isIE||(!this.height&&!dojo.isMoz)){html="<div>"+html+"</div>";}var font=[_cs.fontWeight,_cs.fontSize,_cs.fontFamily].join(" ");var _a61=_cs.lineHeight;if(_a61.indexOf("px")>=0){_a61=parseFloat(_a61)/parseFloat(_cs.fontSize);}else{if(_a61.indexOf("em")>=0){_a61=parseFloat(_a61);}else{_a61="1.0";}}var _a62="";this.style.replace(/(^|;)(line-|font-?)[^;]+/g,function(_a63){_a62+=_a63.replace(/^;/g,"")+";";});var d=dojo.doc;return [this.isLeftToRight()?"<html><head>":"<html dir='rtl'><head>",(dojo.isMoz?"<title>"+this._localizedIframeTitles.iframeEditTitle+"</title>":""),"<meta http-equiv='Content-Type' content='text/html;'>","<style>","body,html {","\tbackground:transparent;","\tpadding: 1em 0 0 0;","\tmargin: -1em 0 0 0;","}","body{","\ttop:0px; left:0px; right:0px;","\tfont:",font,";",((this.height||dojo.isOpera)?"":"position: fixed;"),"\tmin-height:",this.minHeight,";","\tline-height:",_a61,"}","p{ margin: 1em 0 !important; }",(this.height?"":"body,html{overflow-y:hidden;/*for IE*/} body > div {overflow-x:auto;/*FF:horizontal scrollbar*/ overflow-y:hidden;/*safari*/ min-height:"+this.minHeight+";/*safari*/}"),"li > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; } ","li{ min-height:1.2em; }","</style>",this._applyEditingAreaStyleSheets(),"</head><body onload='frameElement._loadFunc(window,document)' style='"+_a62+"'>",html,"</body></html>"].join("");},_drawIframe:function $DC8_(html){if(!this.iframe){var ifr=(this.iframe=dojo.doc.createElement("iframe"));ifr.id=this.id+"_iframe";var ifrs=ifr.style;ifrs.border="none";ifrs.lineHeight="0";ifrs.verticalAlign="bottom";this.editorObject=this.iframe;this._localizedIframeTitles=dojo.i18n.getLocalization("dijit.form","Textarea");var _a68=dojo.query("label[for=\""+this.id+"\"]");if(_a68.length){this._localizedIframeTitles.iframeEditTitle=_a68[0].innerHTML+" "+this._localizedIframeTitles.iframeEditTitle;}ifr._loadFunc=function $DDz_(win){};}this.iframe.style.width=this.inheritWidth?this._oldWidth:"100%";if(this._layoutMode){this.iframe.style.height="100%";}else{if(this.height){this.iframe.style.height=this.height;}else{this.iframe.height=this._oldHeight;}}var _a6a;if(this.textarea){_a6a=this.srcNodeRef;}else{_a6a=dojo.doc.createElement("div");_a6a.style.display="none";_a6a.innerHTML=html;this.editingArea.appendChild(_a6a);}this.editingArea.appendChild(this.iframe);var _a6b=dojo.hitch(this,function(){if(!this.editNode){if(!this.document){try{if(this.iframe.contentWindow){this.window=this.iframe.contentWindow;this.document=this.iframe.contentWindow.document;}else{if(this.iframe.contentDocument){this.window=this.iframe.contentDocument.window;this.document=this.iframe.contentDocument;}}}catch(e){}if(!this.document){setTimeout(_a6b,50);return;}var _a6c=this.document;_a6c.open();if(dojo.isAIR){_a6c.body.innerHTML=html;}else{_a6c.write(this._getIframeDocTxt());}_a6c.close();dojo.destroy(_a6a);}if(!this.document.body){setTimeout(_a6b,50);return;}this.onLoad(html);}else{dojo.destroy(_a6a);this.editNode.innerHTML=html;this.onDisplayChanged();}});_a6b();},_applyEditingAreaStyleSheets:function $DC9_(){var _a6d=[];if(this.styleSheets){_a6d=this.styleSheets.split(";");this.styleSheets="";}_a6d=_a6d.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while((url=_a6d[i++])){var _a71=(new dojo._Url(dojo.global.location,url)).toString();this.editingAreaStyleSheets.push(_a71);text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_a71+"\"/>";}return text;},addStyleSheet:function $DDA_(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}if(dojo.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _a75=this.document.createElement("link");_a75.rel="stylesheet";_a75.type="text/css";_a75.href=url;head.appendChild(_a75);}},removeStyleSheet:function $DDB_(uri){var url=uri.toString();if(url.charAt(0)=="."||(url.charAt(0)!="/"&&!uri.host)){url=(new dojo._Url(dojo.global.location,url)).toString();}var _a78=dojo.indexOf(this.editingAreaStyleSheets,url);if(_a78==-1){return;}delete this.editingAreaStyleSheets[_a78];dojo.withGlobal(this.window,"query",dojo,["link:[href=\""+url+"\"]"]).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function $DDC_(_a79){this.disabled=_a79;if(!this.isLoaded){return;}_a79=!!_a79;if(dojo.isIE||dojo.isWebKit||dojo.isOpera){var _a7a=dojo.isIE&&(this.isLoaded||!this.focusOnLoad);if(_a7a){this.editNode.unselectable="on";}this.editNode.contentEditable=!_a79;if(_a7a){var _a7b=this;setTimeout(function(){_a7b.editNode.unselectable="off";},0);}}else{try{this.document.designMode=(_a79?"off":"on");}catch(e){return;}if(!_a79&&this._mozSettingProps){var ps=this._mozSettingProps;for(var n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e){}}}}}this._disabledOK=true;},_isResized:function $DDD_(){return false;},onLoad:function $DDE_(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;dijit.registerIframe(this.iframe);}if(!dojo.isIE&&(this.height||dojo.isMoz)){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _a7f=this;if(dojo.isIE){var _a80=(this.tabStop=dojo.doc.createElement("<div tabIndex=-1>"));this.editingArea.appendChild(_a80);this.iframe.onfocus=function $DD0_(){_a7f.editNode.setActive();};}}this.focusNode=this.editNode;this._preDomFilterContent(this.editNode);var _a81=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;dojo.forEach(_a81,function(item){this.connect(ap,item.toLowerCase(),item);},this);if(dojo.isIE){this.connect(this.document,"onmousedown","_onIEMouseDown");this.editNode.style.zoom=1;}if(dojo.isWebKit){this._webkitListener=this.connect(this.document,"onmouseup","onDisplayChanged");}this.isLoaded=true;this.attr("disabled",this.disabled);this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}if(this.focusOnLoad){dojo.addOnLoad(dojo.hitch(this,function(){setTimeout(dojo.hitch(this,"focus"),this.updateInterval);}));}this.onDisplayChanged();},onKeyDown:function $DDF_(e){if(e.keyCode===dojo.keys.TAB&&this.isTabIndent){dojo.stopEvent(e);if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(dojo.isIE){if(e.keyCode==dojo.keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===dojo.keys.BACKSPACE&&this.document.selection.type==="Control"){dojo.stopEvent(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}else{if(dojo.isMoz&&!this.isTabIndent){if(e.keyCode==dojo.keys.TAB&&!e.shiftKey&&!e.ctrlKey&&!e.altKey&&this.iframe){var _a85=dojo.isFF<3?this.iframe.contentDocument:this.iframe;_a85.title=this._localizedIframeTitles.iframeFocusTitle;this.iframe.focus();dojo.stopEvent(e);}else{if(e.keyCode==dojo.keys.TAB&&e.shiftKey){if(this.toolbar){this.toolbar.focus();}dojo.stopEvent(e);}}}}return true;},onKeyUp:function $DDG_(e){return;},setDisabled:function $DDH_(_a87){dojo.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);this.attr("disabled",_a87);},_setValueAttr:function $DDI_(_a88){this.setValue(_a88);},_getDisableSpellCheckAttr:function $DDJ_(){return !dojo.attr(this.document.body,"spellcheck");},_setDisableSpellCheckAttr:function $DDK_(_a89){if(this.document){dojo.attr(this.document.body,"spellcheck",!_a89);}else{this.onLoadDeferred.addCallback(dojo.hitch(this,function(){dojo.attr(this.document.body,"spellcheck",!_a89);}));}},onKeyPress:function $DDL_(e){var c=(e.keyChar&&e.keyChar.toLowerCase())||e.keyCode;var _a8c=this._keyHandlers[c];var args=arguments;if(_a8c&&!e.altKey){dojo.forEach(_a8c,function(h){if((!!h.shift==!!e.shiftKey)&&(!!h.ctrl==!!e.ctrlKey)){if(!h.handler.apply(this,args)){e.preventDefault();}}},this);}if(!this._onKeyHitch){this._onKeyHitch=dojo.hitch(this,"onKeyPressed");}setTimeout(this._onKeyHitch,1);return true;},addKeyHandler:function $DDM_(key,ctrl,_a91,_a92){if(!dojo.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_a91||false,ctrl:ctrl||false,handler:_a92});},onKeyPressed:function $DDN_(){this.onDisplayChanged();},onClick:function $DDO_(e){this.onDisplayChanged(e);},_onIEMouseDown:function $DDP_(e){if(!this._focused&&!this.disabled){this.focus();}},_onBlur:function $DDQ_(e){this.inherited(arguments);var _c=this.getValue(true);if(_c!=this.savedContent){this.onChange(_c);this.savedContent=_c;}if(dojo.isMoz&&this.iframe){var _a97=dojo.isFF<3?this.iframe.contentDocument:this.iframe;_a97.title=this._localizedIframeTitles.iframeEditTitle;}},_onFocus:function $DDR_(e){if(!this.disabled){if(!this._disabledOK){this.attr("disabled",false);}this.inherited(arguments);}},blur:function $DDS_(){if(!dojo.isIE&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(dojo.doc.body.focus){dojo.doc.body.focus();}}},focus:function $DDT_(){if(!dojo.isIE){dijit.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){this.iframe.fireEvent("onfocus",document.createEventObject());}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function $DDU_(e){if(this._updateTimer){clearTimeout(this._updateTimer);}if(!this._updateHandler){this._updateHandler=dojo.hitch(this,"onNormalizedDisplayChanged");}this._updateTimer=setTimeout(this._updateHandler,this.updateInterval);},onNormalizedDisplayChanged:function $DDV_(){delete this._updateTimer;},onChange:function $DDW_(_a9a){},_normalizeCommand:function $DDX_(cmd){var _a9c=cmd.toLowerCase();if(_a9c=="formatblock"){if(dojo.isSafari){_a9c="heading";}}else{if(_a9c=="hilitecolor"&&!dojo.isMoz){_a9c="backcolor";}}return _a9c;},_qcaCache:{},queryCommandAvailable:function $DDY_(_a9d){var ca=this._qcaCache[_a9d];if(ca!=undefined){return ca;}return (this._qcaCache[_a9d]=this._queryCommandAvailable(_a9d));},_queryCommandAvailable:function $DDZ_(_a9f){var ie=1;var _aa1=1<<1;var _aa2=1<<2;var _aa3=1<<3;var _aa4=1<<4;var _aa5=dojo.isWebKit;function _aa6(_aa7){return {ie:Boolean(_aa7&ie),mozilla:Boolean(_aa7&_aa1),webkit:Boolean(_aa7&_aa2),webkit420:Boolean(_aa7&_aa4),opera:Boolean(_aa7&_aa3)};};var _aa8=null;switch(_a9f.toLowerCase()){case "bold":case "italic":case "underline":case "subscript":case "superscript":case "fontname":case "fontsize":case "forecolor":case "hilitecolor":case "justifycenter":case "justifyfull":case "justifyleft":case "justifyright":case "delete":case "selectall":case "toggledir":_aa8=_aa6(_aa1|ie|_aa2|_aa3);break;case "createlink":case "unlink":case "removeformat":case "inserthorizontalrule":case "insertimage":case "insertorderedlist":case "insertunorderedlist":case "indent":case "outdent":case "formatblock":case "inserthtml":case "undo":case "redo":case "strikethrough":case "tabindent":_aa8=_aa6(_aa1|ie|_aa3|_aa4);break;case "blockdirltr":case "blockdirrtl":case "dirltr":case "dirrtl":case "inlinedirltr":case "inlinedirrtl":_aa8=_aa6(ie);break;case "cut":case "copy":case "paste":_aa8=_aa6(ie|_aa1|_aa4);break;case "inserttable":_aa8=_aa6(_aa1|ie);break;case "insertcell":case "insertcol":case "insertrow":case "deletecells":case "deletecols":case "deleterows":case "mergecells":case "splitcell":_aa8=_aa6(ie|_aa1);break;default:return false;}return (dojo.isIE&&_aa8.ie)||(dojo.isMoz&&_aa8.mozilla)||(dojo.isWebKit&&_aa8.webkit)||(dojo.isWebKit>420&&_aa8.webkit420)||(dojo.isOpera&&_aa8.opera);},execCommand:function $DDa_(_aa9,_aaa){var _aab;this.focus();_aa9=this._normalizeCommand(_aa9);if(_aaa!=undefined){if(_aa9=="heading"){throw new Error("unimplemented");}else{if((_aa9=="formatblock")&&dojo.isIE){_aaa="<"+_aaa+">";}}}if(_aa9=="inserthtml"){_aaa=this._preFilterContent(_aaa);_aab=true;if(dojo.isIE){var _aac=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()=="CONTROL"){var n=_aac.item(0);while(_aac.length){_aac.remove(_aac.item(0));}n.outerHTML=_aaa;}else{_aac.pasteHTML(_aaa);}_aac.select();}else{if(dojo.isMoz&&!_aaa.length){this._sCall("remove");}else{_aab=this.document.execCommand(_aa9,false,_aaa);}}}else{if((_aa9=="unlink")&&(this.queryCommandEnabled("unlink"))&&(dojo.isMoz||dojo.isWebKit)){var a=this._sCall("getAncestorElement",["a"]);this._sCall("selectElement",[a]);_aab=this.document.execCommand("unlink",false,null);}else{if((_aa9=="hilitecolor")&&(dojo.isMoz)){this.document.execCommand("styleWithCSS",false,true);_aab=this.document.execCommand(_aa9,false,_aaa);this.document.execCommand("styleWithCSS",false,false);}else{if((dojo.isIE)&&((_aa9=="backcolor")||(_aa9=="forecolor"))){_aaa=arguments.length>1?_aaa:null;_aab=this.document.execCommand(_aa9,false,_aaa);}else{_aaa=arguments.length>1?_aaa:null;if(_aaa||_aa9!="createlink"){_aab=this.document.execCommand(_aa9,false,_aaa);}}}}}this.onDisplayChanged();return _aab;},queryCommandEnabled:function $DDb_(_aaf){if(this.disabled||!this._disabledOK){return false;}_aaf=this._normalizeCommand(_aaf);if(dojo.isMoz||dojo.isWebKit){if(_aaf=="unlink"){this._sCall("hasAncestorElement",["a"]);}else{if(_aaf=="inserttable"){return true;}}}if(dojo.isWebKit){if(_aaf=="copy"){_aaf="cut";}else{if(_aaf=="paste"){return true;}}}var elem=dojo.isIE?this.document.selection.createRange():this.document;return elem.queryCommandEnabled(_aaf);},queryCommandState:function $DDc_(_ab1){if(this.disabled||!this._disabledOK){return false;}_ab1=this._normalizeCommand(_ab1);return this.document.queryCommandState(_ab1);},queryCommandValue:function $DDd_(_ab2){if(this.disabled||!this._disabledOK){return false;}var r;_ab2=this._normalizeCommand(_ab2);if(dojo.isIE&&_ab2=="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_ab2)];}else{r=this.document.queryCommandValue(_ab2);}return r;},_sCall:function $DDe_(name,args){return dojo.withGlobal(this.window,name,dijit._editor.selection,args);},placeCursorAtStart:function $DDf_(){this.focus();var _ab6=false;if(dojo.isMoz){var _ab7=this.editNode.firstChild;while(_ab7){if(_ab7.nodeType==3){if(_ab7.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_ab6=true;this._sCall("selectElement",[_ab7]);break;}}else{if(_ab7.nodeType==1){_ab6=true;this._sCall("selectElementChildren",[_ab7]);break;}}_ab7=_ab7.nextSibling;}}else{_ab6=true;this._sCall("selectElementChildren",[this.editNode]);}if(_ab6){this._sCall("collapse",[true]);}},placeCursorAtEnd:function $DDg_(){this.focus();var _ab8=false;if(dojo.isMoz){var last=this.editNode.lastChild;while(last){if(last.nodeType==3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_ab8=true;this._sCall("selectElement",[last]);break;}}else{if(last.nodeType==1){_ab8=true;if(last.lastChild){this._sCall("selectElement",[last.lastChild]);}else{this._sCall("selectElement",[last]);}break;}}last=last.previousSibling;}}else{_ab8=true;this._sCall("selectElementChildren",[this.editNode]);}if(_ab8){this._sCall("collapse",[false]);}},getValue:function $DDh_(_aba){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_aba);},_getValueAttr:function $DDi_(){return this.getValue();},setValue:function $DDj_(html){if(!this.isLoaded){this.onLoadDeferred.addCallback(dojo.hitch(this,function(){this.setValue(html);}));return;}if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();},replaceValue:function $DDk_(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!dojo.isMoz){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(dojo.isMoz&&!html){html="&nbsp;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}},_preFilterContent:function $DDl_(html){var ec=html;dojo.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function $DDm_(dom){dom=dom||this.editNode;dojo.forEach(this.contentDomPreFilters,function(ef){if(ef&&dojo.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function $DDn_(dom,_ac4){var ec;if(!dojo.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_ac4){dom=dojo.clone(dom);}dojo.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=dijit._editor.getChildrenHtml(dom);}else{ec=dom;}if(!dojo.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}dojo.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function $DDo_(e){var _ac9=dojo.byId(dijit._scopeName+"._editor.RichText.savedContent");_ac9.value+=this._SEPARATOR+this.name+":"+this.getValue();},escapeXml:function $DDp_(str,_acb){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_acb){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function $DDq_(node){dojo.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit._editor.getNodeHtml instead",2);return dijit._editor.getNodeHtml(node);},getNodeChildrenHtml:function $DDr_(dom){dojo.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit._editor.getChildrenHtml instead",2);return dijit._editor.getChildrenHtml(dom);},close:function $DDs_(save,_acf){if(this.isClosed){return false;}if(!arguments.length){save=true;}this._content=this.getValue();var _ad0=(this.savedContent!=this._content);if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this.disconnect(this._webkitListener);delete this._webkitListener;}if(dojo.isIE){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(dojo.isIE){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=save?this._content:this.savedContent;dojo.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=save?this._content:this.savedContent;}dojo.removeClass(this.domNode,"RichTextEditable");this.isClosed=true;this.isLoaded=false;delete this.editNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;return _ad0;},destroyRendering:function $DDt_(){},destroy:function $DDu_(){this.destroyRendering();if(!this.isClosed){this.close(false);}this.inherited(arguments);},_removeMozBogus:function $DDv_(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"");},_removeSafariBogus:function $DDw_(html){return html.replace(/\sclass="webkit-block-placeholder"/gi,"");},_fixContentForMoz:function $DDx_(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function $DDy_(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");}});}if(!dojo._hasResource["dijit.ToolbarSeparator"]){dojo._hasResource["dijit.ToolbarSeparator"]=true;dojo.provide("dijit.ToolbarSeparator");dojo.declare("dijit.ToolbarSeparator",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\"></div>",postCreate:function $DQh_(){dojo.setSelectable(this.domNode,false);},isFocusable:function $DQi_(){return false;}});}if(!dojo._hasResource["dijit.Toolbar"]){dojo._hasResource["dijit.Toolbar"]=true;dojo.provide("dijit.Toolbar");dojo.declare("dijit.Toolbar",[dijit._Widget,dijit._Templated,dijit._KeyNavContainer],{templateString:"<div class=\"dijit dijitToolbar\" waiRole=\"toolbar\" tabIndex=\"${tabIndex}\" dojoAttachPoint=\"containerNode\">"+"</div>",postCreate:function $DQf_(){this.connectKeyNavHandlers(this.isLeftToRight()?[dojo.keys.LEFT_ARROW]:[dojo.keys.RIGHT_ARROW],this.isLeftToRight()?[dojo.keys.RIGHT_ARROW]:[dojo.keys.LEFT_ARROW]);},startup:function $DQg_(){if(this._started){return;}this.startupKeyNavChildren();this.inherited(arguments);}});}if(!dojo._hasResource["dijit._editor._Plugin"]){dojo._hasResource["dijit._editor._Plugin"]=true;dojo.provide("dijit._editor._Plugin");dojo.declare("dijit._editor._Plugin",null,{constructor:function $DBj_(args,node){if(args){dojo.mixin(this,args);}this._connects=[];},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,queryCommand:null,command:"",commandArg:null,useDefaultCommand:true,buttonClass:dijit.form.Button,getLabel:function $DBk_(key){return this.editor.commands[key];},_initButton:function $DBl_(_ad9){if(this.command.length){var _ada=this.getLabel(this.command);var _adb=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){_ad9=dojo.mixin({label:_ada,showLabel:false,iconClass:_adb,dropDown:this.dropDown,tabIndex:"-1"},_ad9||{});this.button=new this.buttonClass(_ad9);}}},destroy:function $DBm_(f){dojo.forEach(this._connects,dojo.disconnect);if(this.dropDown){this.dropDown.destroyRecursive();}},connect:function $DBn_(o,f,tf){this._connects.push(dojo.connect(o,f,this,tf));},updateState:function $DBo_(){var e=this.editor,c=this.command,_ae2,_ae3;if(!e||!e.isLoaded||!c.length){return;}if(this.button){try{_ae3=e.queryCommandEnabled(c);if(this.enabled!==_ae3){this.enabled=_ae3;this.button.attr("disabled",!_ae3);}if(typeof this.button.checked=="boolean"){_ae2=e.queryCommandState(c);if(this.checked!==_ae2){this.checked=_ae2;this.button.attr("checked",e.queryCommandState(c));}}}catch(e){}}},setEditor:function $DBp_(_ae4){this.editor=_ae4;this._initButton();if(this.command.length&&!this.editor.queryCommandAvailable(this.command)){if(this.button){this.button.domNode.style.display="none";}}if(this.button&&this.useDefaultCommand){this.connect(this.button,"onClick",dojo.hitch(this.editor,"execCommand",this.command,this.commandArg));}this.connect(this.editor,"onNormalizedDisplayChanged","updateState");},setToolbar:function $DBq_(_ae5){if(this.button){_ae5.addChild(this.button);}}});}if(!dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]){dojo._hasResource["dijit._editor.plugins.EnterKeyHandling"]=true;dojo.provide("dijit._editor.plugins.EnterKeyHandling");dojo.declare("dijit._editor.plugins.EnterKeyHandling",dijit._editor._Plugin,{blockNodeForEnter:"BR",constructor:function $DBz_(args){if(args){dojo.mixin(this,args);}},setEditor:function $DB0_(_ae7){this.editor=_ae7;if(this.blockNodeForEnter=="BR"){if(dojo.isIE){_ae7.contentDomPreFilters.push(dojo.hitch(this,"regularPsToSingleLinePs"));_ae7.contentDomPostFilters.push(dojo.hitch(this,"singleLinePsToRegularPs"));_ae7.onLoadDeferred.addCallback(dojo.hitch(this,"_fixNewLineBehaviorForIE"));}else{_ae7.onLoadDeferred.addCallback(dojo.hitch(this,function(d){try{this.editor.document.execCommand("insertBrOnReturn",false,true);}catch(e){}return d;}));}}else{if(this.blockNodeForEnter){dojo["require"]("dijit._editor.range");var h=dojo.hitch(this,this.handleEnterKey);_ae7.addKeyHandler(13,0,0,h);_ae7.addKeyHandler(13,0,1,h);this.connect(this.editor,"onKeyPressed","onKeyPressed");}}},connect:function $DB1_(o,f,tf){if(!this._connects){this._connects=[];}this._connects.push(dojo.connect(o,f,this,tf));},destroy:function $DB2_(){dojo.forEach(this._connects,dojo.disconnect);this._connects=[];},onKeyPressed:function $DB3_(e){if(this._checkListLater){if(dojo.withGlobal(this.editor.window,"isCollapsed",dijit)){var _aee=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,["LI"]);if(!_aee){dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _aef=dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]);if(_aef){_aef.innerHTML=this.bogusHtmlContent;if(dojo.isIE){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{alert("onKeyPressed: Can not find the new block node");}}else{if(dojo.isMoz){if(_aee.parentNode.parentNode.nodeName=="LI"){_aee=_aee.parentNode.parentNode;}}var fc=_aee.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_aee.insertBefore(fc.ownerDocument.createTextNode(""),fc);var _af2=dijit.range.create();_af2.setStart(_aee.firstChild,0);var _af3=dijit.range.getSelection(this.editor.window,true);_af3.removeAllRanges();_af3.addRange(_af2);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&nbsp;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function $DB4_(e){if(!this.blockNodeForEnter){return true;}var _af5,_af6,_af7,doc=this.editor.document,br;if(e.shiftKey||this.blockNodeForEnter=="BR"){var _afa=dojo.withGlobal(this.editor.window,"getParentElement",dijit._editor.selection);var _afb=dijit.range.getAncestor(_afa,this.blockNodes);if(_afb){if(!e.shiftKey&&_afb.tagName=="LI"){return true;}_af5=dijit.range.getSelection(this.editor.window);_af6=_af5.getRangeAt(0);if(!_af6.collapsed){_af6.deleteContents();}if(dijit.range.atBeginningOfContainer(_afb,_af6.startContainer,_af6.startOffset)){if(e.shiftKey){br=doc.createElement("br");_af7=dijit.range.create();_afb.insertBefore(br,_afb.firstChild);_af7.setStartBefore(br.nextSibling);_af5.removeAllRanges();_af5.addRange(_af7);}else{dojo.place(br,_afb,"before");}}else{if(dijit.range.atEndOfContainer(_afb,_af6.startContainer,_af6.startOffset)){_af7=dijit.range.create();br=doc.createElement("br");if(e.shiftKey){_afb.appendChild(br);_afb.appendChild(doc.createTextNode(""));_af7.setStart(_afb.lastChild,0);}else{dojo.place(br,_afb,"after");_af7.setStartAfter(_afb);}_af5.removeAllRanges();_af5.addRange(_af7);}else{return true;}}}else{dijit._editor.RichText.prototype.execCommand.call(this.editor,"inserthtml","<br>");}return false;}var _afc=true;_af5=dijit.range.getSelection(this.editor.window);_af6=_af5.getRangeAt(0);if(!_af6.collapsed){_af6.deleteContents();}var _afd=dijit.range.getBlockAncestor(_af6.endContainer,null,this.editor.editNode);var _afe=_afd.blockNode;if((this._checkListLater=(_afe&&(_afe.nodeName=="LI"||_afe.parentNode.nodeName=="LI")))){if(dojo.isMoz){this._pressedEnterInBlock=_afe;}if(/^(?:\s|&nbsp;)$/.test(_afe.innerHTML)){_afe.innerHTML="";}return true;}if(!_afd.blockNode||_afd.blockNode===this.editor.editNode){dijit._editor.RichText.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);_afd={blockNode:dojo.withGlobal(this.editor.window,"getAncestorElement",dijit._editor.selection,[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(_afd.blockNode){if(!(_afd.blockNode.textContent||_afd.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length){this.removeTrailingBr(_afd.blockNode);return false;}}else{_afd.blockNode=this.editor.editNode;}_af5=dijit.range.getSelection(this.editor.window);_af6=_af5.getRangeAt(0);}var _aff=doc.createElement(this.blockNodeForEnter);_aff.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_afd.blockNode);if(dijit.range.atEndOfContainer(_afd.blockNode,_af6.endContainer,_af6.endOffset)){if(_afd.blockNode===_afd.blockContainer){_afd.blockNode.appendChild(_aff);}else{dojo.place(_aff,_afd.blockNode,"after");}_afc=false;_af7=dijit.range.create();_af7.setStart(_aff,0);_af5.removeAllRanges();_af5.addRange(_af7);if(this.editor.height){_aff.scrollIntoView(false);}}else{if(dijit.range.atBeginningOfContainer(_afd.blockNode,_af6.startContainer,_af6.startOffset)){dojo.place(_aff,_afd.blockNode,_afd.blockNode===_afd.blockContainer?"first":"before");if(_aff.nextSibling&&this.editor.height){_aff.nextSibling.scrollIntoView(false);}_afc=false;}else{if(dojo.isMoz){this._pressedEnterInBlock=_afd.blockNode;}}}return _afc;},removeTrailingBr:function $DB5_(_b00){var para=/P|DIV|LI/i.test(_b00.tagName)?_b00:dijit._editor.selection.getParentOfType(_b00,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||(para.lastChild&&para.lastChild.tagName=="BR")){dojo.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}},_fixNewLineBehaviorForIE:function $DB6_(d){if(this.editor.document.__INSERTED_EDITIOR_NEWLINE_CSS===undefined){var _b03="p{margin:0 !important;}";var _b04=function(_b05,doc,URI){if(!_b05){return null;}if(!doc){doc=document;}var _b08=doc.createElement("style");_b08.setAttribute("type","text/css");var head=doc.getElementsByTagName("head")[0];if(!head){return null;}else{head.appendChild(_b08);}if(_b08.styleSheet){var _b0a=function(){try{_b08.styleSheet.cssText=_b05;}catch(e){}};if(_b08.styleSheet.disabled){setTimeout(_b0a,10);}else{_b0a();}}else{var _b0b=doc.createTextNode(_b05);_b08.appendChild(_b0b);}return _b08;};_b04(_b03,this.editor.document);this.editor.document.__INSERTED_EDITIOR_NEWLINE_CSS=true;return d;}return null;},regularPsToSingleLinePs:function $DB7_(_b0c,_b0d){function _b0e(el){function _b10(_b11){var newP=_b11[0].ownerDocument.createElement("p");_b11[0].parentNode.insertBefore(newP,_b11[0]);dojo.forEach(_b11,function(node){newP.appendChild(node);});};var _b14=0;var _b15=[];var _b16;while(_b14<el.childNodes.length){_b16=el.childNodes[_b14];if(_b16.nodeType==3||(_b16.nodeType==1&&_b16.nodeName!="BR"&&dojo.style(_b16,"display")!="block")){_b15.push(_b16);}else{var _b17=_b16.nextSibling;if(_b15.length){_b10(_b15);_b14=(_b14+1)-_b15.length;if(_b16.nodeName=="BR"){dojo.destroy(_b16);}}_b15=[];}_b14++;}if(_b15.length){_b10(_b15);}};function _b18(el){var _b1a=null;var _b1b=[];var _b1c=el.childNodes.length-1;for(var i=_b1c;i>=0;i--){_b1a=el.childNodes[i];if(_b1a.nodeName=="BR"){var newP=_b1a.ownerDocument.createElement("p");dojo.place(newP,el,"after");if(_b1b.length==0&&i!=_b1c){newP.innerHTML="&nbsp;";}dojo.forEach(_b1b,function(node){newP.appendChild(node);});dojo.destroy(_b1a);_b1b=[];}else{_b1b.unshift(_b1a);}}};var _b20=[];var ps=_b0c.getElementsByTagName("p");dojo.forEach(ps,function(p){_b20.push(p);});dojo.forEach(_b20,function(p){if((p.previousSibling)&&(p.previousSibling.nodeName=="P"||dojo.style(p.previousSibling,"display")!="block")){var newP=p.parentNode.insertBefore(this.document.createElement("p"),p);newP.innerHTML=_b0d?"":"&nbsp;";}_b18(p);},this.editor);_b0e(_b0c);return _b0c;},singleLinePsToRegularPs:function $DB8_(_b25){function _b26(node){var ps=node.getElementsByTagName("p");var _b29=[];for(var i=0;i<ps.length;i++){var p=ps[i];var _b2c=false;for(var k=0;k<_b29.length;k++){if(_b29[k]===p.parentNode){_b2c=true;break;}}if(!_b2c){_b29.push(p.parentNode);}}return _b29;};function _b2e(node){if(node.nodeType!=1||node.tagName!="P"){return dojo.style(node,"display")=="block";}else{if(!node.childNodes.length||node.innerHTML=="&nbsp;"){return true;}}return false;};var _b30=_b26(_b25);for(var i=0;i<_b30.length;i++){var _b32=_b30[i];var _b33=null;var node=_b32.firstChild;var _b35=null;while(node){if(node.nodeType!="1"||node.tagName!="P"){_b33=null;}else{if(_b2e(node)){_b35=node;_b33=null;}else{if(_b33==null){_b33=node;}else{if((!_b33.lastChild||_b33.lastChild.nodeName!="BR")&&(node.firstChild)&&(node.firstChild.nodeName!="BR")){_b33.appendChild(this.editor.document.createElement("br"));}while(node.firstChild){_b33.appendChild(node.firstChild);}_b35=node;}}}node=node.nextSibling;if(_b35){dojo.destroy(_b35);_b35=null;}}}return _b25;}});}if(!dojo._hasResource["dijit.Editor"]){dojo._hasResource["dijit.Editor"]=true;dojo.provide("dijit.Editor");dojo.declare("dijit.Editor",dijit._editor.RichText,{plugins:null,extraPlugins:null,constructor:function $DG2_(){if(!dojo.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull","dijit._editor.plugins.EnterKeyHandling"];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(dojo.isIE){this.events.push("onBeforeDeactivate");}},postCreate:function $DG3_(){if(this.customUndo){dojo["require"]("dijit._editor.range");this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);}if(dojo.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.inherited(arguments);this.commands=dojo.i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new dijit.Toolbar({});dojo.place(this.toolbar.domNode,this.editingArea,"before");}dojo.forEach(this.plugins,this.addPlugin,this);this.onNormalizedDisplayChanged();this.toolbar.startup();},destroy:function $DG4_(){dojo.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function $DG5_(_b37,_b38){var args=dojo.isString(_b37)?{name:_b37}:_b37;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};dojo.publish(dijit._scopeName+".Editor.getPlugin",[o]);if(!o.plugin){var pc=dojo.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){console.warn("Cannot find plugin",_b37);return;}_b37=o.plugin;}if(arguments.length>1){this._plugins[_b38]=_b37;}else{this._plugins.push(_b37);}_b37.setEditor(this);if(dojo.isFunction(_b37.setToolbar)){_b37.setToolbar(this.toolbar);}},startup:function $DG6_(){},resize:function $DG7_(size){dijit.layout._LayoutWidget.prototype.resize.apply(this,arguments);},layout:function $DG8_(){this.editingArea.style.height=(this._contentBox.h-dojo.marginBox(this.toolbar.domNode).h)+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function $DG9_(e){delete this._savedSelection;if(e.target.tagName=="BODY"){setTimeout(dojo.hitch(this,"placeCursorAtEnd"),0);}this.inherited(arguments);},onBeforeDeactivate:function $DHA_(e){if(this.customUndo){this.endEditing(true);}this._saveSelection();},customUndo:dojo.isIE,editActionInterval:3,beginEditing:function $DHB_(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){clearTimeout(this._editTimer);}this._editTimer=setTimeout(dojo.hitch(this,this.endEditing),this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function $DHC_(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}try{var r=this.inherited("execCommand",arguments);if(dojo.isWebKit&&cmd=="paste"&&!r){throw {code:1011};}}catch(e){if(e.code==1011&&/copy|cut|paste/.test(cmd)){var sub=dojo.string.substitute,_b43={cut:"X",copy:"C",paste:"V"},_b44=navigator.userAgent.indexOf("Macintosh")!=-1;alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[_b44?"appleKey":"ctrlKey"],[_b43[cmd]])]));}r=false;}if(this.customUndo){this._endEditing();}return r;}},queryCommandEnabled:function $DHD_(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited("queryCommandEnabled",arguments);}},focus:function $DHE_(){var _b46=0;if(this._savedSelection&&dojo.isIE){_b46=dijit._curFocus!=this.editNode;}this.inherited(arguments);if(_b46){this._restoreSelection();}},_moveToBookmark:function $DHF_(b){var _b48=b;if(dojo.isIE){if(dojo.isArray(b)){_b48=[];dojo.forEach(b,function(n){_b48.push(dijit.range.getNode(n,this.editNode));},this);}}else{var r=dijit.range.create();r.setStart(dijit.range.getNode(b.startContainer,this.editNode),b.startOffset);r.setEnd(dijit.range.getNode(b.endContainer,this.editNode),b.endOffset);_b48=r;}dojo.withGlobal(this.window,"moveToBookmark",dijit,[_b48]);},_changeToStep:function $DHG_(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function $DHH_(){this.endEditing(true);var s=this._steps.pop();if(this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();return true;}return false;},redo:function $DHI_(){this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();return true;}return false;},endEditing:function $DHJ_(_b50){if(this._editTimer){clearTimeout(this._editTimer);}if(this._inEditing){this._endEditing(_b50);this._inEditing=false;}},_getBookmark:function $DHK_(){var b=dojo.withGlobal(this.window,dijit.getBookmark);var tmp=[];if(dojo.isIE){if(dojo.isArray(b)){dojo.forEach(b,function(n){tmp.push(dijit.range.getIndex(n,this.editNode).o);},this);b=tmp;}}else{tmp=dijit.range.getIndex(b.startContainer,this.editNode).o;b={startContainer:tmp,startOffset:b.startOffset,endContainer:b.endContainer===b.startContainer?tmp:dijit.range.getIndex(b.endContainer,this.editNode).o,endOffset:b.endOffset};}return b;},_beginEditing:function $DHL_(cmd){if(this._steps.length===0){this._steps.push({"text":this.savedContent,"bookmark":this._getBookmark()});}},_endEditing:function $DHM_(_b55){var v=this.getValue(true);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function $DHN_(e){if(!dojo.isIE&&!this.iframe&&e.keyCode==dojo.keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode,ks=dojo.keys;if(e.ctrlKey&&!e.altKey){if(k==90||k==122){dojo.stopEvent(e);this.undo();return;}else{if(k==89||k==121){dojo.stopEvent(e);this.redo();return;}}}this.inherited(arguments);switch(k){case ks.ENTER:case ks.BACKSPACE:case ks.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");setTimeout(dojo.hitch(this,this.endEditing),1);}else{this.beginEditing("paste");setTimeout(dojo.hitch(this,this.endEditing),1);}break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<dojo.keys.F1||e.keyCode>dojo.keys.F15)){this.beginEditing();break;}case ks.ALT:this.endEditing();break;case ks.UP_ARROW:case ks.DOWN_ARROW:case ks.LEFT_ARROW:case ks.RIGHT_ARROW:case ks.HOME:case ks.END:case ks.PAGE_UP:case ks.PAGE_DOWN:this.endEditing(true);break;case ks.CTRL:case ks.SHIFT:case ks.TAB:break;}},_onBlur:function $DHO_(){this.inherited("_onBlur",arguments);this.endEditing(true);},_saveSelection:function $DHP_(){this._savedSelection=this._getBookmark();},_restoreSelection:function $DHQ_(){if(this._savedSelection){if(dojo.withGlobal(this.window,"isCollapsed",dijit)){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},_onFocus:function $DHR_(){setTimeout(dojo.hitch(this,"_restoreSelection"),0);this.inherited(arguments);},onClick:function $DHS_(){this.endEditing(true);this.inherited(arguments);}});dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){if(o.plugin){return;}var args=o.args,p;var _p=dijit._editor._Plugin;var name=args.name;switch(name){case "undo":case "redo":case "cut":case "copy":case "paste":case "insertOrderedList":case "insertUnorderedList":case "indent":case "outdent":case "justifyCenter":case "justifyFull":case "justifyLeft":case "justifyRight":case "delete":case "selectAll":case "removeFormat":case "unlink":case "insertHorizontalRule":p=new _p({command:name});break;case "bold":case "italic":case "underline":case "strikethrough":case "subscript":case "superscript":p=new _p({buttonClass:dijit.form.ToggleButton,command:name});break;case "|":p=new _p({button:new dijit.ToolbarSeparator()});}o.plugin=p;});}if(!dojo._hasResource["betterform.ui.textarea.HtmlEditor"]){dojo._hasResource["betterform.ui.textarea.HtmlEditor"]=true;dojo.provide("betterform.ui.textarea.HtmlEditor");dojo.declare("betterform.ui.textarea.HtmlEditor",[betterform.ui.ControlValue,dijit.Editor],{buildRendering:function $DA5B_(){this.domNode=this.srcNodeRef;this.setCurrentValue(this.srcNodeRef.innerHTML);this._attachTemplateNodes(this.domNode);},postMixInProperties:function $DA5C_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA5D_(){this.inherited(arguments);},_onFocus:function $DA5E_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA5F_(){this.inherited(arguments);this.handleOnBlur();},onDisplayChanged:function $DA5G_(e){this.inherited(arguments);if(this.incremental){this.setControlValue();}},getControlValue:function $DA5H_(){return this.getValue();},_handleSetControlValue:function $DA5I_(_b60){this.setValue(_b60);}});}if(!dojo._hasResource["dijit.form.SimpleTextarea"]){dojo._hasResource["dijit.form.SimpleTextarea"]=true;dojo.provide("dijit.form.SimpleTextarea");dojo.declare("dijit.form.SimpleTextarea",dijit.form.TextBox,{baseClass:"dijitTextArea",attributeMap:dojo.delegate(dijit.form._FormValueWidget.prototype.attributeMap,{rows:"textbox",cols:"textbox"}),rows:"3",cols:"20",templatePath:null,templateString:"<textarea ${nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function $DLW_(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},filter:function $DLX_(_b61){if(_b61){_b61=_b61.replace(/\r/g,"");}return this.inherited(arguments);},postCreate:function $DLY_(){this.inherited(arguments);if(dojo.isIE&&this.cols){dojo.addClass(this.domNode,"dijitTextAreaCols");}},_previousValue:"",_onInput:function $DLZ_(e){if(this.maxLength){var _b63=parseInt(this.maxLength);var _b64=this.textbox.value.replace(/\r/g,"");var _b65=_b64.length-_b63;if(_b65>0){dojo.stopEvent(e);var _b66=this.textbox;if(_b66.selectionStart){var pos=_b66.selectionStart;var cr=0;if(dojo.isOpera){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_b64.substring(0,pos-_b65-cr)+_b64.substring(pos-cr);_b66.setSelectionRange(pos-_b65,pos-_b65);}else{if(dojo.doc.selection){_b66.focus();var _b69=dojo.doc.selection.createRange();_b69.moveStart("character",-_b65);_b69.text="";_b69.select();}}}this._previousValue=this.textbox.value;}this.inherited(arguments);}});}if(!dojo._hasResource["dijit.form.Textarea"]){dojo._hasResource["dijit.form.Textarea"]=true;dojo.provide("dijit.form.Textarea");dojo.declare("dijit.form.Textarea",dijit.form.SimpleTextarea,{cols:"",_previousNewlines:0,_strictMode:(dojo.doc.compatMode!="BackCompat"),_getHeight:function $DLa_(_b6a){var newH=_b6a.scrollHeight;if(dojo.isIE){newH+=_b6a.offsetHeight-_b6a.clientHeight-((dojo.isIE<8&&this._strictMode)?dojo._getPadBorderExtents(_b6a).h:0);}else{if(dojo.isMoz){newH+=_b6a.offsetHeight-_b6a.clientHeight;}else{if(dojo.isWebKit&&!(dojo.isSafari<4)){newH+=dojo._getBorderExtents(_b6a).h;}else{newH+=dojo._getPadBorderExtents(_b6a).h;}}}return newH;},_estimateHeight:function $DLb_(_b6c){_b6c.style.maxHeight="";_b6c.style.height="auto";_b6c.rows=(_b6c.value.match(/\n/g)||[]).length+1;},_needsHelpShrinking:dojo.isMoz||dojo.isWebKit,_onInput:function $DLc_(){this.inherited(arguments);if(this._busyResizing){return;}this._busyResizing=true;var _b6d=this.textbox;if(_b6d.scrollHeight){var newH=this._getHeight(_b6d)+"px";if(_b6d.style.height!=newH){_b6d.style.maxHeight=_b6d.style.height=newH;}if(this._needsHelpShrinking){if(this._setTimeoutHandle){clearTimeout(this._setTimeoutHandle);}this._setTimeoutHandle=setTimeout(dojo.hitch(this,"_shrink"),0);}}else{this._estimateHeight(_b6d);}this._busyResizing=false;},_busyResizing:false,_shrink:function $DLd_(){this._setTimeoutHandle=null;if(this._needsHelpShrinking&&!this._busyResizing){this._busyResizing=true;var _b6f=this.textbox;var _b70=false;if(_b6f.value==""){_b6f.value=" ";_b70=true;}var _b71=_b6f.scrollHeight;if(!_b71){this._estimateHeight(_b6f);}else{var _b72=_b6f.style.paddingBottom;var _b73=dojo._getPadExtents(_b6f);_b73=_b73.h-_b73.t;_b6f.style.paddingBottom=_b73+1+"px";var newH=this._getHeight(_b6f)-1+"px";if(_b6f.style.maxHeight!=newH){_b6f.style.paddingBottom=_b73+_b71+"px";_b6f.scrollTop=0;_b6f.style.maxHeight=this._getHeight(_b6f)-_b71+"px";}_b6f.style.paddingBottom=_b72;}if(_b70){_b6f.value="";}this._busyResizing=false;}},resize:function $DLe_(){this._onInput();},_setValueAttr:function $DLf_(){this.inherited(arguments);this.resize();},postCreate:function $DLg_(){this.inherited(arguments);dojo.style(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});this.connect(this.textbox,"onscroll",this._onInput);this.connect(this.textbox,"onresize",this._onInput);this.connect(this.textbox,"onfocus",this._onInput);setTimeout(dojo.hitch(this,"resize"),0);}});}if(!dojo._hasResource["betterform.ui.textarea.DojoEditor"]){dojo._hasResource["betterform.ui.textarea.DojoEditor"]=true;dojo.provide("betterform.ui.textarea.DojoEditor");dojo.declare("betterform.ui.textarea.DojoEditor",[betterform.ui.ControlValue,dijit.form.Textarea],{postMixInProperties:function $DA44_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA45_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DA46_(){this.inherited(arguments);},_onBlur:function $DA47_(){this.inherited(arguments);this.handleOnBlur();},getControlValue:function $DA48_(){return this._getValueAttr();},_onInput:function $DA49_(){this.inherited(arguments);if(this.incremental){this.setControlValue();}},_handleSetControlValue:function $DA5A_(_b75){this._setValueAttr(_b75);}});}if(!dojo._hasResource["betterform.ui.textarea.SimpleTextarea"]){dojo._hasResource["betterform.ui.textarea.SimpleTextarea"]=true;dojo.provide("betterform.ui.textarea.SimpleTextarea");dojo.declare("betterform.ui.textarea.SimpleTextarea",[betterform.ui.ControlValue,dijit.form.SimpleTextarea],{postMixInProperties:function $DA5R_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA5S_(){this.inherited(arguments);this.setCurrentValue();},_onFocus:function $DA5T_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA5U_(){this.inherited(arguments);this.handleOnBlur();},_onInput:function $DA5V_(e){this.inherited(arguments);if(this.incremental){this.setControlValue();}},getControlValue:function $DA5W_(){return this._getValueAttr();},applyState:function $DA5X_(){if(this.xfControl.isReadonly()){dojo.attr(this.domNode,"readonly","readonly");}else{if(dojo.hasAttr(this.domNode,"readonly")){dojo.removeAttr(this.domNode,"readonly");}else{if(dojo.hasAttr(this.domNode,"disabled")){dojo.removeAttr(this.domNode,"disabled");}}}},_handleSetControlValue:function $DA5Y_(_b77){this._setValueAttr(_b77);}});}if(!dojo._hasResource["betterform.ui.trigger.LinkButton"]){dojo._hasResource["betterform.ui.trigger.LinkButton"]=true;dojo.provide("betterform.ui.trigger.LinkButton");dojo.declare("betterform.ui.trigger.LinkButton",betterform.ui.ControlValue,{label:"",templateString:"<span class=\"xfValue\"\n    ><a href=\"#\" dojoAttachPoint=\"linknode\" onclick=\"return false;\" dojoAttachEvent=\"onclick:onClick\"></a\n></span>\n",postMixInProperties:function $DA54_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);this.label=dojo.attr(this.srcNodeRef,"label");},postCreate:function $DA55_(){this.linknode.innerHTML=this.label;},onClick:function $DA56_(e){if(!(dojo.attr(this.domNode,"disabled")=="disabled")){e.cancelBubble=true;fluxProcessor.dispatchEvent(this.xfControlId);}},getControlValue:function $DA57_(){console.warn("TBD: betterform.ui.trigger.Button.getControlValue");return dojo.attr(this.domNode,"value");},_handleSetControlValue:function $DA58_(_b79){console.warn("TBD: betterform.ui.trigger.Button._handleSetControlValue: Value: ",_b79);},_setLabel:function $DA59_(_b7a){dojo.query("a",this.domNode)[0].innerHTML=_b7a;}});}if(!dojo._hasResource["betterform.ui.trigger.Button"]){dojo._hasResource["betterform.ui.trigger.Button"]=true;dojo.provide("betterform.ui.trigger.Button");dojo.declare("betterform.ui.trigger.Button",[betterform.ui.ControlValue,dijit.form.Button],{buildRendering:function $DA5x_(){this.inherited(arguments);var _b7b=dojo.attr(this.srcNodeRef,"source");if(_b7b!=undefined&&_b7b!=""){var _b7c=document.createElement("img");dojo.attr(_b7c,"src",_b7b);this.iconNode.appendChild(_b7c);this.showLabel=false;}},postMixInProperties:function $DA5y_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},getControlValue:function $DA5z_(){return dojo.attr(this.domNode,"value");},_handleSetControlValue:function $DA50_(_b7d){console.warn("TBD: betterform.ui.trigger.Button._handleSetControlValue: Value: ",_b7d);},onClick:function $DA51_(e){fluxProcessor.dispatchEvent(this.xfControlId);},_setLabel:function $DA52_(_b7f){dojo.byId(this.id+"_label").innerHTML=_b7f;}});}if(!dojo._hasResource["betterform.ui.trigger.ImageButton"]){dojo._hasResource["betterform.ui.trigger.ImageButton"]=true;dojo.provide("betterform.ui.trigger.ImageButton");dojo.declare("betterform.ui.trigger.ImageButton",[betterform.ui.trigger.Button],{buildRendering:function $DA53_(){this.inherited(arguments);var _b80=dojo.query(".xfValue",this.srcNodeRef)[0].innerHTML;if(_b80!=undefined&&_b80!=""){var _b81=document.createElement("img");dojo.attr(_b81,"src",_b80);this.iconNode.appendChild(_b81);this.showLabel=false;}}});}if(!dojo._hasResource["betterform.ui.upload.UploadPlain"]){dojo._hasResource["betterform.ui.upload.UploadPlain"]=true;dojo.provide("betterform.ui.upload.UploadPlain");dojo.declare("betterform.ui.upload.UploadPlain",betterform.ui.ControlValue,{templateString:"<div\n    ><input id=\"inputFile\" type=\"file\" name=\"\" value=\"\" class=\"xfValue\"\n           dojoAttachPoint=\"inputNode\" dojoAttachEvent=\"onchange:onChange\"\n    /><div class=\"bfProgressbar\" style=\"display:none;\" dojoAttachPoint=\"progress\"\n        ><div class=\"border\">\n            <div dojoAttachPoint=\"progressBackground\" class=\"background\"></div\n        ></div\n    ></div\n    ><input id=\"\"type=\"hidden\" value=\"\" dojoAttachPoint=\"fileName\"\n    ><iframe id=\"UploadTarget\" name=\"UploadTarget\" src=\"\" style=\"width:0px;height:0px;border:0\"></iframe>\n</div>\n",value:"",disabledNodes:new Array(),progress:null,progressBackground:null,fileId:"",fileValue:"",xfControlId:"",progressUpdate:null,postMixInProperties:function $DA6G_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);},postCreate:function $DA6H_(){this.inherited(arguments);dojo.attr(this.inputNode,"name",dojo.attr(this.srcNodeRef,"name"));dojo.attr(this.fileName,"id",dojo.attr(this.srcNodeRef,"fileId"));dojo.attr(this.fileName,"value",dojo.attr(this.srcNodeRef,"fileValue"));dojo.removeClass(this.domNode,"xfValue");},_onFocus:function $DA6I_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA6J_(){this.inherited(arguments);},getControlValue:function $DA6K_(){console.warn("betterform.ui.upload.Upload.getControlValue");},_handleSetControlValue:function $DA6L_(_b82){console.warn("betterform.ui.upload.Upload._handleSetControlValue");},onChange:function $DA6M_(){var _b83=confirm("Really upload ?");if(_b83){this._submitFile(this.inputNode);}else{this.inputNode.value="";}},updateProgress:function $DA6N_(_b84){if(_b84!=0){this.progressBackground.style.width=_b84+"%";}if(_b84<0){alert("Upload failed");}if(_b84==100){clearInterval(this.progressUpdate);this.progressBackground.style.width="100%";dojo.fadeOut({node:this.progress,duration:2000,onEnd:dojo.hitch(this,function(){this.progress.style.display="none";})}).play();dojo.query(".xfUpload.xfReadWrite .xfValue:disabled").forEach(function(item){item.removeAttribute("disabled");});}},_submitFile:function $DA6O_(){var me=this.inputNode;dojo.query(".xfUpload.xfReadWrite .xfValue").forEach(function(item){if(item!=me){dojo.attr(item,"disabled","disabled");}});this.progress.style.display="block";this.progress.style.opacity="1";var path=this.inputNode.value;var _b89=path.substring(path.lastIndexOf("/")+1);this.progressUpdate=setInterval("fluxProcessor.fetchProgress('"+this.xfControlId+"','"+_b89+"')",500);document.forms["betterform"].target="UploadTarget";document.forms["betterform"].submit();return true;},applyState:function $DA6P_(){if(this.xfControl.isReadonly()){dojo.attr(this.inputNode,"disabled","disabled");}else{this.inputNode.removeAttribute("disabled");}}});}if(!dojo._hasResource["betterform.ui.select1.RadioButton"]){dojo._hasResource["betterform.ui.select1.RadioButton"]=true;dojo.provide("betterform.ui.select1.RadioButton");dojo.declare("betterform.ui.select1.RadioButton",[betterform.ui.ControlValue,dijit.form.RadioButton],{select1Dijit:null,buildRendering:function $DA4l_(){if(dojo.attr(this.srcNodeRef,"selected")==undefined||dojo.attr(this.srcNodeRef,"selected")==""){dojo.attr(this.srcNodeRef,"selected","false");}if(dojo.attr(this.srcNodeRef,"datatype")==undefined||dojo.attr(this.srcNodeRef,"datatype")==""){dojo.attr(this.srcNodeRef,"datatype","radio");}this.currentValue=dojo.attr(this.srcNodeRef,"value");if(dojo.attr(this.srcNodeRef,"parentId")!=undefined&&dojo.attr(this.srcNodeRef,"parentId")!=""){this.parentId=dojo.attr(this.srcNodeRef,"parentId");}var _b8a=dojo.attr(this.srcNodeRef,"selected");this.inherited(arguments);if(_b8a!=undefined&&_b8a=="true"){this.attr("checked",true);}},postMixInProperties:function $DA4m_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);if(dojo.attr(this.srcNodeRef,"incremental")==undefined||dojo.attr(this.srcNodeRef,"incremental")==""||dojo.attr(this.srcNodeRef,"incremental")=="true"){this.incremental=true;}else{this.incremental=false;}},postCreate:function $DA4n_(){if(dijit.byId(this.parentId+"-value")==undefined&&this.parentId!=undefined){dojo.hitch(this,new betterform.ui.Control({},this.parentId));}this.select1Dijit=dijit.byId(this.parentId+"-value");dojo.connect(this,"_onClick",this.select1Dijit,"_setRadioGroupValue");},getControlValue:function $DA4o_(){return this.currentValue;},_handleSetControlValue:function $DA4p_(_b8b){this.currentValue=_b8b;dojo.attr(this.focusNode,"value",_b8b);if(this.select1Dijit!=undefined&&this.select1Dijit.currentValue==_b8b){this.attr("checked",true);}}});}if(!dojo._hasResource["betterform.ui.UIElementFactory"]){dojo._hasResource["betterform.ui.UIElementFactory"]=true;dojo.provide("betterform.ui.UIElementFactory");dojo.declare("betterform.ui.UIElementFactory",null,{createWidget:function $DA6A_(_b8c,_b8d){var _b8e=dojo.attr(_b8c,"controlType");var _b8f=dojo.attr(_b8c,"dataType");_b8f=betterform.ui.util.removeNamespace(_b8f);var _b90="xfValue";if(dojo.attr(_b8c,"class")){var _b91=dojo.attr(_b8c,"class");if(_b91.indexOf("xfValue")==-1){_b90=_b90+" "+_b91;}else{_b90=_b91;}}var _b92=null;if(_b8e==undefined){console.warn("UIElementFactory.createWidget: undefined controlType, Node: ",_b8c);return _b8c;}var _b93=dojo.attr(_b8c,"mediatype");switch(_b8e){case "input":var _b94=_b8f;var _b95=dojo.attr(_b8c,"appearance");if(_b95!=undefined&&_b95.indexOf("ca")!=-1){_b94=_b95;}switch(_b94.toLowerCase()){case "casimiletimeline":_b92=new betterform.ui.timeline.TimeLine({name:_b8d+"-value",checked:_b96,"class":_b90,xfControlId:_b8d},_b8c);_b92.startup();break;case "caopmltree":_b92=new betterform.ui.tree.OPMLTree({name:_b8d+"-value","class":_b90,xfControlId:_b8d},_b8c);_b92.startup();break;case "date":var _b96=dojo.attr(_b8c,"schemaValue");if(_b96!=undefined&&_b96!=""){_b96=dojo.date.stamp.fromISOString(_b96);}else{_b96="";}var _b97;if(_b95.indexOf("iso8601:")!=-1){_b97=_b95.substring(_b95.indexOf("iso8601:")+8);if(_b97.indexOf(" ")!=-1){_b97=_b97.substring(0,_b97.indexOf(" ")).trim();}}if(_b97!=undefined){try{_b92=new betterform.ui.input.Date({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),constraints:{selector:"date",datePattern:_b97},xfControlId:_b8d},_b8c);}catch(ex){alert(ex);}}else{_b92=new betterform.ui.input.Date({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),constraints:{selector:"date"},xfControlId:_b8d},_b8c);}break;case "datetime":var _b96=dojo.attr(_b8c,"schemaValue");var _b98=false;if(_b96!=undefined&&_b96.indexOf(".")==19){_b96=_b96.substring(0,19);_b98=true;}if(_b96==undefined){_b96="";}var _b97;if(_b95.indexOf("iso8601:")!=-1){_b97=_b95.substring(_b95.indexOf("iso8601:")+8);if(_b97.indexOf(" ")!=-1){_b97=_b97.substring(0,_b97.indexOf(" ")).trim();}}if(_b97!=undefined){try{_b92=new betterform.ui.input.DateTime({name:_b8d+"-value",value:_b96,miliseconds:_b98,constraints:{datePattern:_b97,timePattern:"HH:mm:ss"},title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}catch(ex){alert(ex);}}else{_b92=new betterform.ui.input.DateTime({name:_b8d+"-value",value:_b96,miliseconds:_b98,constraints:{datePattern:"dd.MM.yyyy",timePattern:"HH:mm:ss"},title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}break;case "boolean":var _b96=_b8c.innerHTML;if(_b96=="false"){_b96=undefined;}_b92=new betterform.ui.input.Boolean({name:_b8d+"-value",checked:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;default:var _b96=_b8c.innerHTML;_b92=new betterform.ui.input.TextField({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;}break;case "output":var _b96=_b8c.innerHTML;var _b99=_b8f;var _b95=dojo.attr(_b8c,"appearance");if(_b95!=undefined&&_b95.indexOf("ca")!=-1){if(_b95=="caLink"){_b99="anyURI";}else{if(_b95=="caSourceCode"){_b99="sourcecode";}else{_b99=_b95;}}}switch(_b99.toLowerCase()){case "anyuri":if(_b93==undefined||_b93=="controlValue"||_b93=="text"){_b92=new betterform.ui.output.Link({name:_b8d+"-value",href:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{if(_b93.indexOf("image/")>-1){_b92=new betterform.ui.output.Image({name:_b8d+"-value",src:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{if(_b93=="text/html"){_b92=new betterform.ui.output.Html({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{console.warn("UIElementFactory.createWidget(): output anyURI - unknown combination of attributes");}}}break;case "sourcecode":_b92=new betterform.ui.output.SourceCode({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;default:if(_b93==undefined||_b93=="controlValue"||_b93=="text"){_b92=new betterform.ui.output.Plain({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{if(_b93=="text/html"){_b92=new betterform.ui.output.Html({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{if(_b93.indexOf("image/")>-1){_b92=new betterform.ui.output.Image({name:_b8d+"-value",src:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{console.warn("UIElementFactory.createWidget(): unknown mediatype '"+_b93+"' for output, rendering default output");_b92=new betterform.ui.output.Plain({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}}}break;}break;case "range":var _b96=dojo.attr(_b8c,"value");var _b9a=0;var end=10;var step=1;if(dojo.attr(_b8c,"start")!=""){_b9a=eval(dojo.attr(_b8c,"start"));}if(dojo.attr(_b8c,"end")!=""){end=eval(dojo.attr(_b8c,"end"));}else{if(dojo.attr(_b8c,"end")==""&&dojo.attr(_b8c,"start")!=""){end=eval(dojo.attr(_b8c,"start"))+end;}}if(dojo.attr(_b8c,"step")!=""){step=eval(dojo.attr(_b8c,"step"));}if(_b96>end){_b96=end;}if(_b96<_b9a){_b96=_b9a;}if(dojo.attr(_b8c,"appearance")=="bf:rating"){_b92=new betterform.ui.range.Rating({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d,numStars:end},_b8c);}else{var _b9d=((end-_b9a)/step)+1;var _b9e=document.createElement("div");_b8c.appendChild(_b9e);var _b9f=new dijit.form.HorizontalRule({count:_b9d,container:"topDecoration",style:"height:4px;"},_b9e);var _ba0=document.createElement("div");_b8c.appendChild(_ba0);var _ba1=new dijit.form.HorizontalRuleLabels({count:5,style:"height:1.2em;font-size:75%;color:gray;",labels:[_b9a,end]},_ba0);_b92=new betterform.ui.range.Slider({value:_b96,name:_b8d+"-value",slideDuration:0,minimum:_b9a,maximum:end,discreteValues:_b9d,intermediateChanges:"true",showButtons:"true","class":_b90,xfControlId:_b8d,style:"width:200px;"},_b8c);_b92.startup();_b9f.startup();}break;case "secret":var _b96=_b8c.innerHTML;_b92=new betterform.ui.secret.Secret({name:_b8d+"-value",value:_b96,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;case "selectCheckBox":_b92=new betterform.ui.select.CheckBoxGroup({name:_b8d+"-value","class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;case "selectList":_b92=new betterform.ui.select.MultiSelect({name:_b8d+"-value",size:dojo.attr(_b8c,"size"),multiple:true,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;case "select1":case "select1ComboBox":_b92=new betterform.ui.select1.ComboBox({name:_b8d+"-value",value:"","class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;case "select1ComboBoxOpen":_b92=new betterform.ui.select1.ComboBoxOpen({name:_b8d+"-value",size:dojo.attr(_b8c,"size"),multiple:true,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;case "select1List":_b92=new betterform.ui.select1.Plain({name:_b8d+"-value",size:dojo.attr(_b8c,"size"),"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;case "select1RadioButton":_b92=new betterform.ui.select1.RadioGroup({name:_b8d+"-value","class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;case "textarea":if(dojo.attr(_b8c,"appearance")=="minimal"&&_b93!="text/html"&&_b93!="dojo"){_b92=new betterform.ui.textarea.MinimalTextarea({name:_b8d+"-value",rows:5,cols:40,"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{if(_b93=="text/html"){_b92=new betterform.ui.textarea.HtmlEditor({name:_b8d+"-value","class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{if(_b93=="dojo"){_b92=new betterform.ui.textarea.DojoEditor({name:_b8d+"-value","class":_b90,rows:5,cols:30,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{_b92=new betterform.ui.textarea.SimpleTextarea({name:_b8d+"-value","class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}}}break;case "minimalTrigger":case "trigger":if(dojo.attr(_b8c,"appearance")=="minimal"){_b92=new betterform.ui.trigger.LinkButton({id:dojo.attr(_b8c,"id"),name:dojo.attr(_b8c,"name")+"-value",label:dojo.attr(_b8c,"label"),"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{if(dojo.attr(_b8c,"appearance")=="imageTrigger"){_b92=new betterform.ui.trigger.ImageButton({id:dojo.attr(_b8c,"id"),name:dojo.attr(_b8c,"name")+"-value",label:dojo.attr(_b8c,"label"),title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}else{_b92=new betterform.ui.trigger.Button({id:dojo.attr(_b8c,"id"),name:dojo.attr(_b8c,"name")+"-value",label:dojo.attr(_b8c,"label"),title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);}}break;case "submit":console.warn("TBD create Submit control: ",_b8c);break;case "upload":switch(_b8f){case "base64":case "base64Binary":case "hexBinary":case "anyURI":_b92=new betterform.ui.upload.UploadPlain({"class":_b90,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;default:console.error("Upload ("+_b8d+"): unsupported datatype: ",_b8f);}break;case "radio":var name=_b8c.name;var _ba3=_b8c.value;_b92=new betterform.ui.select1.RadioButton({"class":_b90,name:name,value:_ba3,title:dojo.attr(_b8c,"title"),xfControlId:_b8d},_b8c);break;default:console.warn("UIElementFactory: Unknown controlValue: '"+_b8e+"' for Control "+_b8d+"! Properties: ",_b8c);break;}if(_b92!=undefined){return _b92;}}});}if(!dojo._hasResource["dijit.layout._LayoutWidget"]){dojo._hasResource["dijit.layout._LayoutWidget"]=true;dojo.provide("dijit.layout._LayoutWidget");dojo.declare("dijit.layout._LayoutWidget",[dijit._Widget,dijit._Container,dijit._Contained],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,postCreate:function $DM0_(){dojo.addClass(this.domNode,"dijitContainer");dojo.addClass(this.domNode,this.baseClass);},startup:function $DM1_(){if(this._started){return;}dojo.forEach(this.getChildren(),function(_ba4){_ba4.startup();});if(!this.getParent||!this.getParent()){this.resize();this._viewport=dijit.getViewport();this.connect(dojo.global,"onresize",function(){var _ba5=dijit.getViewport();if(_ba5.w!=this._viewport.w||_ba5.h!=this._viewport.h){this._viewport=_ba5;this.resize();}});}this.inherited(arguments);},resize:function $DM2_(_ba6,_ba7){var node=this.domNode;if(_ba6){dojo.marginBox(node,_ba6);if(_ba6.t){node.style.top=_ba6.t+"px";}if(_ba6.l){node.style.left=_ba6.l+"px";}}var mb=_ba7||{};dojo.mixin(mb,_ba6||{});if(!("h" in mb)||!("w" in mb)){mb=dojo.mixin(dojo.marginBox(node),mb);}var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var be=dojo._getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=dojo._getPadExtents(node,cs);this._contentBox={l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function $DM3_(){},_setupChild:function $DM4_(_baf){dojo.addClass(_baf.domNode,this.baseClass+"-child");if(_baf.baseClass){dojo.addClass(_baf.domNode,this.baseClass+"-"+_baf.baseClass);}},addChild:function $DM5_(_bb0,_bb1){this.inherited(arguments);if(this._started){this._setupChild(_bb0);}},removeChild:function $DM6_(_bb2){dojo.removeClass(_bb2.domNode,this.baseClass+"-child");if(_bb2.baseClass){dojo.removeClass(_bb2.domNode,this.baseClass+"-"+_bb2.baseClass);}this.inherited(arguments);}});dijit.layout.marginBox2contentBox=function $DM7_(node,mb){var cs=dojo.getComputedStyle(node);var me=dojo._getMarginExtents(node,cs);var pb=dojo._getPadBorderExtents(node,cs);return {l:dojo._toPixelValue(node,cs.paddingLeft),t:dojo._toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};(function(){var _bb8=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};var size=function(_bbb,dim){_bbb.resize?_bbb.resize(dim):dojo.marginBox(_bbb.domNode,dim);dojo.mixin(_bbb,dojo.marginBox(_bbb.domNode));dojo.mixin(_bbb,dim);};dijit.layout.layoutChildren=function $DM8_(_bbd,dim,_bbf){dim=dojo.mixin({},dim);dojo.addClass(_bbd,"dijitLayoutContainer");_bbf=dojo.filter(_bbf,function(item){return item.layoutAlign!="client";}).concat(dojo.filter(_bbf,function(item){return item.layoutAlign=="client";}));dojo.forEach(_bbf,function(_bc2){var elm=_bc2.domNode,pos=_bc2.layoutAlign;var _bc5=elm.style;_bc5.left=dim.l+"px";_bc5.top=dim.t+"px";_bc5.bottom=_bc5.right="auto";dojo.addClass(elm,"dijitAlign"+_bb8(pos));if(pos=="top"||pos=="bottom"){size(_bc2,{w:dim.w});dim.h-=_bc2.h;if(pos=="top"){dim.t+=_bc2.h;}else{_bc5.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){size(_bc2,{h:dim.h});dim.w-=_bc2.w;if(pos=="left"){dim.l+=_bc2.w;}else{_bc5.left=dim.l+dim.w+"px";}}else{if(pos=="client"){size(_bc2,dim);}}}});};})();}if(!dojo._hasResource["dojo.html"]){dojo._hasResource["dojo.html"]=true;dojo.provide("dojo.html");(function(){var _bc6=0;dojo.html._secureForInnerHtml=function $DBI0_(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};dojo.html._emptyNode=dojo.empty;dojo.html._setNodeContent=function $DBI2_(node,cont,_bca){if(_bca){dojo.html._emptyNode(node);}if(typeof cont=="string"){var pre="",post="",walk=0,name=node.nodeName.toLowerCase();switch(name){case "tr":pre="<tr>";post="</tr>";walk+=1;case "tbody":case "thead":pre="<tbody>"+pre;post+="</tbody>";walk+=1;case "table":pre="<table>"+pre;post+="</table>";walk+=1;break;}if(walk){var n=node.ownerDocument.createElement("div");n.innerHTML=pre+cont+post;do{n=n.firstChild;}while(--walk);dojo.forEach(n.childNodes,function(n){node.appendChild(n.cloneNode(true));});}else{node.innerHTML=cont;}}else{if(cont.nodeType){node.appendChild(cont);}else{dojo.forEach(cont,function(n){node.appendChild(n.cloneNode(true));});}}return node;};dojo.declare("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,constructor:function $DBIp_(_bd2,node){dojo.mixin(this,_bd2||{});node=this.node=dojo.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_bc6++].join("_");}if(!(this.node||node)){new Error(this.declaredClass+": no node provided to "+this.id);}},set:function $DBIq_(cont,_bd5){if(undefined!==cont){this.content=cont;}if(_bd5){this._mixin(_bd5);}this.onBegin();this.setContent();this.onEnd();return this.node;},setContent:function $DBIr_(){var node=this.node;if(!node){console.error("setContent given no node");}try{node=dojo.html._setNodeContent(node,this.content);}catch(e){var _bd7=this.onContentError(e);try{node.innerHTML=_bd7;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function $DBIs_(){if(this.parseResults&&this.parseResults.length){dojo.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}dojo.html._emptyNode(this.node);},onBegin:function $DBIt_(){var cont=this.content;if(dojo.isString(cont)){if(this.cleanContent){cont=dojo.html._secureForInnerHtml(cont);}if(this.extractContent){var _bda=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_bda){cont=_bda[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function $DBIu_(){if(this.parseContent){this._parse();}return this.node;},tearDown:function $DBIv_(){delete this.parseResults;delete this.node;delete this.content;},onContentError:function $DBIw_(err){return "Error occured setting content: "+err;},_mixin:function $DBIx_(_bdc){var _bdd={},key;for(key in _bdc){if(key in _bdd){continue;}this[key]=_bdc[key];}},_parse:function $DBIy_(){var _bdf=this.node;try{this.parseResults=dojo.parser.parse(_bdf,true);}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function $DBIz_(type,err,_be2){var _be3=this["on"+type+"Error"].call(this,err);if(_be2){console.error(_be2,err);}else{if(_be3){dojo.html._setNodeContent(this.node,_be3,true);}}}});dojo.html.set=function $DBI3_(node,cont,_be6){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_be6){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojo.html._ContentSetter(dojo.mixin(_be6,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dijit.layout.ContentPane"]){dojo._hasResource["dijit.layout.ContentPane"]=true;dojo.provide("dijit.layout.ContentPane");dojo.declare("dijit.layout.ContentPane",dijit._Widget,{href:"",extractContent:false,parseOnLoad:true,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",doLayout:true,ioArgs:{},isContainer:true,postMixInProperties:function $DNr_(){this.inherited(arguments);var _be8=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=dojo.string.substitute(this.loadingMessage,_be8);this.errorMessage=dojo.string.substitute(this.errorMessage,_be8);if(!this.href&&this.srcNodeRef&&this.srcNodeRef.innerHTML){this.isLoaded=true;}},buildRendering:function $DNs_(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},postCreate:function $DNt_(){this.domNode.title="";if(!dojo.attr(this.domNode,"role")){dijit.setWaiRole(this.domNode,"group");}dojo.addClass(this.domNode,this.baseClass);},startup:function $DNu_(){if(this._started){return;}if(this.isLoaded){dojo.forEach(this.getChildren(),function(_be9){_be9.startup();});if(this.doLayout){this._checkIfSingleChild();}if(!this._singleChild||!dijit._Contained.prototype.getParent.call(this)){this._scheduleLayout();}}this._loadCheck();this.inherited(arguments);},_checkIfSingleChild:function $DNv_(){var _bea=dojo.query(">",this.containerNode),_beb=_bea.filter(function(node){return dojo.hasAttr(node,"dojoType")||dojo.hasAttr(node,"widgetId");}),_bed=dojo.filter(_beb.map(dijit.byNode),function(_bee){return _bee&&_bee.domNode&&_bee.resize;});if(_bea.length==_beb.length&&_bed.length==1){this._singleChild=_bed[0];}else{delete this._singleChild;}},setHref:function $DNw_(href){dojo.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use attr('href', ...) instead.","","2.0");return this.attr("href",href);},_setHrefAttr:function $DNx_(href){this.cancel();this.href=href;if(this._created&&(this.preload||this._isShown())){return this.refresh();}else{this._hrefChanged=true;}},setContent:function $DNy_(data){dojo.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use attr('content', ...) instead.","","2.0");this.attr("content",data);},_setContentAttr:function $DNz_(data){this.href="";this.cancel();this._setContent(data||"");this._isDownloaded=false;},_getContentAttr:function $DN0_(){return this.containerNode.innerHTML;},cancel:function $DN1_(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;},uninitialize:function $DN2_(){if(this._beingDestroyed){this.cancel();}},destroyRecursive:function $DN3_(_bf3){if(this._beingDestroyed){return;}this._beingDestroyed=true;this.inherited(arguments);},resize:function $DN4_(size){dojo.marginBox(this.domNode,size);var node=this.containerNode,mb=dojo.mixin(dojo.marginBox(node),size||{});var cb=(this._contentBox=dijit.layout.marginBox2contentBox(node,mb));if(this._singleChild&&this._singleChild.resize){this._singleChild.resize({w:cb.w,h:cb.h});}},_isShown:function $DN5_(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden");}},_onShow:function $DN6_(){if(this._needLayout){this._layoutChildren();}this._loadCheck();if(this.onShow){this.onShow();}},_loadCheck:function $DN7_(){if((this.href&&!this._xhrDfd)&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)&&(this.preload||this._isShown())){delete this._hrefChanged;this.refresh();}},refresh:function $DN8_(){this.cancel();this._setContent(this.onDownloadStart(),true);var self=this;var _bfa={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(dojo.isObject(this.ioArgs)){dojo.mixin(_bfa,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_bfa));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});},_onLoadHandler:function $DN9_(data){this.isLoaded=true;try{this.onLoad(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function $DOA_(){this.isLoaded=false;try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function $DOB_(){if(this.isLoaded){this._onUnloadHandler();}var _bff=this._contentSetter;dojo.forEach(this.getChildren(),function(_c00){if(_c00.destroyRecursive){_c00.destroyRecursive();}});if(_bff){dojo.forEach(_bff.parseResults,function(_c01){if(_c01.destroyRecursive&&_c01.domNode&&_c01.domNode.parentNode==dojo.body()){_c01.destroyRecursive();}});delete _bff.parseResults;}dojo.html._emptyNode(this.containerNode);},_setContent:function $DOC_(cont,_c03){this.destroyDescendants();delete this._singleChild;var _c04=this._contentSetter;if(!(_c04&&_c04 instanceof dojo.html._ContentSetter)){_c04=this._contentSetter=new dojo.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _c06=this.onContentError(e);try{this.containerNode.innerHTML=_c06;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _c07=dojo.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:this.parseOnLoad},this._contentSetterParams||{});dojo.mixin(_c04,_c07);_c04.set((dojo.isObject(cont)&&cont.domNode)?cont.domNode:cont);delete this._contentSetterParams;if(!_c03){dojo.forEach(this.getChildren(),function(_c08){_c08.startup();});if(this.doLayout){this._checkIfSingleChild();}this._scheduleLayout();this._onLoadHandler(cont);}},_onError:function $DOD_(type,err,_c0b){var _c0c=this["on"+type+"Error"].call(this,err);if(_c0b){console.error(_c0b,err);}else{if(_c0c){this._setContent(_c0c,true);}}},_scheduleLayout:function $DOE_(){if(this._isShown()){this._layoutChildren();}else{this._needLayout=true;}},_layoutChildren:function $DOF_(){if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||dojo.contentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{dojo.forEach(this.getChildren(),function(_c0e){if(_c0e.resize){_c0e.resize();}});}delete this._needLayout;},onLoad:function $DOG_(data){},onUnload:function $DOH_(){},onDownloadStart:function $DOI_(){return this.loadingMessage;},onContentError:function $DOJ_(_c10){},onDownloadError:function $DOK_(_c11){return this.errorMessage;},onDownloadEnd:function $DOL_(){}});}if(!dojo._hasResource["dojox.html._base"]){dojo._hasResource["dojox.html._base"]=true;dojo.provide("dojox.html._base");(function(){if(dojo.isIE){var _c12=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _c13=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _c14=dojox.html._adjustCssPaths=function(_c15,_c16){if(!_c16||!_c15){return;}if(_c12){_c16=_c16.replace(_c12,function(_c17,pre,_c19,url,post){return pre+(new dojo._Url(_c15,"./"+url).toString())+post;});}return _c16.replace(_c13,function(_c1c,_c1d,_c1e,_c1f,_c20,_c21){if(_c1e){return "@import \""+(new dojo._Url(_c15,"./"+_c1e).toString())+"\""+_c21;}else{return "url("+(new dojo._Url(_c15,"./"+_c20).toString())+")"+_c21;}});};var _c22=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _c23=dojox.html._adjustHtmlPaths=function(_c24,cont){var url=_c24||"./";return cont.replace(_c22,function(tag,_c28,name,_c2a,_c2b,_c2c,_c2d,end){return _c28+(name?(name+"="+_c2a+(new dojo._Url(url,_c2b).toString())+_c2a):("style="+_c2c+_c14(url,_c2d)+_c2c))+end;});};var _c2f=dojox.html._snarfStyles=function(_c30,cont,_c32){_c32.attributes=[];return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_c33,_c34,_c35,_c36,_c37,href){var i,attr=(_c34||_c36||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_c35){i=_c32.push(_c30?_c14(_c30,_c35):_c35);}else{i=_c32.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _c3b={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_c3b[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_c32.attributes[i-1]=_c3b;}return "";});};var _c3f=dojox.html._snarfScripts=function(cont,_c41){_c41.code="";function _c42(src){if(_c41.downloadRemote){dojo.xhrGet({url:src,sync:true,load:function $DAXI_(code){_c41.code+=code+";";},error:_c41.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?dojo)(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_c45,_c46,src,code){if(src){_c42(src);}else{_c41.code+=code;}return "";});};var _c49=dojox.html.evalInGlobal=function(code,_c4b){_c4b=_c4b||dojo.doc.body;var n=_c4b.ownerDocument.createElement("script");n.type="text/javascript";_c4b.appendChild(n);n.text=code;};dojo.declare("dojox.html._ContentSetter",[dojo.html._ContentSetter],{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function $DAXJ_(_c4d){this._styleNodes=[];var st,att,_c50,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_c4d.length;i<e;i++){_c50=_c4d[i];att=_c4d.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_c50;}else{st.appendChild(doc.createTextNode(_c50));}}},empty:function $DAXK_(){this.inherited("empty",arguments);this._styles=[];},onBegin:function $DAXL_(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _c58=this._styles;if(dojo.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_c23(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_c2f(this.referencePath,cont,_c58);}if(this.executeScripts){var _t=this;var _c5a={downloadRemote:true,errBack:function $DAXM_(e){_t._onError.call(_t,"Exec","Error downloading remote script in \""+_t.id+"\"",e);}};cont=_c3f(cont,_c5a);this._code=_c5a.code;}}this.content=cont;},onEnd:function $DAXN_(){var code=this._code,_c5d=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_c5d&&_c5d.length){this._renderStyles(_c5d);}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_c49(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}this.inherited("onEnd",arguments);},tearDown:function $DAXO_(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo.destroy(this._styleNodes.pop());}}delete this._styleNodes;dojo.mixin(this,dojo.getObject(this.declaredClass).prototype);}});dojox.html.set=function $DAXP_(node,cont,_c60){if(!_c60){return dojo.html._setNodeContent(node,cont,true);}else{var op=new dojox.html._ContentSetter(dojo.mixin(_c60,{content:cont,node:node}));return op.set();}};})();}if(!dojo._hasResource["dojox.layout.ContentPane"]){dojo._hasResource["dojox.layout.ContentPane"]=true;dojo.provide("dojox.layout.ContentPane");(function(){dojo.declare("dojox.layout.ContentPane",dijit.layout.ContentPane,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function $DAcd_(){this.ioArgs={};this.ioMethod=dojo.xhrGet;this.onLoadDeferred=new dojo.Deferred();this.onUnloadDeferred=new dojo.Deferred();},postCreate:function $DAce_(){this._setUpDeferreds();dijit.layout.ContentPane.prototype.postCreate.apply(this,arguments);},onExecError:function $DAcf_(e){},_setContentAttr:function $DAcg_(data){var _c64=this._setUpDeferreds();this.inherited(arguments);return _c64;},cancel:function $DAch_(){if(this._xhrDfd&&this._xhrDfd.fired==-1){this.onUnloadDeferred=null;}dijit.layout.ContentPane.prototype.cancel.apply(this,arguments);},_setUpDeferreds:function $DAci_(){var _t=this,_c66=function(){_t.cancel();};var _c67=(_t.onLoadDeferred=new dojo.Deferred());var _c68=(_t._nextUnloadDeferred=new dojo.Deferred());return {cancel:_c66,addOnLoad:function $DAcj_(func){_c67.addCallback(func);},addOnUnload:function $DAck_(func){_c68.addCallback(func);}};},_onLoadHandler:function $DAcl_(){dijit.layout.ContentPane.prototype._onLoadHandler.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}},_onUnloadHandler:function $DAcm_(){this.isLoaded=false;this.cancel();if(this.onUnloadDeferred){this.onUnloadDeferred.callback(true);}dijit.layout.ContentPane.prototype._onUnloadHandler.apply(this,arguments);if(this._nextUnloadDeferred){this.onUnloadDeferred=this._nextUnloadDeferred;}},_onError:function $DAcn_(type,err){dijit.layout.ContentPane.prototype._onError.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.errback(err);}},refresh:function $DAco_(){var _c6d=this._setUpDeferreds();this.inherited(arguments);return _c6d;},_setContent:function $DAcp_(cont){var _c6f=this._contentSetter;if(!(_c6f&&_c6f instanceof dojox.html._ContentSetter)){_c6f=this._contentSetter=new dojox.html._ContentSetter({node:this.containerNode,_onError:dojo.hitch(this,this._onError),onContentError:dojo.hitch(this,function(e){var _c71=this.onContentError(e);try{this.containerNode.innerHTML=_c71;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});})();}if(!dojo._hasResource["dojox.layout.ResizeHandle"]){dojo._hasResource["dojox.layout.ResizeHandle"]=true;dojo.provide("dojox.layout.ResizeHandle");dojo.experimental("dojox.layout.ResizeHandle");dojo.declare("dojox.layout.ResizeHandle",[dijit._Widget,dijit._Templated],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,constrainMax:false,maxHeight:0,maxWidth:0,fixedAspect:false,intermediateChanges:false,templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",postCreate:function $DAef_(){this.connect(this.resizeHandle,"onmousedown","_beginSizing");if(!this.activeResize){this._resizeHelper=dijit.byId("dojoxGlobalResizeHelper");if(!this._resizeHelper){this._resizeHelper=new dojox.layout._ResizeHelper({id:"dojoxGlobalResizeHelper"}).placeAt(dojo.body());dojo.addClass(this._resizeHelper.domNode,this.activeResizeClass);}}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}if(this.constrainMax){this.maxSize={w:this.maxWidth,h:this.maxHeight};}this._resizeX=this._resizeY=false;var _c72=dojo.partial(dojo.addClass,this.resizeHandle);switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;_c72("dojoxResizeNW");break;case "x":this._resizeX=true;_c72("dojoxResizeW");break;case "y":this._resizeY=true;_c72("dojoxResizeN");break;}},_beginSizing:function $DAeg_(e){if(this._isSizing){return false;}this.targetWidget=dijit.byId(this.targetId);this.targetDomNode=this.targetWidget?this.targetWidget.domNode:dojo.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return false;}if(!this.activeResize){var c=dojo.coords(this.targetDomNode,true);this._resizeHelper.resize({l:c.x,t:c.y,w:c.w,h:c.h});this._resizeHelper.show();}this._isSizing=true;this.startPoint={x:e.clientX,y:e.clientY};var mb=this.targetWidget?dojo.marginBox(this.targetDomNode):dojo.contentBox(this.targetDomNode);this.startSize={w:mb.w,h:mb.h};if(this.fixedAspect){var max,val;if(mb.w>mb.h){max="w";val=mb.w/mb.h;}else{max="h";val=mb.h/mb.w;}this._aspect={prop:max};this._aspect[max]=val;}this._pconnects=[];this._pconnects.push(dojo.connect(dojo.doc,"onmousemove",this,"_updateSizing"));this._pconnects.push(dojo.connect(dojo.doc,"onmouseup",this,"_endSizing"));dojo.stopEvent(e);},_updateSizing:function $DAeh_(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e);if(tmp===false){return;}this._resizeHelper.resize(tmp);}e.preventDefault();},_getNewCoords:function $DAei_(e){try{if(!e.clientX||!e.clientY){return false;}}catch(e){return false;}this._activeResizeLastEvent=e;var dx=this.startPoint.x-e.clientX,dy=this.startPoint.y-e.clientY,newW=this.startSize.w-(this._resizeX?dx:0),newH=this.startSize.h-(this._resizeY?dy:0);return this._checkConstraints(newW,newH);},_checkConstraints:function $DAej_(newW,newH){if(this.minSize){var tm=this.minSize;if(newW<tm.w){newW=tm.w;}if(newH<tm.h){newH=tm.h;}}if(this.constrainMax&&this.maxSize){var ms=this.maxSize;if(newW>ms.w){newW=ms.w;}if(newH>ms.h){newH=ms.h;}}if(this.fixedAspect){var ta=this._aspect[this._aspect.prop];if(newW<newH){newH=newW*ta;}else{if(newH<newW){newW=newH*ta;}}}return {w:newW,h:newH};},_changeSizing:function $DAek_(e){var tmp=this._getNewCoords(e);if(tmp===false){return;}if(this.targetWidget&&dojo.isFunction(this.targetWidget.resize)){this.targetWidget.resize(tmp);}else{if(this.animateSizing){var anim=dojo.fx[this.animateMethod]([dojo.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.w,unit:"px"}},duration:this.animateDuration}),dojo.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.h,unit:"px"}},duration:this.animateDuration})]);anim.play();}else{dojo.style(this.targetDomNode,{width:tmp.w+"px",height:tmp.h+"px"});}}if(this.intermediateChanges){this.onResize(e);}},_endSizing:function $DAel_(e){dojo.forEach(this._pconnects,dojo.disconnect);if(!this.activeResize){this._resizeHelper.hide();this._changeSizing(e);}this._isSizing=false;this.onResize(e);},onResize:function $DAem_(e){}});dojo.declare("dojox.layout._ResizeHelper",dijit._Widget,{show:function $DAen_(){dojo.fadeIn({node:this.domNode,duration:120,beforeBegin:dojo.partial(dojo.style,this.domNode,"display","")}).play();},hide:function $DAeo_(){dojo.fadeOut({node:this.domNode,duration:250,onEnd:dojo.partial(dojo.style,this.domNode,"display","none")}).play();},resize:function $DAep_(dim){dojo.marginBox(this.domNode,dim);}});}if(!dojo._hasResource["dojox.layout.FloatingPane"]){dojo._hasResource["dojox.layout.FloatingPane"]=true;dojo.provide("dojox.layout.FloatingPane");dojo.experimental("dojox.layout.FloatingPane");dojo.declare("dojox.layout.FloatingPane",[dojox.layout.ContentPane,dijit._Templated],{closable:true,dockable:true,resizable:false,maxable:false,resizeAxis:"xy",title:"",dockTo:"",duration:400,contentClass:"dojoxFloatingPaneContent",_showAnim:null,_hideAnim:null,_dockNode:null,_restoreState:{},_allFPs:[],_startZ:100,templateString:null,templateString:"<div class=\"dojoxFloatingPane\" id=\"${id}\">\n\t<div tabindex=\"0\" waiRole=\"button\" class=\"dojoxFloatingPaneTitle\" dojoAttachPoint=\"focusNode\">\n\t\t<span dojoAttachPoint=\"closeNode\" dojoAttachEvent=\"onclick: close\" class=\"dojoxFloatingCloseIcon\"></span>\n\t\t<span dojoAttachPoint=\"maxNode\" dojoAttachEvent=\"onclick: maximize\" class=\"dojoxFloatingMaximizeIcon\">&thinsp;</span>\n\t\t<span dojoAttachPoint=\"restoreNode\" dojoAttachEvent=\"onclick: _restore\" class=\"dojoxFloatingRestoreIcon\">&thinsp;</span>\t\n\t\t<span dojoAttachPoint=\"dockNode\" dojoAttachEvent=\"onclick: minimize\" class=\"dojoxFloatingMinimizeIcon\">&thinsp;</span>\n\t\t<span dojoAttachPoint=\"titleNode\" class=\"dijitInline dijitTitleNode\"></span>\n\t</div>\n\t<div dojoAttachPoint=\"canvas\" class=\"dojoxFloatingPaneCanvas\">\n\t\t<div dojoAttachPoint=\"containerNode\" waiRole=\"region\" tabindex=\"-1\" class=\"${contentClass}\">\n\t\t</div>\n\t\t<span dojoAttachPoint=\"resizeHandle\" class=\"dojoxFloatingResizeHandle\"></span>\n\t</div>\n</div>\n",postCreate:function $DAdg_(){this.setTitle(this.title);this.inherited(arguments);var move=new dojo.dnd.Moveable(this.domNode,{handle:this.focusNode});if(!this.dockable){this.dockNode.style.display="none";}if(!this.closable){this.closeNode.style.display="none";}if(!this.maxable){this.maxNode.style.display="none";this.restoreNode.style.display="none";}if(!this.resizable){this.resizeHandle.style.display="none";}else{var foo=dojo.marginBox(this.domNode);this.domNode.style.width=foo.w+"px";}this._allFPs.push(this);this.domNode.style.position="absolute";this.bgIframe=new dijit.BackgroundIframe(this.domNode);},startup:function $DAdh_(){if(this._started){return;}this.inherited(arguments);if(this.resizable){if(dojo.isIE){this.canvas.style.overflow="auto";}else{this.containerNode.style.overflow="auto";}this._resizeHandle=new dojox.layout.ResizeHandle({targetId:this.id,resizeAxis:this.resizeAxis},this.resizeHandle);}if(this.dockable){var _c8c=this.dockTo;if(this.dockTo){this.dockTo=dijit.byId(this.dockTo);}else{this.dockTo=dijit.byId("dojoxGlobalFloatingDock");}if(!this.dockTo){var _c8d;var _c8e;if(_c8c){_c8d=_c8c;_c8e=dojo.byId(_c8c);}else{_c8e=document.createElement("div");dojo.body().appendChild(_c8e);dojo.addClass(_c8e,"dojoxFloatingDockDefault");_c8d="dojoxGlobalFloatingDock";}this.dockTo=new dojox.layout.Dock({id:_c8d,autoPosition:"south"},_c8e);this.dockTo.startup();}if((this.domNode.style.display=="none")||(this.domNode.style.visibility=="hidden")){this.minimize();}}this.connect(this.focusNode,"onmousedown","bringToTop");this.connect(this.domNode,"onmousedown","bringToTop");this.resize(dojo.coords(this.domNode));this._started=true;},setTitle:function $DAdi_(_c8f){this.titleNode.innerHTML=_c8f;this.title=_c8f;},close:function $DAdj_(){if(!this.closable){return;}dojo.unsubscribe(this._listener);this.hide(dojo.hitch(this,function(){this.destroyRecursive();}));},hide:function $DAdk_(_c90){dojo.fadeOut({node:this.domNode,duration:this.duration,onEnd:dojo.hitch(this,function(){this.domNode.style.display="none";this.domNode.style.visibility="hidden";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null);}if(_c90){_c90();}})}).play();},show:function $DAdl_(_c91){var anim=dojo.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:dojo.hitch(this,function(){this.domNode.style.display="";this.domNode.style.visibility="visible";if(this.dockTo&&this.dockable){this.dockTo._positionDock(null);}if(typeof _c91=="function"){_c91();}this._isDocked=false;if(this._dockNode){this._dockNode.destroy();this._dockNode=null;}})}).play();this.resize(dojo.coords(this.domNode));},minimize:function $DAdm_(){if(!this._isDocked){this.hide(dojo.hitch(this,"_dock"));}},maximize:function $DAdn_(){if(this._maximized){return;}this._naturalState=dojo.coords(this.domNode);if(this._isDocked){this.show();setTimeout(dojo.hitch(this,"maximize"),this.duration);}dojo.addClass(this.focusNode,"floatingPaneMaximized");this.resize(dijit.getViewport());this._maximized=true;},_restore:function $DAdo_(){if(this._maximized){this.resize(this._naturalState);dojo.removeClass(this.focusNode,"floatingPaneMaximized");this._maximized=false;}},_dock:function $DAdp_(){if(!this._isDocked&&this.dockable){this._dockNode=this.dockTo.addNode(this);this._isDocked=true;}},resize:function $DAdq_(dim){this._currentState=dim;var dns=this.domNode.style;if(dim.t){dns.top=dim.t+"px";}if(dim.l){dns.left=dim.l+"px";}dns.width=dim.w+"px";dns.height=dim.h+"px";var _c95={l:0,t:0,w:dim.w,h:(dim.h-this.focusNode.offsetHeight)};dojo.marginBox(this.canvas,_c95);this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){this._singleChild.resize(_c95);}},bringToTop:function $DAdr_(){var _c96=dojo.filter(this._allFPs,function(i){return i!==this;},this);_c96.sort(function(a,b){return a.domNode.style.zIndex-b.domNode.style.zIndex;});_c96.push(this);dojo.forEach(_c96,function(w,x){w.domNode.style.zIndex=this._startZ+(x*2);dojo.removeClass(w.domNode,"dojoxFloatingPaneFg");},this);dojo.addClass(this.domNode,"dojoxFloatingPaneFg");},destroy:function $DAds_(){this._allFPs.splice(dojo.indexOf(this._allFPs,this),1);if(this._resizeHandle){this._resizeHandle.destroy();}this.inherited(arguments);}});dojo.declare("dojox.layout.Dock",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dojoxDock\"><ul dojoAttachPoint=\"containerNode\" class=\"dojoxDockList\"></ul></div>",_docked:[],_inPositioning:false,autoPosition:false,addNode:function $DAdt_(_c9c){var div=document.createElement("li");this.containerNode.appendChild(div);var node=new dojox.layout._DockNode({title:_c9c.title,paneRef:_c9c},div);node.startup();return node;},startup:function $DAdu_(){if(this.id=="dojoxGlobalFloatingDock"||this.isFixedDock){dojo.connect(window,"onresize",this,"_positionDock");dojo.connect(window,"onscroll",this,"_positionDock");if(dojo.isIE){this.connect(this.domNode,"onresize","_positionDock");}}this._positionDock(null);this.inherited(arguments);},_positionDock:function $DAdv_(e){if(!this._inPositioning){if(this.autoPosition=="south"){setTimeout(dojo.hitch(this,function(){this._inPositiononing=true;var _ca0=dijit.getViewport();var s=this.domNode.style;s.left=_ca0.l+"px";s.width=(_ca0.w-2)+"px";s.top=(_ca0.h+_ca0.t)-this.domNode.offsetHeight+"px";this._inPositioning=false;}),125);}}}});dojo.declare("dojox.layout._DockNode",[dijit._Widget,dijit._Templated],{title:"",paneRef:null,templateString:"<li dojoAttachEvent=\"onclick: restore\" class=\"dojoxDockNode\">"+"<span dojoAttachPoint=\"restoreNode\" class=\"dojoxDockRestoreButton\" dojoAttachEvent=\"onclick: restore\"></span>"+"<span class=\"dojoxDockTitleNode\" dojoAttachPoint=\"titleNode\">${title}</span>"+"</li>",restore:function $DAdw_(){this.paneRef.show();this.paneRef.bringToTop();this.destroy();}});}if(!dojo._hasResource["dojox.widget.Toaster"]){dojo._hasResource["dojox.widget.Toaster"]=true;dojo.provide("dojox.widget.Toaster");dojo.declare("dojox.widget.Toaster",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint=\"clipNode\"><div dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onclick:onSelect\"><div dojoAttachPoint=\"contentNode\"></div></div></div>",messageTopic:"",messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:["br-up","br-left","bl-up","bl-right","tr-down","tr-left","tl-down","tl-right"],duration:2000,slideDuration:500,separator:"<hr></hr>",postCreate:function $DAvY_(){this.inherited(arguments);this.hide();dojo.body().appendChild(this.domNode);this.clipNode.className="dijitToasterClip";this.containerNode.className+=" dijitToasterContainer";this.contentNode.className="dijitToasterContent";if(this.messageTopic){dojo.subscribe(this.messageTopic,this,"_handleMessage");}},_handleMessage:function $DAvZ_(_ca2){if(dojo.isString(_ca2)){this.setContent(_ca2);}else{this.setContent(_ca2.message,_ca2.type,_ca2.duration);}},_capitalize:function $DAva_(w){return w.substring(0,1).toUpperCase()+w.substring(1);},setContent:function $DAvb_(_ca4,_ca5,_ca6){_ca6=_ca6||this.duration;if(this.slideAnim){if(this.slideAnim.status()!="playing"){this.slideAnim.stop();}if(this.slideAnim.status()=="playing"||(this.fadeAnim&&this.fadeAnim.status()=="playing")){setTimeout(dojo.hitch(this,function(){this.setContent(_ca4,_ca5,_ca6);}),50);return;}}for(var type in this.messageTypes){dojo.removeClass(this.containerNode,"dijitToaster"+this._capitalize(this.messageTypes[type]));}dojo.style(this.containerNode,"opacity",1);this._setContent(_ca4);dojo.addClass(this.containerNode,"dijitToaster"+this._capitalize(_ca5||this.defaultType));this.show();var _ca8=dojo.marginBox(this.containerNode);this._cancelHideTimer();if(this.isVisible){this._placeClip();if(!this._stickyMessage){this._setHideTimer(_ca6);}}else{var _ca9=this.containerNode.style;var pd=this.positionDirection;if(pd.indexOf("-up")>=0){_ca9.left=0+"px";_ca9.top=_ca8.h+10+"px";}else{if(pd.indexOf("-left")>=0){_ca9.left=_ca8.w+10+"px";_ca9.top=0+"px";}else{if(pd.indexOf("-right")>=0){_ca9.left=0-_ca8.w-10+"px";_ca9.top=0+"px";}else{if(pd.indexOf("-down")>=0){_ca9.left=0+"px";_ca9.top=0-_ca8.h-10+"px";}else{throw new Error(this.id+".positionDirection is invalid: "+pd);}}}}this.slideAnim=dojo.fx.slideTo({node:this.containerNode,top:0,left:0,duration:this.slideDuration});this.connect(this.slideAnim,"onEnd",function(_cab,anim){this.fadeAnim=dojo.fadeOut({node:this.containerNode,duration:1000});this.connect(this.fadeAnim,"onEnd",function(evt){this.isVisible=false;this.hide();});this._setHideTimer(_ca6);this.connect(this,"onSelect",function(evt){this._cancelHideTimer();this._stickyMessage=false;this.fadeAnim.play();});this.isVisible=true;});this.slideAnim.play();}},_setContent:function $DAvc_(_caf){if(dojo.isFunction(_caf)){_caf(this);return;}if(_caf&&this.isVisible){_caf=this.contentNode.innerHTML+this.separator+_caf;}this.contentNode.innerHTML=_caf;},_cancelHideTimer:function $DAvd_(){if(this._hideTimer){clearTimeout(this._hideTimer);this._hideTimer=null;}},_setHideTimer:function $DAve_(_cb0){this._cancelHideTimer();if(_cb0>0){this._cancelHideTimer();this._hideTimer=setTimeout(dojo.hitch(this,function(evt){if(this.bgIframe&&this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this._hideTimer=null;this._stickyMessage=false;this.fadeAnim.play();}),_cb0);}else{this._stickyMessage=true;}},_placeClip:function $DAvf_(){var view=dijit.getViewport();var _cb3=dojo.marginBox(this.containerNode);var _cb4=this.clipNode.style;_cb4.height=_cb3.h+"px";_cb4.width=_cb3.w+"px";var pd=this.positionDirection;if(pd.match(/^t/)){_cb4.top=view.t+"px";}else{if(pd.match(/^b/)){_cb4.top=(view.h-_cb3.h-2+view.t)+"px";}}if(pd.match(/^[tb]r-/)){_cb4.left=(view.w-_cb3.w-1-view.l)+"px";}else{if(pd.match(/^[tb]l-/)){_cb4.left=0+"px";}}_cb4.clip="rect(0px, "+_cb3.w+"px, "+_cb3.h+"px, 0px)";if(dojo.isIE){if(!this.bgIframe){this.clipNode.id=dijit.getUniqueId("dojox_widget_Toaster_clipNode");this.bgIframe=new dijit.BackgroundIframe(this.clipNode);}var _cb6=this.bgIframe.iframe;if(_cb6){_cb6.style.display="block";}}},onSelect:function $DAvg_(e){},show:function $DAvh_(){dojo.style(this.domNode,"display","block");this._placeClip();if(!this._scrollConnected){this._scrollConnected=dojo.connect(window,"onscroll",this,this._placeClip);}},hide:function $DAvi_(){dojo.style(this.domNode,"display","none");if(this._scrollConnected){dojo.disconnect(this._scrollConnected);this._scrollConnected=false;}dojo.style(this.containerNode,"opacity",1);}});}if(!dojo._hasResource["betterform.ui.common.GlobalAlert"]){dojo._hasResource["betterform.ui.common.GlobalAlert"]=true;dojo.provide("betterform.ui.common.GlobalAlert");dojo.declare("betterform.ui.common.GlobalAlert",null,{handleValid:function $DA0o_(id,_cb9){console.warn("COMING SOON GLOBAL ALERTS - betterform.ui.common.GlobalAlert.valid [id:"+id," action: "+_cb9+"]");},handleInvalid:function $DA0p_(id,_cbb){console.warn("COMING SOON GLOBAL ALERTS - betterform.ui.common.GlobalAlert.invalid [id:"+id," action: "+_cbb+"]");}});}if(!dojo._hasResource["betterform.ui.common.BowlAlert"]){dojo._hasResource["betterform.ui.common.BowlAlert"]=true;dojo.provide("betterform.ui.common.BowlAlert");dojo.declare("betterform.ui.common.BowlAlert",null,{handleValid:function $DA0m_(id,_cbd){console.warn("COMING SOON GROWL STYLE ALERTS - betterform.ui.common.BowlAlert.valid [id:"+id," action: "+_cbd+"]");},handleInvalid:function $DA0n_(id,_cbf){console.warn("COMING SOON GROWL STYLE ALERTS - betterform.ui.common.BowlAlert.invalid [id:"+id," action: "+_cbf+"]");}});}if(!dojo._hasResource["betterform.ui.common.InlineAlert"]){dojo._hasResource["betterform.ui.common.InlineAlert"]=true;dojo.provide("betterform.ui.common.InlineAlert");dojo.declare("betterform.ui.common.InlineAlert",null,{constructor:function $DA0q_(){},handleValid:function $DA0r_(id,_cc1){if(_cc1=="xfDisabled"){this._showState(id,"none");}var _cc2=dijit.byId(id);if(_cc1=="onFocus"&&_cc2.getControlValue()==""){this._showState(id,"hint");}else{if((_cc1=="applyChanges"||_cc1=="onBlur")&&_cc2.getControlValue()!=""){this._showState(id,"info");}else{if((_cc1=="applyChanges"||_cc1=="onBlur")&&_cc2.getControlValue()==""){this._showState(id,"none");}}}var _cc3=dijit.byId(id+"-value");if(dojo.hasClass(_cc3.domNode,"bfInvalidControl")){dojo.removeClass(_cc3.domNode,"bfInvalidControl");}},handleInvalid:function $DA0s_(id,_cc5){var _cc6=dijit.byId(id);var _cc7=dojo.byId(id-"alert");if(_cc7==undefined){return;}if(_cc5=="init"){return;}if(_cc5=="submitError"){this._showState(id,"alert");}var _cc8;if((_cc6.getControlValue()==undefined||_cc6.getControlValue()=="")&&!(dojo.hasClass(_cc6.domNode,"xsdBoolean"))){_cc8=true;}else{_cc8=false;}if(_cc5=="xfDisabled"){this._showState(id,"none");}if(_cc8){if(_cc5=="onBlur"){this._showState(id,"none");}else{if(_cc5=="applyChanges"){this._showState(id,"none");}else{if(_cc5=="onFocus"){this._showState(id,"hint");}else{if(_cc5=="applyChanges"){this._showState(id,"hint");}}}}}else{if(_cc5=="applyChanges"){this._showState(id,"alert");dojo.addClass(_cc6.controlValue.domNode,"bfInvalidControl");}else{if(_cc5=="onFocus"){this._showState(id,"alert");}}}},_showState:function $DA0t_(id,_cca){if(_cca=="alert"){this._display(id,"hint","none");this._display(id,"info","none");this._display(id,"alert","inline");}else{if(_cca=="hint"){this._display(id,"alert","none");this._display(id,"info","none");this._display(id,"hint","inline");}else{if(_cca=="info"){this._display(id,"alert","none");this._display(id,"hint","none");this._display(id,"info","inline");}else{if(_cca=="none"){this._display(id,"alert","none");this._display(id,"hint","none");this._display(id,"info","none");}else{console.warn("State '"+_cca+"' for Control "+id+" is unknown");}}}}},_display:function $DA0u_(id,_ccc,show){var mip=dojo.byId(id+"-"+_ccc);if(mip!=undefined&&mip.innerHTML!=""){dojo.style(mip,"display",show);}else{console.warn(id+"-"+_ccc+" is not defined for Control "+id);}}});}if(!dojo._hasResource["dojo.behavior"]){dojo._hasResource["dojo.behavior"]=true;dojo.provide("dojo.behavior");dojo.behavior=new function(){function _ccf(obj,name){if(!obj[name]){obj[name]=[];}return obj[name];};var _inc=0;function _cd3(obj,_cd5,func){var _cd7={};for(var x in obj){if(typeof _cd7[x]=="undefined"){if(!func){_cd5(obj[x],x);}else{func.call(_cd5,obj[x],x);}}}};this._behaviors={};this.add=function $DBDS_(_cd9){var _cda={};_cd3(_cd9,this,function(_cdb,name){var _cdd=_ccf(this._behaviors,name);if(typeof _cdd["id"]!="number"){_cdd.id=_inc++;}var _cde=[];_cdd.push(_cde);if((dojo.isString(_cdb))||(dojo.isFunction(_cdb))){_cdb={found:_cdb};}_cd3(_cdb,function(rule,_ce0){_ccf(_cde,_ce0).push(rule);});});};var _ce1=function(node,_ce3,_ce4){if(dojo.isString(_ce3)){if(_ce4=="found"){dojo.publish(_ce3,[node]);}else{dojo.connect(node,_ce4,function(){dojo.publish(_ce3,arguments);});}}else{if(dojo.isFunction(_ce3)){if(_ce4=="found"){_ce3(node);}else{dojo.connect(node,_ce4,_ce3);}}}};this.apply=function $DBDT_(){_cd3(this._behaviors,function(_ce5,id){dojo.query(id).forEach(function(elem){var _ce8=0;var bid="_dj_behavior_"+_ce5.id;if(typeof elem[bid]=="number"){_ce8=elem[bid];if(_ce8==(_ce5.length)){return;}}for(var x=_ce8,tver;tver=_ce5[x];x++){_cd3(tver,function(_cec,_ced){if(dojo.isArray(_cec)){dojo.forEach(_cec,function(_cee){_ce1(elem,_cee,_ced);});}});}elem[bid]=_ce5.length;});});};};dojo.addOnLoad(dojo.behavior,"apply");}if(!dojo._hasResource["betterform.ui.common.InlineRoundBordersAlert"]){dojo._hasResource["betterform.ui.common.InlineRoundBordersAlert"]=true;dojo.provide("betterform.ui.common.InlineRoundBordersAlert");dojo.declare("betterform.ui.common.InlineRoundBordersAlert",betterform.ui.common.InlineAlert,{_showState:function $DA0v_(id,_cf0){var mip=dojo.byId(id+"-"+_cf0);this._handleBorders(id,_cf0);if(_cf0=="alert"){this._display(id,"hint","none");this._display(id,"info","none");this._display(id,"alert","block");}else{if(_cf0=="hint"){this._display(id,"alert","none");this._display(id,"info","none");this._display(id,"hint","block");}else{if(_cf0=="info"){this._display(id,"alert","none");this._display(id,"hint","none");this._display(id,"info","block");}else{if(_cf0=="none"){this._display(id,"alert","none");this._display(id,"hint","none");this._display(id,"info","none");}else{}}}}},_display:function $DA0w_(id,_cf3,show){var mip=dojo.byId(id+"-"+_cf3);if(mip!=undefined&&mip.innerHTML!=""){dojo.style(mip,"display",show);}else{console.warn(id+"-"+_cf3+" is not defined for Control "+id);}},_handleBorders:function $DA0x_(id,_cf7){if(_cf7=="info"||_cf7=="hint"||_cf7=="alert"){this._angularBorders(id,_cf7);}else{this._roundBorders(id,_cf7);}},_roundBorders:function $DA0y_(id,_cf9){var _cfa=dijit.byId(id+"-value");if(_cfa!=undefined){dojo.style(_cfa.domNode,"MozBorderRadiusTopright","8px");dojo.style(_cfa.domNode,"MozBorderRadiusBottomright","8px");dojo.style(_cfa.domNode,"WebkitBorderTopRightRadius","8px");dojo.style(_cfa.domNode,"WebkitBorderBottomRightRadius","8px");}},_angularBorders:function $DA0z_(id,_cfc){var _cfd=dijit.byId(id+"-value");if(_cfd!=undefined){dojo.style(_cfd.domNode,"MozBorderRadiusTopright","0px");dojo.style(_cfd.domNode,"MozBorderRadiusBottomright","0px");dojo.style(_cfd.domNode,"WebkitBorderTopRightRadius","0px");dojo.style(_cfd.domNode,"WebkitBorderBottomRightRadius","0px");}else{this._roundBorders(_cfc);}}});}if(!dojo._hasResource["betterform.ui.common.ToolTipAlert"]){dojo._hasResource["betterform.ui.common.ToolTipAlert"]=true;dojo.provide("betterform.ui.common.ToolTipAlert");dojo.declare("betterform.ui.common.ToolTipAlert",null,{handleValid:function $DA00_(id,_cff){var _d00=dijit.byId(id+"-value");var _d01=undefined;_d01=dijit.byId(id+"-MasterToolTip-alert");if(_d01!=undefined){_d01.hide(_d00.domNode);}if(dojo.hasClass(_d00.domNode,"bfInvalidControl")){dojo.removeClass(_d00.domNode,"bfInvalidControl");}},handleInvalid:function $DA01_(id,_d03){var _d04=dijit.byId(id+"-MasterToolTip-alert");if(_d04==undefined){_d04=new dijit._MasterTooltip({id:id+"-MasterToolTip-alert"});}var _d05=dijit.byId(id);var _d06=dojo.byId(id+"-alert");if(_d06!=undefined){if(_d03=="xfDisabled"){_d04.hide(_d05.domNode);}if(_d03=="onFocus"&&(_d05.getControlValue()!="")){_d04.show(_d06.innerHTML,dojo.byId(id+"-value"));}else{if(_d03=="applyChanges"&&(_d05.getControlValue()!=""||dojo.hasClass(_d05.domNode,"xsdBoolean"))){_d04.show(_d06.innerHTML,dojo.byId(id+"-value"));dojo.style(_d04.domNode,"opacity","1");dojo.fadeOut({node:_d04.domNode,duration:8000,invalidControl:_d05.controlValue,onBegin:function $DA02_(){dojo.addClass(this.invalidControl.domNode,"bfInvalidControl");}}).play();}else{_d04.hide(dojo.byId(id+"-value"));}}}}});}if(!dojo._hasResource["betterform.ui.container.Container"]){dojo._hasResource["betterform.ui.container.Container"]=true;dojo.provide("betterform.ui.container.Container");dojo.declare("betterform.ui.container.Container",dijit._Widget,{handleStateChanged:function $DA07_(_d07){if(_d07["parentId"]){this._handleHelperChanged(_d07);}else{this.valid=_d07["valid"];this.readonly=_d07["readonly"];this.required=_d07["required"];this.relevant=_d07["enabled"];if(this.valid!=null){this._handleSetValidProperty(eval(this.valid));}if(this.readonly!=null){this._handleSetReadonlyProperty(eval(this.readonly));}if(this.required!=null){this._handleSetRequiredProperty(eval(this.required));}if(this.relevant!=null){this._handleSetEnabledProperty(eval(this.relevant));}}},_handleSetValidProperty:function $DA08_(){if(this.valid=="true"){betterform.ui.util.replaceClass(this.domNode,"xfInvalid","xfValid");}else{betterform.ui.util.replaceClass(this.domNode,"xfValid","xfInvalid");}},_handleSetReadonlyProperty:function $DA09_(_d08){if(_d08){betterform.ui.util.replaceClass(this.domNode,"xfReadWrite","xfReadOnly");}else{betterform.ui.util.replaceClass(this.domNode,"xfReadOnly","xfReadWrite");}},_handleSetRequiredProperty:function $DA1A_(){if(this.required=="true"){betterform.ui.util.replaceClass(this.domNode,"xfOptional","xfRequired");}else{betterform.ui.util.replaceClass(this.domNode,"xfRequired","xfOptional");}},_handleSetEnabledProperty:function $DA1B_(){var _d09=this.id;var _d0a=dojo.byId(_d09+"-label");if(this.relevant=="true"){betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");betterform.ui.util.replaceClass(_d0a,"xfDisabled","xfEnabled");}else{betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");betterform.ui.util.replaceClass(_d0a,"xfEnabled","xfDisabled");}},_handleHelperChanged:function $DA1C_(_d0b){switch(_d0b["targetName"]){case "label":this._setLabel(_d0b["value"]);return;case "help":this._setHelp(_d0b["value"]);return;case "hint":this._setHint(_d0b["value"]);return;case "alert":this._setAlert(_d0b["value"]);return;}},isRequired:function $DA1D_(){if(dojo.hasClass(this.domNode,"xfOptional")){return false;}else{if(dojo.hasClass(this.domNode,"xfRequired")){return true;}else{console.warn("Container: No required state found, Container is probably unbound");}}},isReadonly:function $DA1E_(){if(dojo.hasClass(this.domNode,"xfReadWrite")){return false;}else{if(dojo.hasClass(this.domNode,"xfReadOnly")){return true;}else{console.warn("Container: No readonly state found, Container is probably unbound");}}},isRelevant:function $DA1F_(){if(dojo.hasClass(this.domNode,"xfDisabled")){return false;}else{if(dojo.hasClass(this.domNode,"xfEnabled")){return true;}else{console.warn("Container: No relevant state found, Container is probably unbound");}}},isValid:function $DA1G_(){if(dojo.hasClass(this.domNode,"xfInvalid")){return false;}else{if(dojo.hasClass(this.domNode,"xfValid")){return true;}else{console.warn("Container No validate state found for "+this.id+" Container is probably unbound");}}},_setLabel:function $DA1H_(_d0c){console.warn("TBD: Container._setLabel value:"+_d0c);},_setHelp:function $DA1I_(_d0d){console.warn("TBD: Container._setHelp value:"+_d0d);},_setHint:function $DA1J_(_d0e){console.warn("TBD: Container._setHint value:"+_d0e);},_setAlert:function $DA1K_(_d0f){console.warn("TBD: Container._setAlert value:"+_d0f);},_setValueChild:function $DA1L_(_d10){console.warn("TBD: Container._setValueChild value:"+_d10);}});}if(!dojo._hasResource["betterform.ui.container.Group"]){dojo._hasResource["betterform.ui.container.Group"]=true;dojo.provide("betterform.ui.container.Group");dojo.declare("betterform.ui.container.Group",betterform.ui.container.Container,{handleStateChange:function $DA1O_(){this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.container.Repeat"]){dojo._hasResource["betterform.ui.container.Repeat"]=true;dojo.provide("betterform.ui.container.Repeat");dojo.declare("betterform.ui.container.Repeat",betterform.ui.container.Container,{createdRepeatItems:null,itemsToRemoveList:[],postCreate:function $DA1Q_(){this.inherited(arguments);this.createdRepeatItems=new Array();},handleSetRepeatIndex:function $DA1R_(_d11){if(eval(_d11.index)==0){return;}this._removeRepeatIndexClasses();var _d12;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_d12=dojo.query("> tbody > .xfRepeatItem",this.domNode)[_d11.index-1];}else{_d12=dojo.query("> .xfRepeatItem",this.domNode)[_d11.index-1];}if(_d12!=undefined){dojo.addClass(_d12,"xfRepeatIndex");}},setFocusOnChild:function $DA1S_(node){var _d14=dojo.query(".xfValue",node)[0];if(_d14!=undefined){_d14.focus();}else{var _d15=dojo.query(".xfTrigger button")[0];if(_d15==undefined){_d15=dojo.query("input")[0];if(_d15==undefined){_d15=window.document.body.firstChild();}}_d15.focus();}},handleInsert:function $DA1T_(_d16){this._removeRepeatIndexClasses();var _d17=dojo.byId(_d16.originalId+"-prototype");var _d18=_d17.cloneNode(true);this._replaceRepeatItemClasses(_d18);var _d19="";if(_d16.prototypeId!=undefined){_d19=_d16.generatedIds;dojo.attr(_d18,"id",_d19[_d16.prototypeId]);}else{if(_d16.repeatedSelects){_d19=_d16.repeatedSelects[0].generatedIds;var _d1a=_d16.repeatedSelects[0].generatedIds[0];dojo.attr(_d18,"id",_d1a);}}this._replacePrototypeIds(_d18,_d19);var _d1b=eval(_d16.position);var _d1c=this._createRepeatItem(_d18,_d1b);dojo.query("*[unbound='true']",_d1c.domNode).forEach(function(item){var _d1e=new betterform.ui.Control({},item);});_d1c.showRepeatItem();},_replaceRepeatItemClasses:function $DA1U_(node){dojo.removeClass(node,"xfRepeatPrototype");dojo.removeClass(node,"xfDisabled");dojo.addClass(node,"xfRepeatItem");dojo.addClass(node,"xfEnabled");dojo.addClass(node,"xfRepeatIndexPre");},_replacePrototypeIds:function $DA1V_(node,_d21){dojo.query("*",node).forEach(function(_d22){var _d23=dojo.attr(_d22,"id");var _d24=dojo.attr(_d22,"repeatid");if(_d24!=undefined&&_d21[_d24]!=undefined){dojo.attr(_d22,"repeatid",_d21[_d23]);}if(_d23!=undefined&&_d21[_d23]!=undefined){dojo.attr(_d22,"id",_d21[_d23]);}else{if(_d23!=undefined){var _d25;var _d26;if(_d23.indexOf("-value")!=-1){_d25=_d23.substring(0,_d23.indexOf("-value"));_d26="-value";}else{if(_d23.indexOf("-label")!=-1){_d25=_d23.substring(0,_d23.indexOf("-label"));_d26="-label";}else{if(_d23.indexOf("-hint")!=-1){_d25=_d23.substring(0,_d23.indexOf("-hint"));_d26="-hint";}else{if(_d23.indexOf("-help")!=-1){_d25=_d23.substring(0,_d23.indexOf("-help"));_d26="-help";}else{if(_d23.indexOf("-alert")!=-1){_d25=_d23.substring(0,_d23.indexOf("-alert"));_d26="-alert";}else{return;}}}}}var _d27=_d21[_d25]+_d26;dojo.attr(_d22,"id",_d27);}}});},_createRepeatItem:function $DA1W_(node,_d29){var _d2a=_d29;var _d2b=this._getSize();var _d2c;if(dojo.hasClass(this.domNode,"xfFullRepeat")){_d2c="full";}else{_d2c="compact";}var _d2d=new betterform.ui.container.RepeatItem({repeatId:this.id,appearance:_d2c},node);_d2d.hideRepeatItem();var _d2e=null;if(_d29==1&&_d2b>0){if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_d2e=dojo.query("> tbody > .xfRepeatItem",this.domNode)[0];}else{_d2e=dojo.query("> .xfRepeatItem",this.domNode)[0];}dojo.place(_d2d.domNode,_d2e,"before");}else{if(_d29==1&&_d2b==0){if(dojo.hasClass(this.domNode,"xfCompactRepeat")){var _d2f=dojo.query("tbody",this.domNode)[0];if(_d2f==undefined){_d2f=dojo.doc.createElement("tbody");dojo.place(_d2f,this.domNode);}dojo.place(_d2d.domNode,_d2f);}else{dojo.place(_d2d.domNode,this.domNode);}}else{if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_d2e=dojo.query("> tbody > .xfRepeatItem",this.domNode)[_d2a-2];}else{_d2e=dojo.query("> .xfRepeatItem",this.domNode)[_d2a-2];}dojo.place(_d2d.domNode,_d2e,"after");}}return _d2d;},_getSize:function $DA1X_(){var size;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){size=dojo.query("> tbody > .xfRepeatItem",this.domNode).length;}else{size=dojo.query("> .xfRepeatItem",this.domNode).length;}return size;},_getRepeatItems:function $DA1Y_(){var _d31;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_d31=dojo.query("> tbody > .xfRepeatItem",this.domNode);}else{_d31=dojo.query("> .xfRepeatItem",this.domNode);}return _d31;},handleDelete:function $DA1Z_(_d32){var _d33=eval(_d32.position);var _d34;if(dojo.hasClass(this.domNode,"xfCompactRepeat")){_d34=dojo.query("> tbody > .xfRepeatItem",this.domNode)[_d33-1];dojo.query("> tbody",this.domNode)[0].removeChild(_d34);}else{_d34=dojo.query("> .xfRepeatItem",this.domNode)[_d33-1];this.domNode.removeChild(_d34);}},handleStateChanged:function $DA1a_(_d35){var _d36=eval(_d35["enabled"]);if(_d36){betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");}else{betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");}},_removeRepeatIndexClasses:function $DA1b_(){if(dojo.hasClass(this.domNode,"xfCompactRepeat")){dojo.query("> tbody > .xfRepeatIndexPre",this.domNode).forEach(function(_d37){dojo.removeClass(_d37,"xfRepeatIndexPre");});dojo.query("> tbody > .xfRepeatIndex",this.domNode).forEach(function(_d38){dojo.removeClass(_d38,"xfRepeatIndex");});}else{dojo.query("> .xfRepeatIndexPre",this.domNode).forEach(function(_d39){dojo.removeClass(_d39,"xfRepeatIndexPre");});dojo.query("> .xfRepeatIndex",this.domNode).forEach(function(_d3a){dojo.removeClass(_d3a,"xfRepeatIndex");});}}});}if(!dojo._hasResource["betterform.ui.select.OptGroup"]){dojo._hasResource["betterform.ui.select.OptGroup"]=true;dojo.provide("betterform.ui.select.OptGroup");dojo.declare("betterform.ui.select.OptGroup",dijit._Widget,{values:"",handleStateChanged:function $DA4K_(_d3b){var _d3c=dojo.byId(_d3b.parentId);if(_d3b.targetName=="label"&&_d3c!=undefined){var _d3d=dojo.byId(dojo.attr(this.domNode.parentNode,"id"));var i;for(i=0;i<_d3d.length;i++){if(_d3b.parentId==dojo.attr(_d3d.options[i],"id")){_d3d.options[i].text=_d3b.value;}}}else{if(_d3b.targetName=="value"&&_d3c!=undefined){dojo.attr(_d3c,"value",_d3b.value);if(dojo.hasClass(this.domNode.parentNode.localName=="select")){var _d3f=dijit.byId(dojo.attr(this.domNode.parentNode,"id"));if(_d3f.currentValue==_d3b.value){_d3f._handleSetControlValue(_d3b.value);}}else{console.warn("OptGroup.handleInsert parentNode is not select");}}else{console.warn("OptGroup.handleStateChanged: no action taken for contextInfo: ",_d3b);}}},handleInsert:function $DA4L_(_d40){var _d41=document.createElement("option");dojo.addClass(_d41,"xfSelectorItem");var _d42=_d40.generatedIds;var _d43=dojo.query(".xfSelectorPrototype",dojo.byId(_d40.originalId+"-prototype"))[0];if(_d42!=undefined){dojo.attr(_d41,"id",_d42[_d40.prototypeId]);if(_d43!=undefined){var _d44=_d42[dojo.attr(_d43,"title")];if(_d44!=undefined){dojo.attr(_d41,"title",_d44);}var _d45=_d42[dojo.attr(_d43,"value")];if(_d45!=undefined){dojo.attr(_d41,"value",_d45);}_d41.innerHTML=_d43.innerHTML;}}if(_d40.label!=undefined){dojo.query(".xfSelectorItem",_d41).addContent(_d40.label);}if(_d40.value!=undefined){dojo.attr(_d41,"value",_d40.value);}dojo.place(_d41,this.domNode,_d40.position);},handleDelete:function $DA4M_(_d46){var _d47=dojo.query(".xfSelectorItem",this.domNode)[_d46.position-1];this.domNode.removeChild(_d47);}});}if(!dojo._hasResource["betterform.ui.select1.RadioItemset"]){dojo._hasResource["betterform.ui.select1.RadioItemset"]=true;dojo.provide("betterform.ui.select1.RadioItemset");dojo.declare("betterform.ui.select1.RadioItemset",dijit._Widget,{values:"",handleStateChanged:function $DA4z_(_d48){if(_d48.targetName=="label"){dojo.byId(_d48.parentId+"-label").innerHTML=_d48.value;}else{if(_d48.targetName=="value"){dijit.byId(_d48.parentId+"-value")._handleSetControlValue(_d48.value);}else{console.warn("RadioItemSet.handleStateChanged: no action taken for contextInfo: ",_d48);}}},handleInsert:function $DA40_(_d49){var _d4a=document.createElement("span");dojo.addClass(_d4a,"xfSelectorItem");dojo.addClass(_d4a,"xfEnabled");dojo.addClass(_d4a,"xfReadWrite");dojo.addClass(_d4a,"xfOptional");dojo.addClass(_d4a,"xfValid");dojo.attr(_d4a,"controltype","radioButtonEntry");var _d4b=_d49.generatedIds;var _d4c=_d4b[_d49.prototypeId];dojo.attr(_d4a,"id",_d4c);var _d4d=document.createElement("label");dojo.addClass(_d4d,"xfRadioLabel");dojo.attr(_d4d,"id",_d4c+"-label");dojo.attr(_d4d,"for",_d4c+"-value");_d4d.innerHTML=_d49.label;var _d4e=this.domNode.parentNode;while(!dojo.hasClass(_d4e,"xfSelect1")){_d4e=_d4e.parentNode;}var _d4f=document.createElement("input");if(dojo.hasClass(_d4f,"xfValue")){dojo.removeClass(_d4f,"xfValue");}dojo.addClass(_d4f,"xfRadioValue");dojo.attr(_d4f,"id",_d4c+"-value");dojo.attr(_d4f,"selected","false");dojo.attr(_d4f,"parentId",_d4e.id);dojo.attr(_d4f,"name",_d4e.id+"-value");dojo.attr(_d4f,"value","");dojo.attr(_d4f,"datatype","radio");dojo.attr(_d4f,"controltype","radio");dojo.place(_d4f,_d4a);dojo.place(_d4d,_d4a);var _d50=dojo.byId(_d49.originalId+"-prototype");var _d51=dojo.query("[controltype='output-control']",_d50);if(_d51!=undefined&&_d51!=""){for(var _d52=0;_d52<=_d51.length;_d52++){var item=_d51[i].cloneNode(true);dojo.attr(item,"id",_d4b[item.id]);dojo.attr(item,"parentId",_d4e.id);dojo.attr(item,"parentid",_d4e.id);this._replacePrototypeIds(item,_d4b);dojo.place(item,_d4d);}}var _d54=new betterform.ui.Control({contextInfo:_d49},_d4a);dojo.place(_d4a,this.domNode,_d49.position);},_replacePrototypeIds:function $DA41_(node,_d56){dojo.query("*",node).forEach(function(_d57){var _d58=dojo.attr(_d57,"id");if(_d58!=undefined&&_d56[_d58]!=undefined){dojo.attr(_d57,"id",_d56[_d58]);}else{if(_d58!=undefined){var _d59;var _d5a;if(_d58.indexOf("-value")!=-1){_d59=_d58.substring(0,_d58.indexOf("-value"));_d5a="-value";}else{if(_d58.indexOf("-label")!=-1){_d59=_d58.substring(0,_d58.indexOf("-label"));_d5a="-label";}else{if(_d58.indexOf("-hint")!=-1){_d59=_d58.substring(0,_d58.indexOf("-hint"));_d5a="-hint";}else{if(_d58.indexOf("-help")!=-1){_d59=_d58.substring(0,_d58.indexOf("-help"));_d5a="-help";}else{if(_d58.indexOf("-alert")!=-1){_d59=_d58.substring(0,_d58.indexOf("-alert"));_d5a="-alert";}else{return;}}}}}var _d5b=_d56[_d59]+_d5a;dojo.attr(_d57,"id",_d5b);}}var _d5c=dojo.attr(_d57,"for");if(_d5c!=undefined&&_d56[_d5c]!=undefined){dojo.attr(_d57,"for",_d56[_d5c]);}else{if(_d5c!=undefined){var _d5d;var _d5e;if(_d5c.indexOf("-value")!=-1){_d5d=_d5c.substring(0,_d5c.indexOf("-value"));_d5e="-value";}else{return;}var _d5b=_d56[_d5d]+_d5e;dojo.attr(_d57,"for",_d5b);}}});},_replaceRepeatItemClasses:function $DA42_(node){dojo.removeClass(node,"xfRepeatPrototype");dojo.removeClass(node,"xfDisabled");dojo.addClass(node,"xfRepeatItem");dojo.addClass(node,"xfEnabled");dojo.addClass(node,"xfRepeatIndexPre");},handleDelete:function $DA43_(_d60){var _d61=dojo.query(".xfSelectorItem",this.domNode)[_d60.position-1];this.domNode.removeChild(_d61);}});}if(!dojo._hasResource["betterform.ui.container.Switch"]){dojo._hasResource["betterform.ui.container.Switch"]=true;dojo.provide("betterform.ui.container.Switch");dojo.declare("betterform.ui.container.Switch",betterform.ui.container.Container,{handleStateChanged:function $DA1r_(_d62){},toggleCase:function $DA1s_(_d63){if(_d63.deselected!=undefined){var _d64=dojo.byId(_d63.deselected);if(dojo.hasClass(_d64,"xfSelectedCase")){dojo.removeClass(_d64,"xfSelectedCase");}dojo.addClass(_d64,"xfDeselectedCase");}if(_d63.selected){var _d65=dojo.byId(_d63.selected);if(dojo.hasClass(_d65,"xfDeselectedCase")){dojo.removeClass(_d65,"xfDeselectedCase");}dojo.addClass(_d65,"xfSelectedCase");}}});}if(!dojo._hasResource["betterform.FluxProcessor"]){dojo._hasResource["betterform.FluxProcessor"]=true;dojo.provide("betterform.FluxProcessor");dojo.declare("betterform.FluxProcessor",betterform.XFormsProcessor,{sessionKey:"",skipshutdown:false,isDirty:false,factory:null,currentControlId:"",unloadMsg:"You are about to leave this XForms application",webtest:"@WEBTEST@",isReady:false,contextroot:"",defaultAlertHandler:null,subscribers:[],constructor:function $DAz4_(){this.factory=new betterform.ui.UIElementFactory();if(this.webtest!="true"){dojo.connect(window,"onbeforeunload",this,"handleUnload");dojo.connect(window,"onunload",this,"close");}this.skipshutdown=false;var _d66=dojo.query(".GlobalAlert",dojo.doc)[0];if(_d66!=undefined){this.defaultAlertHandler=new betterform.ui.common.GlobalAlert({});console.warn("!! WARNING: GLOBAL ALERT HANDLER NOT IMPLEMENTED YET !!!");}var _d67=dojo.query(".BowlAlert",dojo.doc)[0];if(_d67!=undefined){this.defaultAlertHandler=new betterform.ui.common.BowlAlert({});console.warn("!! WARNING: BOWL ALERT HANDLER NOT IMPLEMENTED YET !!!");}var _d68=dojo.query(".InlineRoundBordersAlert",dojo.doc)[0];if(_d68!=undefined){this.defaultAlertHandler=new betterform.ui.common.InlineRoundBordersAlert({});}var _d69=dojo.query(".InlineAlert",dojo.doc)[0];if(_d69!=undefined){this.defaultAlertHandler=new betterform.ui.common.InlineAlert({});}var _d6a=dojo.query(".ToolTipAlert",dojo.doc)[0];if(_d6a!=undefined||(this.defaultAlertHandler==undefined)){this.defaultAlertHandler=new betterform.ui.common.ToolTipAlert({});}this.subscribers[0]=dojo.subscribe("/xf/valid",this.defaultAlertHandler,"handleValid");this.subscribers[1]=dojo.subscribe("/xf/invalid",this.defaultAlertHandler,"handleInvalid");},setInlineRoundBorderAlertHandler:function $DAz5_(){this.unsubscribeFromAlertHandler();this.defaultAlertHandler=new betterform.ui.common.InlineRoundBordersAlert({});this.subscribers[0]=dojo.subscribe("/xf/valid",this.defaultAlertHandler,"handleValid");this.subscribers[1]=dojo.subscribe("/xf/invalid",this.defaultAlertHandler,"handleInvalid");},setToolTipAlertHandler:function $DAz6_(){this.unsubscribeFromAlertHandler();this.defaultAlertHandler==undefined;this.defaultAlertHandler=new betterform.ui.common.ToolTipAlert({});this.subscribers[0]=dojo.subscribe("/xf/valid",this.defaultAlertHandler,"handleValid");this.subscribers[1]=dojo.subscribe("/xf/invalid",this.defaultAlertHandler,"handleInvalid");},unsubscribeFromAlertHandler:function $DAz7_(){for(var i=0;i<this.subscribers.length;i++){dojo.unsubscribe(this.subscribers[i]);}},handleUnload:function $DAz8_(evt){if(this.isDirty==true&&this.skipshutdown==false){dojo.stopEvent(evt);evt.returnValue=this.unloadMsg;return this.unloadMsg;}},close:function $DAz9_(){var _d6d=dojo.hitch(this,fluxProcessor.skipShutdown).skipshutdown;if(!_d6d){fluxProcessor.closeSession();}},closeSession:function $DA0A_(){try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);Flux.close(this.sessionKey);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.closeSession ",ex);}},ignoreExceptions:function $DA0B_(msg){console.warn("FluxProcessor.ignoreExceptions():");},dispatchEvent:function $DA0C_(_d6f){this._useLoadingMessage();try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);Flux.dispatchEvent(_d6f,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.dispatchEvent",ex);}return false;},dispatchEventType:function $DA0D_(_d70,_d71,_d72){try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);if(_d72==undefined){Flux.dispatchEventType(_d70,_d71,this.sessionKey,dojo.hitch(this,this.applyChanges));}else{Flux.dispatchEventTypeWithContext(_d70,_d71,this.sessionKey,_d72,dojo.hitch(this,this.applyChanges));}}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.dispatchEventType",ex);}},setControlValue:function $DA0E_(id,_d74){this.isDirty=true;try{dwr.engine.setErrorHandler(this._handleExceptions);this._useLoadingMessage();dwr.engine.setOrdered(true);dwr.engine.setErrorHandler(this._handleExceptions);Flux.setUIControlValue(id,_d74,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.setControlValue",ex);}},setRepeatIndex:function $DA0G_(_d75,_d76){this._useLoadingMessage();try{dwr.engine.setErrorHandler(this._handleExceptions);dwr.engine.setOrdered(true);Flux.setRepeatIndex(_d75,_d76,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.setRepeatIndex",ex);}},_useLoadingMessage:function $DA0H_(){try{dwr.engine.setPreHook(function(){document.getElementById("indicator").className="xfEnabled";});dwr.engine.setPostHook(function(){document.getElementById("indicator").className="xfDisabled";});}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux._useLoadingMessage",ex);}},_handleExceptions:function $DA0I_(msg,_d78){if(msg!=undefined&&_d78!=undefined){console.error(msg," - Exception: ",_d78);}else{if(msg!=undefined){console.error(msg);if(this.webtest!="true"){alert(msg);}else{this.logTestMessage(xmlEvent.contextInfo.errorinformation);}}else{console.error("Unknown exception occured! arguments: ",arguments);}}},applyChanges:function $DA0J_(data){var _d7a=new Array();var _d7b=0;dojo.forEach(data,function(_d7c){switch(_d7c.type){case "betterform-index-changed":fluxProcessor._handleBetterFormIndexChanged(_d7c);break;case "betterform-insert-itemset":fluxProcessor._handleBetterFormInsertItemset(_d7c);break;case "betterform-insert-repeatitem":fluxProcessor._handleBetterFormInsertRepeatItem(_d7c);break;case "betterform-item-deleted":fluxProcessor._handleBetterFormItemDeleted(_d7c);break;case "betterform-load-uri":fluxProcessor._handleBetterFormLoadURI(_d7c);break;case "betterform-render-message":fluxProcessor._handleBetterFormRenderMessage(_d7c);break;case "betterform-replace-all":fluxProcessor._handleBetterFormReplaceAll();break;case "betterform-state-changed":fluxProcessor._handleBetterFormStateChanged(_d7c);break;case "upload-progress-event":fluxProcessor._handleUploadProgressEvent(_d7c);break;case "xforms-focus":fluxProcessor._handleXFormsFocus(_d7c);break;case "xforms-help":fluxProcessor._handleShowHelp(_d7c);break;case "xforms-hint":fluxProcessor._handleXFormsHint(_d7c);break;case "xforms-link-exception":fluxProcessor._handleLinkException(_d7c);break;case "betterform-switch-toggled":fluxProcessor._handleSwitchToggled(_d7c);break;case "betterform-script-action":eval(_d7c.contextInfo["script"]);break;case "xforms-value-changed":break;case "xforms-version-exception":fluxProcessor._handleVersionException(_d7c);break;case "xforms-binding-exception":fluxProcessor._handleBindingException(_d7c);break;case "xforms-submit-error":fluxProcessor._handleSubmitError(_d7c);break;case "DOMFocusIn":fluxProcessor._handleDOMFocusIn(_d7c);break;case "xforms-out-of-range":fluxProcessor._handleOutOfRange(_d7c);break;case "xforms-in-range":fluxProcessor._handleInRange(_d7c);break;case "xforms-invalid":case "xforms-valid":_d7a[_d7b]=_d7c;_d7b++;break;case "betterform-id-generated":case "DOMActivate":case "xforms-select":case "xforms-deselect":case "DOMFocusOut":case "xforms-model-construct":case "xforms-model-construct-done":break;case "xforms-ready":this.isReady=true;dojo.publish("/xf/ready",[]);break;case "xforms-submit":break;case "xforms-submit-done":fluxProcessor._handleSubmitDone(_d7c);break;default:console.error("Event "+_d7c.type+" unknown [Event:",_d7c,"]");break;}});if(_d7a.length>0){fluxProcessor._handleValidity(_d7a);}},_handleValidity:function $DA0K_(_d7d){dojo.forEach(_d7d,function(_d7e){var _d7f=dijit.byId(_d7e.contextInfo.targetId);if(_d7f!=undefined){if(_d7e.type=="xforms-valid"){_d7f._handleSetValidProperty(true);}else{_d7f._handleSetValidProperty(false);}}});},_handleBindingException:function $DA0L_(_d80){if(this.webtest!="true"){console.warn("xforms-binding-exception at "+_d80.contextInfo.targetId+" - "+_d80.contextInfo.defaultinfo);}else{this.logTestMessage("xforms-binding-exception");}},_handleVersionException:function $DA0M_(_d81){if(this.webtest!="true"){console.error(_d81.contextInfo.errorinformation);}else{this.logTestMessage(_d81.contextInfo.errorinformation);}},_handleSubmitError:function $DA0N_(_d82){console.warn("xforms-submit-error at ",_d82.contextInfo);dojo.query(".xfInvalid",dojo.doc).forEach(function(_d83){dojo.publish("/xf/invalid",[dojo.attr(_d83,"id"),"submitError"]);});},_handleBetterFormLoadURI:function $DA0O_(_d84){if(_d84.contextInfo.show=="replace"){fluxProcessor.skipshutdown=true;window.location.href=_d84.contextInfo.uri;}else{if(_d84.contextInfo.show=="new"){window.open(_d84.contextInfo.uri,"_betterform","menubar=yes,toolbar=yes,location=yes,directories=yes,fullscreen=no,titlebar=yes,hotkeys=yes,status=yes,scrollbars=yes,resizable=yes");}else{if(_d84.contextInfo.show=="embed"){var _d85=_d84.contextInfo.xlinkTarget;var _d86;if(dojo.byId(_d85)!=undefined){_d86=_d85;}else{var tmp=dojo.query("*[name='"+_d85+"']")[0];_d86=tmp.id;}this._unloadDOM(_d86);var _d88=dojo.byId(_d86);_d88.innerHTML=_d84.contextInfo.targetElement;dojo.attr(_d88,"id",_d85+"Old");var _d89=dojo.byId(_d86);dojo.parser.parse(_d88);dojo.place(_d89,_d88,"before");dojo.fx.wipeIn({node:_d89,duration:500}).play();var _d8a=dojo.attr(_d88,"class");dojo.attr(_d89,"class",_d8a);_d88.parentNode.removeChild(_d88);}else{if(_d84.contextInfo.show=="none"){this._unloadDOM(_d84.contextInfo.xlinkTarget);}else{console.error("betterform-load-uri show='"+_d84.contextInfo.show+"' unknown!");}}}}},_handleSubmitDone:function $DA0P_(_d8b){if(_d8b.contextInfo.document!=null){var doc=_d8b.contextInfo.document;var _d8d=window.open();_d8d.document.write(doc);_d8d.document.close();}else{if(_d8b.contextInfo.embedElement!=null){if(_d8b.contextInfo.embedTarget==undefined){return;}var _d8e=_d8b.contextInfo.embedTarget;var _d8f=_d8b.contextInfo.embedElement;var _d90;if(dojo.byId(_d8e)!=undefined){_d90=_d8e;}else{var tmp=dojo.query("*[name='"+_d8e+"']")[0];_d90=tmp.id;}this._unloadDOM(_d90);var _d92=dojo.byId(_d90);_d92.innerHTML=_d8f;dojo.parser.parse(_d92);}}},_unloadDOM:function $DA0Q_(_d93){var _d94=dojo.byId(_d93);if(_d94==undefined){return;}var _d95="widgetid";if(dojo.isIE){_d95="widgetId";}var _d96=dojo.query("*["+_d95+"]",_d94);dojo.forEach(_d96,function(item){if(item!=undefined){var _d98=dijit.byId(dojo.attr(item,"id"));if(_d98!=undefined){_d98.destroy();}else{_d98=dijit.byId(dojo.attr(item,_d95));if(_d98!=undefined){_d98.destroy();}}}});while(_d94.hasChildNodes()){_d94.removeChild(_d94.firstChild);}},_handleBetterFormRenderMessage:function $DA0R_(_d99){var _d9a=_d99.contextInfo.message;var _d9b=_d99.contextInfo.level;if(this.webtest!="true"){if(_d9b=="ephemeral"){dijit.byId("betterformMessageToaster").setContent(_d9a,"message");dijit.byId("betterformMessageToaster").show();}else{window.alert(_d9a);}}else{this.logTestMessage(_d9a);}},_handleOutOfRange:function $DA0S_(_d9c){var _d9d=dojo.byId(_d9c.contextInfo.targetId+"-value");if(_d9d!=undefined){if(dojo.hasClass(_d9d,"xfInRange")){dojo.removeClass(_d9d,"xfInRange");}dojo.addClass(_d9d,"xfOutOfRange");}},_handleInRange:function $DA0T_(_d9e){var _d9f=dojo.byId(_d9e.contextInfo.targetId+"-value");if(_d9f!=undefined){if(dojo.hasClass(_d9f,"xfOutOfRange")){dojo.removeClass(_d9f,"xfOutOfRange");}dojo.addClass(_d9f,"xfInRange");}},logTestMessage:function $DA0U_(_da0){var log=dojo.byId("messageLog");if(!log){log=document.createElement("div");log.id="messageLog";document.body.appendChild(log);}var _da2=document.createElement("message");_da2.id="message"+(this._countMessages(log)+1);var _da3=document.createTextNode(_da0);_da2.appendChild(_da3);log.appendChild(_da2);},_countMessages:function $DA0V_(log){var _da5=log.getElementsByTagName("message").length;return _da5;},_handleBetterFormReplaceAll:function $DA0W_(){fluxProcessor.skipshutdown=true;var _da6=window.location.href.lastIndexOf("#");var _da7=window.location.href.lastIndexOf("?");var path=window.location.href;if(_da6!=-1){path=window.location.href.substring(0,_da6);}if(_da7==-1){path+="?";}path+="&submissionResponse=true&sessionKey="+fluxProcessor.sessionKey;if(_da6!=-1){path+=window.location.href.substring(_da6);}window.open(path,"_self");},_handleBetterFormStateChanged:function $DA0X_(_da9){var _daa=_da9.contextInfo.targetId;if(_da9.contextInfo.targetName!=undefined&&_da9.contextInfo.targetName=="repeat"){var _dab=dojo.query("*[repeatId='"+_daa+"']")[0];if(_dab==undefined){console.error("(FluxProcessor._handleBetterFormStateChanged xf:repeat: ",_daa," does not exist");return;}var _dac=dijit.byId(dojo.attr(_dab,"id"));if(_dac!=undefined){_dac.handleStateChanged(_da9.contextInfo);}else{if(_dac==undefined&&_dab!=undefined){_dac=new betterform.ui.container.Repeat({},_dab);_dac.handleStateChanged(_da9.contextInfo);}}}else{if(_da9.contextInfo.targetName!=undefined&&_da9.contextInfo.targetName=="group"){var _dad=dijit.byId(_da9.contextInfo.targetId);if(_dad==undefined&&dojo.byId(_da9.contextInfo.targetId)!=undefined){_dad=new betterform.ui.container.Group({},dojo.byId(_da9.contextInfo.targetId));}else{if(_da9.contextInfo.targetId!=undefined){var _dae=dojo.query("*[repeatItemId='"+_da9.contextInfo.targetId+"']")[0];if(_dae!=undefined&&dojo.hasClass(_dae,"xfRepeatItem")){_dad=dijit.byId(dojo.attr(_dae,"id"));}}}if(_dad!=undefined){_dad.handleStateChanged(_da9.contextInfo);}else{console.warn("FluxProcessor._handleBetterFormStateChanged: don't know how to handle xmlEvent: ",_da9," for target: "+_da9.contextInfo.targetId+" [",_da9.contextInfo.targetName,"]");}}else{if(_da9.contextInfo.targetName!=undefined&&_da9.contextInfo.targetName=="select1"&&_da9.contextInfo.copyItem!=undefined){var _daf="FluxProcessor._handleBetterFormStateChanged: Select1 ControlValue "+_da9.contextInfo.targetId+"-value: No item selected";var _db0=dojo.byId(_da9.contextInfo.targetId+"-value");if(_db0!=undefined){var _db1=_da9.contextInfo.selectedItem;if(_db1!=undefined&&_db1!=""){var _db2=dojo.query(".xfSelectorItem",_db0);var _db3=false;for(var i=0;i<_db2.length;i++){if(dojo.attr(_db2[i],"id")==_db1){_db0.selectedIndex=(i);_db3=true;}}if(!_db3){console.warn(_daf);}}else{console.warn(_daf);}}else{console.warn(_daf);}}else{if(dijit.byId(_daa)!=undefined){dijit.byId(_daa).handleStateChanged(_da9.contextInfo);}else{if(dojo.byId(_daa)!=undefined){var _db5=new betterform.ui.Control({contextInfo:_da9.contextInfo},dojo.byId(_daa));_db5.handleStateChanged(_da9.contextInfo);}else{if(_da9.contextInfo.parentId!=undefined&&_da9.contextInfo.parentId!=""){var _db6=dijit.byId(_da9.contextInfo.parentId);if(_db6!=undefined){_db6.handleStateChanged(_da9.contextInfo);}else{var _db7=dojo.byId(_da9.contextInfo.parentId);if(_db7==undefined){console.error("FluxProcessor betterform-state-changed  Warning: Neither Target nor its Parent does exist [xmlEvent",_da9,"]");}else{if(dojo.hasClass(_db7,"xfSelectorItem")){dijit.byId(dojo.attr(_db7.parentNode,"id")).handleStateChanged(_da9.contextInfo);}else{console.warn("FluxProcessor betterform-state-changed: No handleStateChanged implementation availabled for contextinfo: ",_da9.contextInfo);}}}}else{console.error("FluxProcessor betterform-state-changed Error: Processor does not know how to handle betterform-state-changed based on xmlEvent ",_da9.contextInfo.targetId);}}}}}}},_handleBetterFormInsertRepeatItem:function $DA0Y_(_db8){var _db9=dojo.query("*[repeatId='"+_db8.contextInfo.targetId+"']");var _dba=dijit.byId(dojo.attr(_db9[0],"id"));if(_dba==undefined){_dba=new betterform.ui.container.Repeat({},_db9[0]);}_dba.handleInsert(_db8.contextInfo);},_handleBetterFormInsertItemset:function $DA0Z_(_dbb){if(dijit.byId(_dbb.contextInfo.targetId)!=undefined){dijit.byId(_dbb.contextInfo.targetId).handleInsert(_dbb.contextInfo);}else{var _dbc=dojo.byId(_dbb.contextInfo.targetId);var _dbd;var _dbe=dojo.attr(_dbc,"dojoType");if(_dbe!=undefined&&_dbe=="betterform.ui.select.OptGroup"){_dbd=new betterform.ui.select.OptGroup({contextInfo:_dbb.contextInfo},_dbc);}else{if(_dbe!=undefined&&_dbe=="betterform.ui.select1.RadioItemset"){_dbd=new betterform.ui.select1.RadioItemset({contextInfo:_dbb.contextInfo},_dbc);}else{if(_dbe!=undefined&&_dbe=="betterform.ui.select.CheckBoxItemset"){_dbd=new betterform.ui.select.CheckBoxItemset({contextInfo:_dbb.contextInfo},_dbc);}else{console.warn("FluxProcessor apply betterform-insert-itemset: Itemset Type "+_dbe+" not supported yet");}}}if(_dbd!=undefined){_dbd.handleInsert(_dbb.contextInfo);}else{console.warn("FluxProcessor apply betterform-insert-itemset: Error during itemset creation: ItemsetId"+_dbb.contextInfo.targetId+" itemsetType: "+_dbe+" not supported yet");}}},_handleBetterFormItemDeleted:function $DA0a_(_dbf){if(_dbf.contextInfo.targetName=="itemset"){dijit.byId(_dbf.contextInfo.targetId).handleDelete(_dbf.contextInfo);}else{if(_dbf.contextInfo.targetName=="repeat"){var _dc0=dojo.query("*[repeatId='"+_dbf.contextInfo.targetId+"']");dijit.byId(dojo.attr(_dc0[0],"id")).handleDelete(_dbf.contextInfo);}}},_handleBetterFormIndexChanged:function $DA0b_(_dc1){var _dc2=dojo.query("*[repeatId='"+_dc1.contextInfo.targetId+"']");var _dc3=dijit.byId(dojo.attr(_dc2[0],"id"));_dc3.handleSetRepeatIndex(_dc1.contextInfo);},_handleUploadProgressEvent:function $DA0c_(_dc4){var _dc5=_dc4.contextInfo.targetid;if(dijit.byId(_dc5)!=undefined){dijit.byId(_dc5).updateProgress(_dc4.contextInfo.progress);}else{console.error("error during upload-progress-event: targetId "+_dc4.contextInfo.targetId+" does not exist");}},_handleXFormsFocus:function $DA0d_(_dc6){try{var _dc7=_dc6.contextInfo.targetName;if(_dc7!="group"&&_dc7!="repeat"&&_dc7!="switch"&&_dc7!="case"){xfControlId=_dc6.contextInfo.targetId+"-value";dijit.byId(xfControlId).handleOnFocus();}}catch(ex){fluxProcessor._handleExceptions("error during xforms-focus: targetId "+_dc6.contextInfo.targetId+" does not exist - Exception:",ex);}},_handleDOMFocusIn:function $DA0e_(_dc8){xfControlId=_dc8.contextInfo.targetId+"-value";if(dijit.byId(xfControlId)!=undefined){dijit.byId(xfControlId)._handleDOMFocusIn();}else{if(dojo.byId(xfControlId)!=undefined){var _dc9=dojo.byId(xfControlId);_dc9.focus();}else{console.warn("FluxProcessor._handleDOMFocusIn no Element found for id:",xfControlId);}}},_handleXFormsHint:function $DA0f_(_dca){var _dcb=_dca.contextInfo.targetId;var _dcc=dojo.attr(dojo.byId(_dcb+"-value"),"title");dijit.byId("betterformMessageToaster").setContent(_dcc,"message");dijit.byId("betterformMessageToaster").show();if(this.webtest=="true"){this.logTestMessage(_dcc);}},_handleShowHelp:function $DA0g_(_dcd){fluxProcessor.currentControlId=_dcd.contextInfo.targetId;fluxProcessor.showHelp();},_handleLinkException:function $DA0h_(_dce){if(this.webtest!="true"){console.error("Fatal error - "+_dce.type+": Failed to load resource: "+_dce.contextInfo.resourceUri);}else{fluxProcessor.logTestMessage("Fatal error - "+_dce.type+": Failed to load resource: "+_dce.contextInfo.resourceUri);}},_handleSwitchToggled:function $DA0i_(_dcf){var _dd0=dijit.byId(_dcf.contextInfo.targetId);if(_dd0==undefined&&dojo.byId(_dcf.contextInfo.targetId)!=undefined){_dd0=new betterform.ui.container.Switch({},dojo.byId(_dcf.contextInfo.targetId));}_dd0.toggleCase(_dcf.contextInfo);},fetchProgress:function $DA0j_(id,_dd2){try{Flux.fetchProgress(id,_dd2,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.fetchProgress",ex);}},setLocale:function $DA0k_(_dd3){try{Flux.setLocale(_dd3,this.sessionKey,this.applyChanges);}catch(ex){fluxProcessor._handleExceptions("Failure executing Flux.setLocale",ex);}},showHelp:function $DA0l_(){if(this.currentControlId==undefined||this.currentControlId==""||this.currentControlId==""){console.warn("No Control selected to show help for");return;}var _dd4=dojo.byId(this.currentControlId+"-help");if(_dd4==undefined){console.warn("No help available for Control Id: '"+this.currentControlId+"'");return;}var _dd5=dojo.byId("helpTrigger");var _dd6=document.createElement("div");dojo.style(_dd6,{"display":"none"});_dd5.appendChild(_dd6);_dd6.innerHTML=_dd4.innerHTML;var _dd7=new dojox.layout.FloatingPane({title:"Help",closeable:true,resizable:true,dockable:false},_dd6);dojo.addClass(_dd7.domNode,"xfHelpPane");_dd7.startup();}});}if(!dojo._hasResource["betterform.XFormsModelElement"]){dojo._hasResource["betterform.XFormsModelElement"]=true;dojo.provide("betterform.XFormsModelElement");dojo.declare("betterform.XFormsModelElement",dijit._Widget,{constructor:function $DA6Y_(){},postCreate:function $DA6Z_(){},getInstanceDocument:function $DA6a_(_dd8,func){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.getInstanceDocument(this.id,_dd8,fluxProcessor.sessionKey,func);},getInstanceAsString:function $DA6b_(_dda,func){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.getInstanceAsString(this.id,_dda,fluxProcessor.sessionKey,func);},rebuild:function $DA6c_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.rebuild(this.id,fluxProcessor.getSessionKey(),null);},recalculate:function $DA6d_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.recalculate(this.id,fluxProcessor.getSessionKey(),null);},revalidate:function $DA6e_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.revalidate(this.id,fluxProcessor.getSessionKey(),null);},refresh:function $DA6f_(){this._useLoadingMessage();dwr.engine.setErrorHandler(fluxProcessor._handleExceptions);XFormsModelElement.refresh(this.id,fluxProcessor.getSessionKey(),null);},_useLoadingMessage:function $DA6g_(){dwr.engine.setPreHook(function(){document.getElementById("indicator").className="xfEnabled";});dwr.engine.setPostHook(function(){document.getElementById("indicator").className="xfDisabled";});}});}if(!dojo._hasResource["dojo.dnd.TimedMoveable"]){dojo._hasResource["dojo.dnd.TimedMoveable"]=true;dojo.provide("dojo.dnd.TimedMoveable");(function(){var _ddc=dojo.dnd.Moveable.prototype.onMove;dojo.declare("dojo.dnd.TimedMoveable",dojo.dnd.Moveable,{timeout:40,constructor:function $DBHk_(node,_dde){if(!_dde){_dde={};}if(_dde.timeout&&typeof _dde.timeout=="number"&&_dde.timeout>=0){this.timeout=_dde.timeout;}},markupFactory:function $DBHl_(_ddf,node){return new dojo.dnd.TimedMoveable(node,_ddf);},onMoveStop:function $DBHm_(_de1){if(_de1._timer){clearTimeout(_de1._timer);_ddc.call(this,_de1,_de1._leftTop);}dojo.dnd.Moveable.prototype.onMoveStop.apply(this,arguments);},onMove:function $DBHn_(_de2,_de3){_de2._leftTop=_de3;if(!_de2._timer){var _t=this;_de2._timer=setTimeout(function(){_de2._timer=null;_ddc.call(_t,_de2,_de2._leftTop);},this.timeout);}}});})();}if(!dojo._hasResource["dijit.form._FormMixin"]){dojo._hasResource["dijit.form._FormMixin"]=true;dojo.provide("dijit.form._FormMixin");dojo.declare("dijit.form._FormMixin",null,{reset:function $DHj_(){dojo.forEach(this.getDescendants(),function(_de5){if(_de5.reset){_de5.reset();}});},validate:function $DHk_(){var _de6=false;return dojo.every(dojo.map(this.getDescendants(),function(_de7){_de7._hasBeenBlurred=true;var _de8=_de7.disabled||!_de7.validate||_de7.validate();if(!_de8&&!_de6){dijit.scrollIntoView(_de7.containerNode||_de7.domNode);_de7.focus();_de6=true;}return _de8;}),function(item){return item;});},setValues:function $DHl_(val){dojo.deprecated(this.declaredClass+"::setValues() is deprecated. Use attr('value', val) instead.","","2.0");return this.attr("value",val);},_setValueAttr:function $DHm_(obj){var map={};dojo.forEach(this.getDescendants(),function(_ded){if(!_ded.name){return;}var _dee=map[_ded.name]||(map[_ded.name]=[]);_dee.push(_ded);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _df0=map[name],_df1=dojo.getObject(name,false,obj);if(_df1===undefined){continue;}if(!dojo.isArray(_df1)){_df1=[_df1];}if(typeof _df0[0].checked=="boolean"){dojo.forEach(_df0,function(w,i){w.attr("value",dojo.indexOf(_df1,w.value)!=-1);});}else{if(_df0[0]._multiValue){_df0[0].attr("value",_df1);}else{dojo.forEach(_df0,function(w,i){w.attr("value",_df1[i]);});}}}},getValues:function $DHn_(){dojo.deprecated(this.declaredClass+"::getValues() is deprecated. Use attr('value') instead.","","2.0");return this.attr("value");},_getValueAttr:function $DHo_(){var obj={};dojo.forEach(this.getDescendants(),function(_df7){var name=_df7.name;if(!name||_df7.disabled){return;}var _df9=_df7.attr("value");if(typeof _df7.checked=="boolean"){if(/Radio/.test(_df7.declaredClass)){if(_df9!==false){dojo.setObject(name,_df9,obj);}else{_df9=dojo.getObject(name,false,obj);if(_df9===undefined){dojo.setObject(name,null,obj);}}}else{var ary=dojo.getObject(name,false,obj);if(!ary){ary=[];dojo.setObject(name,ary,obj);}if(_df9!==false){ary.push(_df9);}}}else{dojo.setObject(name,_df9,obj);}});return obj;},isValid:function $DHp_(){this._invalidWidgets=dojo.filter(this.getDescendants(),function(_dfb){return !_dfb.disabled&&_dfb.isValid&&!_dfb.isValid();});return !this._invalidWidgets.length;},onValidStateChange:function $DHq_(_dfc){},_widgetChange:function $DHr_(_dfd){var _dfe=this._lastValidState;if(!_dfd||this._lastValidState===undefined){_dfe=this.isValid();if(this._lastValidState===undefined){this._lastValidState=_dfe;}}else{if(_dfd.isValid){this._invalidWidgets=dojo.filter(this._invalidWidgets||[],function(w){return (w!=_dfd);},this);if(!_dfd.isValid()&&!_dfd.attr("disabled")){this._invalidWidgets.push(_dfd);}_dfe=(this._invalidWidgets.length===0);}}if(_dfe!==this._lastValidState){this._lastValidState=_dfe;this.onValidStateChange(_dfe);}},connectChildren:function $DHs_(){dojo.forEach(this._changeConnections,dojo.hitch(this,"disconnect"));var _e00=this;var _e01=this._changeConnections=[];dojo.forEach(dojo.filter(this.getDescendants(),function(item){return item.validate;}),function(_e03){_e01.push(_e00.connect(_e03,"validate",dojo.hitch(_e00,"_widgetChange",_e03)));_e01.push(_e00.connect(_e03,"_setDisabledAttr",dojo.hitch(_e00,"_widgetChange",_e03)));});this._widgetChange(null);},startup:function $DHt_(){this.inherited(arguments);this._changeConnections=[];this.connectChildren();}});}if(!dojo._hasResource["dijit._DialogMixin"]){dojo._hasResource["dijit._DialogMixin"]=true;dojo.provide("dijit._DialogMixin");dojo.declare("dijit._DialogMixin",null,{attributeMap:dijit._Widget.prototype.attributeMap,execute:function $DBe_(_e04){},onCancel:function $DBf_(){},onExecute:function $DBg_(){},_onSubmit:function $DBh_(){this.onExecute();this.execute(this.attr("value"));},_getFocusItems:function $DBi_(_e05){var _e06=dijit._getTabNavigable(dojo.byId(_e05));this._firstFocusItem=_e06.lowest||_e06.first||_e05;this._lastFocusItem=_e06.last||_e06.highest||this._firstFocusItem;if(dojo.isMoz&&this._firstFocusItem.tagName.toLowerCase()=="input"&&dojo.attr(this._firstFocusItem,"type").toLowerCase()=="file"){dojo.attr(_e05,"tabindex","0");this._firstFocusItem=_e05;}}});}if(!dojo._hasResource["dijit.DialogUnderlay"]){dojo._hasResource["dijit.DialogUnderlay"]=true;dojo.provide("dijit.DialogUnderlay");dojo.declare("dijit.DialogUnderlay",[dijit._Widget,dijit._Templated],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' dojoAttachPoint='node'></div></div>",dialogId:"","class":"",attributeMap:{id:"domNode"},_setDialogIdAttr:function $DGv_(id){dojo.attr(this.node,"id",id+"_underlay");},_setClassAttr:function $DGw_(_e08){this.node.className="dijitDialogUnderlay "+_e08;},postCreate:function $DGx_(){dojo.body().appendChild(this.domNode);this.bgIframe=new dijit.BackgroundIframe(this.domNode);},layout:function $DGy_(){var is=this.node.style,os=this.domNode.style;os.display="none";var _e0b=dijit.getViewport();os.top=_e0b.t+"px";os.left=_e0b.l+"px";is.width=_e0b.w+"px";is.height=_e0b.h+"px";os.display="block";},show:function $DGz_(){this.domNode.style.display="block";this.layout();if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="block";}},hide:function $DG0_(){this.domNode.style.display="none";if(this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}},uninitialize:function $DG1_(){if(this.bgIframe){this.bgIframe.destroy();}}});}if(!dojo._hasResource["dijit.TooltipDialog"]){dojo._hasResource["dijit.TooltipDialog"]=true;dojo.provide("dijit.TooltipDialog");dojo.declare("dijit.TooltipDialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:null,templateString:"<div waiRole=\"presentation\">\n\t<div class=\"dijitTooltipContainer\" waiRole=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"-1\" waiRole=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" waiRole=\"presentation\"></div>\n</div>\n",postCreate:function $DQ2_(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");this.containerNode.title=this.title;},orient:function $DQ3_(node,_e0d,_e0e){var c=this._currentOrientClass;if(c){dojo.removeClass(this.domNode,c);}c="dijitTooltipAB"+(_e0e.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_e0e.charAt(0)=="T"?"Below":"Above");dojo.addClass(this.domNode,c);this._currentOrientClass=c;},onOpen:function $DQ4_(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();if(this.autofocus){this._getFocusItems(this.containerNode);dijit.focus(this._firstFocusItem);}},_onKey:function $DQ5_(evt){var node=evt.target;var dk=dojo.keys;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.containerNode);}var _e14=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==dk.ESCAPE){this.onCancel();dojo.stopEvent(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_e14){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_e14){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{if(evt.charOrCode===dk.TAB){evt.stopPropagation();}}}}}});}if(!dojo._hasResource["dijit.Dialog"]){dojo._hasResource["dijit.Dialog"]=true;dojo.provide("dijit.Dialog");dojo.declare("dijit.Dialog",[dijit.layout.ContentPane,dijit._Templated,dijit.form._FormMixin,dijit._DialogMixin],{templateString:null,templateString:"<div class=\"dijitDialog\" tabindex=\"-1\" waiRole=\"dialog\" waiState=\"labelledby-${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel, onmouseenter: _onCloseEnter, onmouseleave: _onCloseLeave\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n",attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}]}),open:false,duration:dijit.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_fixSizes:true,postMixInProperties:function $DGd_(){var _e15=dojo.i18n.getLocalization("dijit","common");dojo.mixin(this,_e15);this.inherited(arguments);},postCreate:function $DGe_(){dojo.style(this.domNode,{visibility:"hidden",position:"absolute",display:"",top:"-9999px"});dojo.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function $DGf_(){this._position();this.inherited(arguments);},_endDrag:function $DGg_(e){if(e&&e.node&&e.node===this.domNode){var vp=dijit.getViewport();var p=e._leftTop||dojo.coords(e.node,true);this._relativePosition={t:p.t-vp.t,l:p.l-vp.l};}},_setup:function $DGh_(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=(dojo.isIE==6)?new dojo.dnd.TimedMoveable(node,{handle:this.titleBar}):new dojo.dnd.Moveable(node,{handle:this.titleBar,timeout:0});dojo.subscribe("/dnd/move/stop",this,"_endDrag");}else{dojo.addClass(node,"dijitDialogFixed");}var _e1a={dialogId:this.id,"class":dojo.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};var _e1c=dijit._underlay;if(!_e1c){_e1c=dijit._underlay=new dijit.DialogUnderlay(_e1a);}this._fadeIn=dojo.fadeIn({node:node,duration:this.duration,beforeBegin:function $DGi_(){_e1c.attr(_e1a);_e1c.show();},onEnd:dojo.hitch(this,function(){if(this.autofocus){this._getFocusItems(this.domNode);dijit.focus(this._firstFocusItem);}})});this._fadeOut=dojo.fadeOut({node:node,duration:this.duration,onEnd:function $DGj_(){node.style.visibility="hidden";node.style.top="-9999px";dijit._underlay.hide();}});},uninitialize:function $DGk_(){var _e1d=false;if(this._fadeIn&&this._fadeIn.status()=="playing"){_e1d=true;this._fadeIn.stop();}if(this._fadeOut&&this._fadeOut.status()=="playing"){_e1d=true;this._fadeOut.stop();}if(this.open||_e1d){dijit._underlay.hide();}if(this._moveable){this._moveable.destroy();}},_size:function $DGl_(){var mb=dojo.marginBox(this.domNode);var _e1f=dijit.getViewport();if(mb.w>=_e1f.w||mb.h>=_e1f.h){dojo.style(this.containerNode,{width:Math.min(mb.w,Math.floor(_e1f.w*0.75))+"px",height:Math.min(mb.h,Math.floor(_e1f.h*0.75))+"px",overflow:"auto",position:"relative"});}},_position:function $DGm_(){if(!dojo.hasClass(dojo.body(),"dojoMove")){var node=this.domNode;var _e21=dijit.getViewport();var p=this._relativePosition;var mb=p?null:dojo.marginBox(node);dojo.style(node,{left:Math.floor(_e21.l+(p?p.l:(_e21.w-mb.w)/2))+"px",top:Math.floor(_e21.t+(p?p.t:(_e21.h-mb.h)/2))+"px"});}},_onKey:function $DGn_(evt){if(evt.charOrCode){var dk=dojo.keys;var node=evt.target;if(evt.charOrCode===dk.TAB){this._getFocusItems(this.domNode);}var _e27=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===dk.TAB){if(!_e27){dijit.focus(this._lastFocusItem);}dojo.stopEvent(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===dk.TAB&&!evt.shiftKey){if(!_e27){dijit.focus(this._firstFocusItem);}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode){if(evt.charOrCode==dk.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==dk.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function $DGo_(){if(this.open){return;}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(window,"onresize",this,function(){var _e28=dijit.getViewport();if(!this._oldViewport||_e28.h!=this._oldViewport.h||_e28.w!=this._oldViewport.w){this.layout();this._oldViewport=_e28;}}));this._modalconnects.push(dojo.connect(dojo.doc.documentElement,"onkeypress",this,"_onKey"));dojo.style(this.domNode,{opacity:0,visibility:""});if(this._fixSizes){dojo.style(this.containerNode,{width:"auto",height:"auto"});}this.open=true;this._onShow();this._size();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this);},hide:function $DGp_(){if(!this._alreadyInitialized){return;}if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];if(this.refocus){this.connect(this._fadeOut,"onEnd",dojo.hitch(dijit,"focus",this._savedFocus));}if(this._relativePosition){delete this._relativePosition;}this.open=false;},layout:function $DGq_(){if(this.domNode.style.visibility!="hidden"){dijit._underlay.layout();this._position();}},destroy:function $DGr_(){dojo.forEach(this._modalconnects,dojo.disconnect);if(this.refocus&&this.open){setTimeout(dojo.hitch(dijit,"focus",this._savedFocus),25);}this.inherited(arguments);},_onCloseEnter:function $DGs_(){dojo.addClass(this.closeButtonNode,"dijitDialogCloseIcon-hover");},_onCloseLeave:function $DGt_(){dojo.removeClass(this.closeButtonNode,"dijitDialogCloseIcon-hover");}});}if(!dojo._hasResource["betterform.ui.Control"]){dojo._hasResource["betterform.ui.Control"]=true;dojo.provide("betterform.ui.Control");dojo.declare("betterform.ui.Control",[dijit._Widget,dijit._Templated],{id:"",target:null,value:"",dataType:"",controlType:"",valid:true,readonly:false,required:false,relevant:true,controlValue:null,contextInfo:null,tabindex:0,appearance:"",buildRendering:function $DA11_(){this.domNode=this.srcNodeRef;if(dojo.attr(this.domNode,"tabindex")){this.tabindex=eval(dojo.attr(this.domNode,"tabindex"));}},postCreate:function $DA12_(){betterform.ui.util.setDefaultClasses(this.domNode);if(this.controlValue==undefined){var _e29=dojo.query("*[id ='"+this.id+"-value']",this.domNode)[0];if(_e29==undefined){_e29=dojo.query(".xfValue",this.domNode)[0];}if(_e29==undefined){_e29=this._createControlValueTemplate();}else{this.dataType=betterform.ui.util.removeNamespace(dojo.attr(_e29,"datatype"));this.controlType=dojo.attr(_e29,"controltype");}this.controlValue=fluxProcessor.factory.createWidget(_e29,this.id);if(this.controlValue!=undefined){this.controlValue.applyState();}else{console.error("ControlValue for Control "+id+" could not be created");}}if(this.isValid()){dojo.publish("/xf/valid",[this.id,"init"]);}else{dojo.publish("/xf/invalid",[this.id,"init"]);}},_createControlValueTemplate:function $DA13_(){if(this.contextInfo.type!=undefined&&this.contextInfo.type!=""){var _e2a=betterform.ui.util.removeNamespace(this.contextInfo.type);_e2a="xsd"+_e2a.replace(/^[a-z]/,_e2a.substring(0,1).toUpperCase());if(dojo.hasClass(this.domNode,"xsd")){betterform.ui.util.replaceClass(this.domNode,"xsd",_e2a);}else{dojo.addClass(this.domNode,_e2a);}}else{if(dojo.hasClass(this.domNode,"xsd")){console.warn("Control.postCreate Control "+this.id+" has no type but xsd on it's prototype");}}this._updateMIPClasses();var _e2b=document.createElement("span");this.dataType=betterform.ui.util.removeNamespace(this.contextInfo.type);this.controlType=this.contextInfo.targetName;dojo.attr(_e2b,"dataType",this.dataType);dojo.attr(_e2b,"controlType",this.controlType);if(this.contextInfo.value!=undefined&&this.dataType=="date"){this.controlType=dojo.attr(_e2b,"schemaValue",this.contextInfo.schemaValue);}if(this.contextInfo.targetId!=undefined){this.controlType=dojo.attr(_e2b,"id",this.contextInfo.targetId+"-value");}if(dojo.attr(this.domNode,"appearance")!=undefined){this.appearance=dojo.attr(this.domNode,"appearance");dojo.attr(_e2b,"appearance",this.appearance);}if(dojo.attr(this.domNode,"mediatype")!=undefined){this.appearance=dojo.attr(this.domNode,"mediatype");dojo.attr(_e2b,"mediatype",this.appearance);}if(this.contextInfo.targetName!="trigger"){_e2b.innerHTML=this.contextInfo.value;}else{dojo.attr(_e2b,"label",this.srcNodeRef.innerHTML);this.domNode.innerHTML="";}dojo.addClass(_e2b,"xfValue");dojo.place(_e2b,this.domNode);if(dojo.hasClass(this.domNode,"xfIncremental")){dojo.attr(_e2b,"incremental","true");}return _e2b;},isRequired:function $DA15_(){if(dojo.hasClass(this.domNode,"xfOptional")){return false;}else{if(dojo.hasClass(this.domNode,"xfRequired")){return true;}else{console.error("No required state found");}}},isReadonly:function $DA16_(){if(dojo.hasClass(this.domNode,"xfReadWrite")){return false;}else{if(dojo.hasClass(this.domNode,"xfReadOnly")){return true;}else{console.error("No readonly state found");}}},isRelevant:function $DA17_(){if(dojo.hasClass(this.domNode,"xfDisabled")){return false;}else{if(dojo.hasClass(this.domNode,"xfEnabled")){return true;}else{console.error("No relevant state found");}}},isValid:function $DA18_(){if(dojo.hasClass(this.domNode,"xfInvalid")){return false;}else{if(dojo.hasClass(this.domNode,"xfValid")){return true;}else{console.error("No validate state found for "+this.id);}}},handleStateChanged:function $DA19_(_e2c){if(_e2c["parentId"]){this._handleHelperChanged(_e2c);}else{this.value=_e2c["value"];this.valid=_e2c["valid"];this.readonly=_e2c["readonly"];this.required=_e2c["required"];this.relevant=_e2c["enabled"];if(_e2c["targetName"]=="input"&&this.value!=null){var _e2d=betterform.ui.util.removeNamespace(_e2c["type"]);this._changedDataType(_e2d,_e2c);if(_e2d=="date"||_e2d=="dateTime"){this._handleSetControlValue(_e2c["schemaValue"]);}else{this._handleSetControlValue(this.value);}}else{if(this.value!=null){this._handleSetControlValue(this.value);}}if(this.valid!=null){this._handleSetValidProperty(eval(this.valid));}if(this.readonly!=null){this._handleSetReadonlyProperty(eval(this.readonly));}if(this.required!=null){this._handleSetRequiredProperty(eval(this.required));}if(this.relevant!=null){this._handleSetEnabledProperty(eval(this.relevant));}}},getControlValue:function $DA2A_(){if(this.controlValue!=undefined){return this.controlValue.getControlValue();}},_changedDataType:function $DA2B_(_e2e,_e2f){if(this.controlValue==undefined){var _e30=dojo.query("*[id ='"+this.id+"-value']",this.domNode)[0];if(_e30==undefined){_e30=dojo.query(".xfValue",this.domNode)[0];}if(_e30==undefined){console.error("Control.handleStateChanged Error: XFControl "+this.id+" has no ControlValue node");return;}else{dojo.attr(_e30,"dataType",_e2e);dojo.attr(_e30,"id",this.id+"-value");this.controlValue=fluxProcessor.factory.createWidget(_e30,this.id);}}else{if(this.dataType!=_e2e&&!(this.dataType==""&&_e2e=="string")){var _e31=document.createElement("span");dojo.attr(_e31,"dataType",_e2e);dojo.attr(_e31,"controlType",this.controlType);dojo.attr(_e31,"id",this.id+"-value");dojo.addClass(_e31,"xfValue");var _e32="xsd"+this.dataType.replace(/^[a-z]/,this.dataType.substring(0,1).toUpperCase());if(dojo.hasClass(this.domNode,_e32)){dojo.removeClass(this.domNode,_e32);}dojo.addClass(this.domNode,"xsd"+_e2e.replace(/^[a-z]/,_e2e.substring(0,1).toUpperCase()));this.controlValue.destroy();this.controlValue=fluxProcessor.factory.createWidget(_e31,this.id);dojo.place(this.controlValue.domNode,this.domNode);}}this.dataType=_e2e;},_handleSetControlValue:function $DA2C_(_e33){if(this.controlValue.currentValue!=_e33){this.controlValue.currentValue=_e33;this.controlValue._handleSetControlValue(_e33);}},_handleSetValidProperty:function $DA2D_(_e34){if(_e34){betterform.ui.util.replaceClass(this.domNode,"xfInvalid","xfValid");dojo.publish("/xf/valid",[this.id,"applyChanges"]);}else{betterform.ui.util.replaceClass(this.domNode,"xfValid","xfInvalid");dojo.publish("/xf/invalid",[this.id,"applyChanges"]);}},_handleSetReadonlyProperty:function $DA2E_(){if(eval(this.readonly)==false){betterform.ui.util.replaceClass(this.domNode,"xfReadOnly","xfReadWrite");}else{betterform.ui.util.replaceClass(this.domNode,"xfReadWrite","xfReadOnly");}this.controlValue.applyState();},_handleSetRequiredProperty:function $DA2F_(){if(this.required=="true"){betterform.ui.util.replaceClass(this.domNode,"xfOptional","xfRequired");}else{betterform.ui.util.replaceClass(this.domNode,"xfRequired","xfOptional");if(dojo.hasClass(this.domNode,"xfRequiredEmpty")){dojo.removeClass(this.domNode,"xfRequiredEmpty");}}},_handleSetEnabledProperty:function $DA2G_(_e35){var _e36=this.id;var _e37=dojo.byId(_e36+"-label");if(_e35){if(_e37!=undefined){if(dojo.hasClass(_e37,"xfDisabled")){betterform.ui.util.replaceClass(_e37,"xfDisabled","xfEnabled");}else{dojo.addClass(_e37,"xfEnabled");}}betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");}else{if(_e37!=undefined){if(dojo.hasClass(_e37,"xfEnabled")){betterform.ui.util.replaceClass(_e37,"xfEnabled","xfDisabled");}else{dojo.addClass(_e37,"xfDisabled");}}betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");if(this.isValid()){dojo.publish("/xf/valid",[this.id,"xfDisabled"]);}else{dojo.publish("/xf/invalid",[this.id,"xfDisabled"]);}}},_handleHelperChanged:function $DA2H_(_e38){switch(_e38["targetName"]){case "label":this.controlValue._setLabel(_e38["value"]);return;case "help":this._setHelp(_e38["value"]);return;case "hint":this._setHint(_e38["value"]);return;case "alert":this._setAlert(_e38["value"]);return;case "value":this.controlValue._handleSetControlValue(_e38["value"]);return;}},_updateMIPClasses:function $DA2I_(){if(this.contextInfo.enabled!=undefined){if(this.contextInfo.enabled=="true"){betterform.ui.util.replaceClass(this.domNode,"xfDisabled","xfEnabled");}else{betterform.ui.util.replaceClass(this.domNode,"xfEnabled","xfDisabled");}}if(this.contextInfo.readonly!=undefined){if(this.contextInfo.readonly=="true"){betterform.ui.util.replaceClass(this.domNode,"xfReadWrite","xfReadOnly");}else{betterform.ui.util.replaceClass(this.domNode,"xfReadOnly","xfReadWrite");}}if(this.contextInfo.required!=undefined){if(this.contextInfo.required=="true"){betterform.ui.util.replaceClass(this.domNode,"xfOptional","xfRequired");}else{betterform.ui.util.replaceClass(this.domNode,"xfRequired","xfOptional");}}if(this.contextInfo.valid!=undefined){if(this.contextInfo.valid=="true"){betterform.ui.util.replaceClass(this.domNode,"xfInvalid","xfValid");}else{betterform.ui.util.replaceClass(this.domNode,"xfValid","xfInvalid");}}},updateProgress:function $DA2J_(_e39){this.controlValue.updateProgress(_e39);},setControlValue:function $DA2K_(_e3a){fluxProcessor.setControlValue(this.id,_e3a);},_setHelp:function $DA2L_(_e3b){var _e3c=dojo.byId(this.id+"-help");if(_e3c!=undefined){_e3c.innerHTML=_e3b;}else{console.warn("Failure updating help for Control '"+this.id+"-help' with value: "+_e3b);}},_setHint:function $DA2M_(_e3d){var _e3e=dojo.byId(this.id+"-hint");if(_e3e!=undefined){_e3e.innerHTML=_e3d;}else{console.error("Failure updating hint for Control '"+this.id+"-hint' with value: "+_e3d);}},_setAlert:function $DA2N_(_e3f){var _e40=dojo.byId(this.id+"-alert");if(_e40!=undefined){_e40.innerHTML=_e3f;}else{console.error("Failure updating alert for Control '"+this.id+"-alert' with value: "+_e3f);}},_setValueChild:function $DA2O_(_e41){console.warn("TBD: Control._setValueChild value:"+_e41);}});}if(!dojo._hasResource["betterform.ui.util"]){dojo._hasResource["betterform.ui.util"]=true;dojo.provide("betterform.ui.util");betterform.ui.util.showAtWidget=function $DA6Q_(_e42){var _e43=dojo.query("*[widgetId='"+_e42+"-value']");};betterform.ui.util.getContainerByClass=function $DA6S_(node,_e45){var body=dojo.body();while(node&&node!=body&&!dojo.hasClass(node,_e45)){node=node.parentNode;}if(dojo.hasClass(node,_e45)){return node;}return null;};betterform.ui.util.replaceClass=function $DA6T_(_e47,_e48,_e49){if(!_e47||!_e47.className){return false;}var _e4a=_e47.className;var _e4b=" "+_e4a+" ";var _e4c=" "+_e48+" ";var _e4d=" "+_e49+" ";if(_e4b.indexOf(_e4d)==-1){var _e4e=_e4b.replace(new RegExp(_e4c),_e4d);if(_e4e.indexOf(_e4d)==-1){_e4e=_e4b+_e49+" ";}_e4e=_e4e.slice(1,_e4e.length-1);_e47.className=_e4e;return true;}return false;};betterform.ui.util.setDefaultClasses=function $DA6U_(_e4f){if(!dojo.hasClass(_e4f,"xfEnabled")&&!dojo.hasClass(_e4f,"xfDisabled")){dojo.addClass(_e4f,"xfEnabled");}if(!dojo.hasClass(_e4f,"xfOptional")&&!dojo.hasClass(_e4f,"xfRequired")){dojo.addClass(_e4f,"xfOptional");}if(!dojo.hasClass(_e4f,"xfReadWrite")&&!dojo.hasClass(_e4f,"xfReadOnly")){dojo.addClass(_e4f,"xfReadWrite");}if(!dojo.hasClass(_e4f,"xfValid")&&!dojo.hasClass(_e4f,"xfInvalid")){dojo.addClass(_e4f,"xfValid");}};betterform.ui.util.removeStyle=function $DA6V_(_e50,_e51){if(_e50==undefined||_e51==undefined){return false;}var _e52=dojo.attr(_e50,"style");if(_e52!=undefined&&_e52.indexOf(_e51)!=-1){_e52.replace(_e51,"");dojo.attr(_e50,"style",_e52);return true;}return false;};betterform.ui.util.removeNamespace=function $DA6W_(_e53){var _e54=_e53;if(_e54!=undefined&&_e54!=""&&_e54.indexOf(":")!=-1){_e54=_e54.substring(_e54.indexOf(":")+1,_e54.length);}return _e54;};betterform.ui.util.closeSelect1=function $DA6X_(_e55){dojo.query(".xfSelect1 .dijitComboBox",_e55).forEach("dijit.byId(dojo.attr(item, 'widgetid'))._hideResultList()");};}if(!dojo._hasResource["betterform.ui.container.ContentPaneGroup"]){dojo._hasResource["betterform.ui.container.ContentPaneGroup"]=true;dojo.provide("betterform.ui.container.ContentPaneGroup");dojo.declare("betterform.ui.container.ContentPaneGroup",[betterform.ui.container.Container,dijit.layout.ContentPane],{buildRendering:function $DA1M_(){this.inherited(arguments);betterform.ui.util.setDefaultClasses(this.domNode);},handleStateChanged:function $DA1N_(_e56){this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.container.RepeatItem"]){dojo._hasResource["betterform.ui.container.RepeatItem"]=true;dojo.provide("betterform.ui.container.RepeatItem");dojo.declare("betterform.ui.container.RepeatItem",[betterform.ui.container.Container,dijit._Templated],{repeatId:"",protoype:"",position:"",animIn:null,animOut:null,dialogId:null,appearance:"",buildRendering:function $DA1c_(){this.domNode=this.srcNodeRef;if(dojo.attr(this.srcNodeRef,"appearance")!=undefined){this.appearance=dojo.attr(this.srcNodeRef,"appearance");}},handleStateChanged:function $DA1h_(_e57){this.inherited(arguments);},_onBlur:function $DA1i_(){this.inherited(arguments);},_onFocus:function $DA1j_(){if(dojo.hasClass(this.domNode,"xfRepeatIndexMouseOver")){dojo.removeClass(this.domNode,"xfRepeatIndexMouseOver");}this.forceIndex();this.inherited(arguments);},forceIndex:function $DA1k_(){if(dojo.hasClass(this.domNode,"xfRepeatIndex")){return;}var _e58=this.domNode.parentNode.childNodes;dojo.forEach(_e58,function(_e59){if(dojo.hasClass(_e59,"xfRepeatIndex")){dojo.removeClass(_e59,"xfRepeatIndex");}if(dojo.hasClass(_e59,"xfRepeatIndexPre")){dojo.removeClass(_e59,"xfRepeatIndexPre");}});dojo.addClass(this.domNode,"xfRepeatIndexPre");var _e5a=this._getXFormsPosition();var _e5b=this._getRepeat();fluxProcessor.setRepeatIndex(dojo.attr(_e5b.domNode,"repeatId"),_e5a);},_getRepeat:function $DA1l_(){var _e5c=this.domNode.parentNode;while(dojo.attr(_e5c,"repeatId")==undefined&&_e5c!=undefined){_e5c=_e5c.parentNode;}return dijit.byId(dojo.attr(_e5c,"id"));},_getXFormsPosition:function $DA1m_(){dojo.attr(this.domNode,"selected","true");var _e5d=this._getRepeat()._getRepeatItems();var _e5e=0;dojo.forEach(_e5d,function(_e5f,_e60){if(dojo.attr(_e5f,"selected")=="true"){_e5f.removeAttribute("selected");_e5e=_e60+1;}});return _e5e;},nextItem:function $DA1n_(){var next=this._getXFormsPosition()+1;var _e62=this._getRepeat();if(next>_e62._getSize()){next=_e62._getSize();}fluxProcessor.setRepeatIndex(dojo.attr(_e62.domNode,"repeatId"),next);},previousItem:function $DA1o_(){var _e63=this._getXFormsPosition()-1;var _e64=this._getRepeat();if(_e63<1){_e63=1;}fluxProcessor.setRepeatIndex(dojo.attr(_e64.domNode,"repeatId"),_e63);},showRepeatItem:function $DA1p_(){dojo.style(this.domNode,"opacity","1");},hideRepeatItem:function $DA1q_(){dojo.style(this.domNode,"opacity","0");}});}if(!dojo._hasResource["dijit.form.ToggleButton"]){dojo._hasResource["dijit.form.ToggleButton"]=true;dojo.provide("dijit.form.ToggleButton");}if(!dojo._hasResource["dijit.layout.StackController"]){dojo._hasResource["dijit.layout.StackController"]=true;dojo.provide("dijit.layout.StackController");dojo.declare("dijit.layout.StackController",[dijit._Widget,dijit._Templated,dijit._Container],{templateString:"<span wairole='tablist' dojoAttachEvent='onkeypress' class='dijitStackController'></span>",containerId:"",buttonWidget:"dijit.layout._StackButton",postCreate:function $DPA_(){dijit.setWaiRole(this.domNode,"tablist");this.pane2button={};this.pane2handles={};this.pane2menu={};this._subscriptions=[dojo.subscribe(this.containerId+"-startup",this,"onStartup"),dojo.subscribe(this.containerId+"-addChild",this,"onAddChild"),dojo.subscribe(this.containerId+"-removeChild",this,"onRemoveChild"),dojo.subscribe(this.containerId+"-selectChild",this,"onSelectChild"),dojo.subscribe(this.containerId+"-containerKeyPress",this,"onContainerKeyPress")];},onStartup:function $DPB_(info){dojo.forEach(info.children,this.onAddChild,this);this.onSelectChild(info.selected);},destroy:function $DPC_(){for(var pane in this.pane2button){this.onRemoveChild(pane);}dojo.forEach(this._subscriptions,dojo.unsubscribe);this.inherited(arguments);},onAddChild:function $DPD_(page,_e68){var _e69=dojo.doc.createElement("span");this.domNode.appendChild(_e69);var cls=dojo.getObject(this.buttonWidget);var _e6b=new cls({label:page.title,closeButton:page.closable},_e69);this.addChild(_e6b,_e68);this.pane2button[page]=_e6b;page.controlButton=_e6b;var _e6c=[];_e6c.push(dojo.connect(_e6b,"onClick",dojo.hitch(this,"onButtonClick",page)));if(page.closable){_e6c.push(dojo.connect(_e6b,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page)));var _e6d=dojo.i18n.getLocalization("dijit","common");var _e6e=new dijit.Menu({targetNodeIds:[_e6b.id],id:_e6b.id+"_Menu"});var _e6f=new dijit.MenuItem({label:_e6d.itemClose});_e6c.push(dojo.connect(_e6f,"onClick",dojo.hitch(this,"onCloseButtonClick",page)));_e6e.addChild(_e6f);this.pane2menu[page]=_e6e;}this.pane2handles[page]=_e6c;if(!this._currentChild){_e6b.focusNode.setAttribute("tabIndex","0");this._currentChild=page;}if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}},onRemoveChild:function $DPE_(page){if(this._currentChild===page){this._currentChild=null;}dojo.forEach(this.pane2handles[page],dojo.disconnect);delete this.pane2handles[page];var menu=this.pane2menu[page];if(menu){menu.destroyRecursive();delete this.pane2menu[page];}var _e72=this.pane2button[page];if(_e72){_e72.destroy();delete this.pane2button[page];}},onSelectChild:function $DPF_(page){if(!page){return;}if(this._currentChild){var _e74=this.pane2button[this._currentChild];_e74.attr("checked",false);_e74.focusNode.setAttribute("tabIndex","-1");}var _e75=this.pane2button[page];_e75.attr("checked",true);this._currentChild=page;_e75.focusNode.setAttribute("tabIndex","0");var _e76=dijit.byId(this.containerId);dijit.setWaiState(_e76.containerNode,"labelledby",_e75.id);},onButtonClick:function $DPG_(page){var _e78=dijit.byId(this.containerId);_e78.selectChild(page);},onCloseButtonClick:function $DPH_(page){var _e7a=dijit.byId(this.containerId);_e7a.closeChild(page);var b=this.pane2button[this._currentChild];if(b){dijit.focus(b.focusNode||b.domNode);}},adjacent:function $DPI_(_e7c){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_e7c=!_e7c;}var _e7d=this.getChildren();var _e7e=dojo.indexOf(_e7d,this.pane2button[this._currentChild]);var _e7f=_e7c?1:_e7d.length-1;return _e7d[(_e7e+_e7f)%_e7d.length];},onkeypress:function $DPJ_(e){if(this.disabled||e.altKey){return;}var _e81=null;if(e.ctrlKey||!e._djpage){var k=dojo.keys;switch(e.charOrCode){case k.LEFT_ARROW:case k.UP_ARROW:if(!e._djpage){_e81=false;}break;case k.PAGE_UP:if(e.ctrlKey){_e81=false;}break;case k.RIGHT_ARROW:case k.DOWN_ARROW:if(!e._djpage){_e81=true;}break;case k.PAGE_DOWN:if(e.ctrlKey){_e81=true;}break;case k.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);break;default:if(e.ctrlKey){if(e.charOrCode===k.TAB){this.adjacent(!e.shiftKey).onClick();dojo.stopEvent(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}dojo.stopEvent(e);}}}}if(_e81!==null){this.adjacent(_e81).onClick();dojo.stopEvent(e);}}},onContainerKeyPress:function $DPK_(info){info.e._djpage=info.page;this.onkeypress(info.e);}});dojo.declare("dijit.layout._StackButton",dijit.form.ToggleButton,{tabIndex:"-1",postCreate:function $DPL_(evt){dijit.setWaiRole((this.focusNode||this.domNode),"tab");this.inherited(arguments);},onClick:function $DPM_(evt){dijit.focus(this.focusNode);},onClickCloseButton:function $DPN_(evt){evt.stopPropagation();}});}if(!dojo._hasResource["dijit.layout.StackContainer"]){dojo._hasResource["dijit.layout.StackContainer"]=true;dojo.provide("dijit.layout.StackContainer");dojo.declare("dijit.layout.StackContainer",dijit.layout._LayoutWidget,{doLayout:true,persist:false,baseClass:"dijitStackContainer",_started:false,postCreate:function $DOt_(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitLayoutContainer");dijit.setWaiRole(this.containerNode,"tabpanel");this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function $DOu_(){if(this._started){return;}var _e87=this.getChildren();dojo.forEach(_e87,this._setupChild,this);if(this.persist){this.selectedChildWidget=dijit.byId(dojo.cookie(this.id+"_selectedChild"));}else{dojo.some(_e87,function(_e88){if(_e88.selected){this.selectedChildWidget=_e88;}return _e88.selected;},this);}var _e89=this.selectedChildWidget;if(!_e89&&_e87[0]){_e89=this.selectedChildWidget=_e87[0];_e89.selected=true;}dojo.publish(this.id+"-startup",[{children:_e87,selected:_e89}]);if(_e89){this._showChild(_e89);}this.inherited(arguments);},_setupChild:function $DOv_(_e8a){this.inherited(arguments);dojo.removeClass(_e8a.domNode,"dijitVisible");dojo.addClass(_e8a.domNode,"dijitHidden");_e8a.domNode.title="";return _e8a;},addChild:function $DOw_(_e8b,_e8c){this.inherited(arguments);if(this._started){dojo.publish(this.id+"-addChild",[_e8b,_e8c]);this.layout();if(!this.selectedChildWidget){this.selectChild(_e8b);}}},removeChild:function $DOx_(page){this.inherited(arguments);if(this._beingDestroyed){return;}if(this._started){dojo.publish(this.id+"-removeChild",[page]);this.layout();}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _e8e=this.getChildren();if(_e8e.length){this.selectChild(_e8e[0]);}}}},selectChild:function $DOy_(page){page=dijit.byId(page);if(this.selectedChildWidget!=page){this._transition(page,this.selectedChildWidget);this.selectedChildWidget=page;dojo.publish(this.id+"-selectChild",[page]);if(this.persist){dojo.cookie(this.id+"_selectedChild",this.selectedChildWidget.id);}}},_transition:function $DOz_(_e90,_e91){if(_e91){this._hideChild(_e91);}this._showChild(_e90);if(this.doLayout&&_e90.resize){_e90.resize(this._containerContentBox||this._contentBox);}},_adjacent:function $DO0_(_e92){var _e93=this.getChildren();var _e94=dojo.indexOf(_e93,this.selectedChildWidget);_e94+=_e92?1:_e93.length-1;return _e93[_e94%_e93.length];},forward:function $DO1_(){this.selectChild(this._adjacent(true));},back:function $DO2_(){this.selectChild(this._adjacent(false));},_onKeyPress:function $DO3_(e){dojo.publish(this.id+"-containerKeyPress",[{e:e,page:this}]);},layout:function $DO4_(){if(this.doLayout&&this.selectedChildWidget&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._contentBox);}},_showChild:function $DO5_(page){var _e97=this.getChildren();page.isFirstChild=(page==_e97[0]);page.isLastChild=(page==_e97[_e97.length-1]);page.selected=true;dojo.removeClass(page.domNode,"dijitHidden");dojo.addClass(page.domNode,"dijitVisible");if(page._onShow){page._onShow();}else{if(page.onShow){page.onShow();}}},_hideChild:function $DO6_(page){page.selected=false;dojo.removeClass(page.domNode,"dijitVisible");dojo.addClass(page.domNode,"dijitHidden");if(page.onHide){page.onHide();}},closeChild:function $DO7_(page){var _e9a=page.onClose(this,page);if(_e9a){this.removeChild(page);page.destroyRecursive();}},destroy:function $DO8_(){this._beingDestroyed=true;this.inherited(arguments);}});dojo.extend(dijit._Widget,{title:"",selected:false,closable:false,onClose:function $DO9_(){return true;}});}if(!dojo._hasResource["dijit.layout.TabController"]){dojo._hasResource["dijit.layout.TabController"]=true;dojo.provide("dijit.layout.TabController");dojo.declare("dijit.layout.TabController",dijit.layout.StackController,{templateString:"<div wairole='tablist' dojoAttachEvent='onkeypress:onkeypress'></div>",tabPosition:"top",doLayout:true,buttonWidget:"dijit.layout._TabButton",_rectifyRtlTabList:function $DPU_(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _e9b=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_e9b=Math.max(_e9b,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_e9b+"px";}}});dojo.declare("dijit.layout._TabButton",dijit.layout._StackButton,{baseClass:"dijitTab",templateString:"<div waiRole=\"presentation\" dojoAttachEvent='onclick:onClick,onmouseenter:_onMouse,onmouseleave:_onMouse'>\n    <div waiRole=\"presentation\" class='dijitTabInnerDiv' dojoAttachPoint='innerDiv'>\n        <div waiRole=\"presentation\" class='dijitTabContent' dojoAttachPoint='tabContent'>\n\t        <span dojoAttachPoint='containerNode,focusNode' class='tabLabel'>${!label}</span><img class =\"dijitTabButtonSpacer\" src=\"${_blankGif}\" />\n\t        <span class=\"closeButton\" dojoAttachPoint='closeNode'\n\t        \t\tdojoAttachEvent='onclick: onClickCloseButton, onmouseenter: _onCloseButtonEnter, onmouseleave: _onCloseButtonLeave'>\n\t        \t<img src=\"${_blankGif}\" alt=\"\" dojoAttachPoint='closeIcon' class='closeImage' waiRole=\"presentation\"/>\n\t            <span dojoAttachPoint='closeText' class='closeText'>x</span>\n\t        </span>\n        </div>\n    </div>\n</div>\n",scrollOnFocus:false,postCreate:function $DPV_(){if(this.closeButton){dojo.addClass(this.innerDiv,"dijitClosable");var _e9e=dojo.i18n.getLocalization("dijit","common");if(this.closeNode){dojo.attr(this.closeNode,"title",_e9e.itemClose);dojo.attr(this.closeIcon,"title",_e9e.itemClose);}}else{this.closeNode.style.display="none";}this.inherited(arguments);dojo.setSelectable(this.containerNode,false);},_onCloseButtonEnter:function $DPW_(){dojo.addClass(this.closeNode,"closeButton-hover");},_onCloseButtonLeave:function $DPX_(){dojo.removeClass(this.closeNode,"closeButton-hover");}});}if(!dojo._hasResource["dijit.layout.TabContainer"]){dojo._hasResource["dijit.layout.TabContainer"]=true;dojo.provide("dijit.layout.TabContainer");dojo.declare("dijit.layout.TabContainer",[dijit.layout.StackContainer,dijit._Templated],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:null,templateString:"<div class=\"dijitTabContainer\">\n\t<div dojoAttachPoint=\"tablistNode\"></div>\n\t<div dojoAttachPoint=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n",_controllerWidget:"dijit.layout.TabController",postMixInProperties:function $DPO_(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.inherited(arguments);},postCreate:function $DPP_(){this.inherited(arguments);var _e9f=dojo.getObject(this._controllerWidget);this.tablist=new _e9f({id:this.id+"_tablist",tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout")},this.tablistNode);if(this.tabStrip){dojo.addClass(this.tablist.domNode,this.baseClass+"Strip");}if(!this.doLayout){dojo.addClass(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){dojo.addClass(this.domNode,"dijitTabContainerNested");dojo.addClass(this.tablist.domNode,"dijitTabContainerTabListNested");dojo.addClass(this.tablistSpacer,"dijitTabContainerSpacerNested");dojo.addClass(this.containerNode,"dijitTabPaneWrapperNested");}},_setupChild:function $DPQ_(tab){dojo.addClass(tab.domNode,"dijitTabPane");this.inherited(arguments);return tab;},startup:function $DPR_(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function $DPS_(){if(!this.doLayout){return;}var _ea1=this.tabPosition.replace(/-h/,"");var _ea2=[{domNode:this.tablist.domNode,layoutAlign:_ea1},{domNode:this.tablistSpacer,layoutAlign:_ea1},{domNode:this.containerNode,layoutAlign:"client"}];dijit.layout.layoutChildren(this.domNode,this._contentBox,_ea2);this._containerContentBox=dijit.layout.marginBox2contentBox(this.containerNode,_ea2[2]);if(this.selectedChildWidget){this._showChild(this.selectedChildWidget);if(this.doLayout&&this.selectedChildWidget.resize){this.selectedChildWidget.resize(this._containerContentBox);}}},destroy:function $DPT_(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});}if(!dojo._hasResource["betterform.ui.container.TabSwitch"]){dojo._hasResource["betterform.ui.container.TabSwitch"]=true;dojo.provide("betterform.ui.container.TabSwitch");dojo.declare("betterform.ui.container.TabSwitch",[betterform.ui.container.Container,dijit.layout.TabContainer],{serverUpdate:false,postCreate:function $DA1t_(evt){this.inherited(arguments);dojo.connect(this.tablist,"onSelectChild",this,"onTabClicked");},startup:function $DA1u_(){this.inherited(arguments);},onTabClicked:function $DA1v_(evt){if(!this.serverUpdate){var _ea5="t-"+dojo.attr(dojo.byId(evt.id),"caseid");fluxProcessor.dispatchEvent(_ea5);}},handleStateChanged:function $DA1w_(_ea6){this.inherited(arguments);},_handleInvalid:function $DA1x_(_ea7){var _ea8=betterform.ui.util.getContainerByClass(_ea7.domNode,"xfCase");if(_ea8==undefined){return;}var _ea9=dijit.byId(dojo.attr(_ea8,"id"));if(_ea9!=undefined){var _eaa=dijit.byId(_ea9.controlButton.id);if(dojo.byId(_eaa.id+"-image")==undefined){var _eab=document.createElement("img");dojo.addClass(_eab,"xfInvalidIcon");dojo.attr(_eab,"id",_eaa.id+"-image");dojo.attr(_eab,"src",dojo.moduleUrl("dijit","themes/tundra/images/warning.png"));dojo.place(_eab,_eaa.tabContent,3);}}},_handleValid:function $DA1y_(_eac){var _ead=betterform.ui.util.getContainerByClass(_eac.domNode,"xfCase");if(_ead==undefined){return;}var _eae=dijit.byId(dojo.attr(_ead,"id"));},toggleCase:function $DA1z_(_eaf){var _eb0=dojo.query("div[caseid='"+_eaf.selected+"']",this.domNode)[0];var _eb1=dijit.byId(dojo.attr(_eb0,"id"));this.serverUpdate=true;this.selectChild(_eb1);this.serverUpdate=false;}});}if(!dojo._hasResource["betterform.ui.select.CheckBoxItemset"]){dojo._hasResource["betterform.ui.select.CheckBoxItemset"]=true;dojo.provide("betterform.ui.select.CheckBoxItemset");dojo.declare("betterform.ui.select.CheckBoxItemset",[betterform.ui.ControlValue,dijit._Widget],{values:"",handleStateChanged:function $DA38_(_eb2){if(_eb2.targetName=="label"){dojo.byId(_eb2.parentId+"-label").innerHTML=_eb2.value;}else{if(_eb2.targetName=="value"){dojo.attr(dojo.byId(_eb2.parentId+"-value"),"value",_eb2.value);dijit.byId(_eb2.parentId+"-value").currentValue=_eb2.value;if(dojo.hasClass(this.domNode.parentNode,"CheckBoxGroup")){var _eb3=dijit.byId(dojo.attr(this.domNode.parentNode,"id"));if(_eb3.currentValue==_eb2.value){_eb3._handleSetControlValue(_eb2.value);}}}else{}}},handleInsert:function $DA39_(_eb4){var _eb5=document.createElement("span");var _eb6=_eb4.generatedIds;var _eb7=_eb6[_eb4.prototypeId];dojo.attr(_eb5,"id",_eb7);dojo.addClass(_eb5,"xfSelectorItem");var _eb8=this.domNode.parentNode;while(!dojo.hasClass(_eb8,"CheckBoxGroup")){_eb8=_eb8.parentNode;}var _eb9=new betterform.ui.select.CheckBox({id:_eb7+"-value","class":"xfCheckBoxValue",type:"checkbox",value:_eb4.value,selectWidgetId:_eb8.id,dojoType:"betterform.ui.select.CheckBox"});dojo.place(_eb9.domNode,_eb5);var _eba=document.createElement("span");dojo.addClass(_eba,"xfCheckBoxLabel");dojo.attr(_eba,"id",_eb7+"-label");_eba.innerHTML=_eb4.label;dojo.place(_eba,_eb5);dojo.place(_eb5,this.domNode,_eb4.position);},handleDelete:function $DA4A_(_ebb){var _ebc=dojo.query(".xfSelectorItem",this.domNode)[_ebb.position-1];this.domNode.removeChild(_ebc);}});}if(!dojo._hasResource["betterform.ui.upload.Upload"]){dojo._hasResource["betterform.ui.upload.Upload"]=true;dojo.provide("betterform.ui.upload.Upload");dojo.declare("betterform.ui.upload.Upload",betterform.ui.ControlValue,{postMixInProperties:function $DA6B_(){this.inherited(arguments);this.applyProperties(dijit.byId(this.xfControlId),this.srcNodeRef);dojo.removeClass(this.domNode,"xfValue");},_onFocus:function $DA6C_(){this.inherited(arguments);this.handleOnFocus();},_onBlur:function $DA6D_(){this.inherited(arguments);},getControlValue:function $DA6E_(){console.warn("betterform.ui.upload.Upload.getControlValue: Value: ");},_handleSetControlValue:function $DA6F_(_ebd){console.warn("betterform.ui.upload.Upload._handleSetControlValue: Value: ");}});}dojo.i18n._preloadLocalizations("betterform.nls.betterform",["'en'","ROOT","xx"]);
