<?xml version="1.0" encoding="UTF-8"?>
<article>
    <articleinfo>
        <graphic fileref="../logo.jpg"/>
        <productname>Open Source Native XML Database</productname>
        <title>XForms Introduction</title>
        <author>
            <firstname>James</firstname>
            <surname>Fuller</surname>
            <affiliation>
                <address format="linespecific"><email>jim.fuller at webcomposite.com</email></address>
            </affiliation>
        </author>
    </articleinfo>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="sidebar.xml"/>

    <section>
        <title>XForms Support in eXist</title>

        <abstract>
            <para>eXist now directly supports XForms via Alain Couthures' excellent <a
                    href="http://www.agencexml.com">XSLTForms</a> processor. XSLTForms implements
                the XForms standard within the browser and is thus easy to integrate. However, eXist
                will also work with other XForms processors like <ulink url="http://www.orbeon.com"
                    >Orbeon</ulink> or <ulink url="http://chiba-project.org">Chiba</ulink>. </para>
        </abstract>

        <para>XSLTForms transforms the XForms xml into an XHTML page with javascript that can
            process XForms. As eXist has support for RESTful interactions the action of saving the
            XML representation of data provided by XForms can be as easy as using HTTP PUT method
            with an action attribute referencing an xml document in the XML Database. For more
            complex tasks, you can submit your XForms instances to an XQuery, post-process it there
            and get the results back into your XForms. Several <ulink url="examples.xml"
                >examples</ulink> are provided.</para>

        <section>
            <title>Using xsltform inside of eXist</title>
            <para> Once you are sure xforms is working and installed for your version of eXist, to
                use in your xforms just prepend with an XSL PI, pointing to the
                <filename>xsltforms/xsltforms.xsl</filename> stylesheet. </para>

            <example>
                <title>Activate xforms by using XSL PI</title>
                <programlisting><markup><![CDATA[<?xml-stylesheet href="xsltforms/xsltforms.xsl" type="text/xsl"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xf="http://www.w3.org/2002/xforms">
    <head>
        <title>Hello World in XForms</title>
        <xf:model>
            <xf:instance>
                <f:data xmlns:f="http://foo.com">
                    <f:PersonGivenName/>
                </f:data>
            </xf:instance>
        </xf:model>
    </head>
    <body>
        <p>Type your first name in the input box. If you are running XForms, the output should be
            displayed in the output area.</p>
        <p>
            <xf:input ref="f:PersonGivenName" incremental="true">
                <xf:label>Please enter your first name: </xf:label>
            </xf:input>
        </p>
        <p>
            <xf:output value="concat('Hello ', f:PersonGivenName, '. We hope you like XForms!')">
                <xf:label>Output: </xf:label>
            </xf:output>
        </p>
    </body>
</html>
]]></markup></programlisting>
            </example>
        </section>
        
        <section>
            <title>Known Issues</title>

            <para>Currently, the XForms will only work properly if the main xsltforms stylesheet is
                applied on the client-side, i.e. within the web browser. We are working to change
                this, but right now you will get errors if the stylesheet is applied on the
                server.</para>

            <para>In particular, storing the XForms into the database is problematic: eXist's REST
                interface will see the xsl stylesheet processing instruction and automatically apply
                the stylesheet server side. We hope to fix this for the final 1.4 release.</para>

            <para>It is also important that the HTTP server reports the correct content type for the
                XForms document (text/html).</para>
        </section>

        <section>
            <title>Additional XForms Resources</title>
            <section>
                <title>Mailing Lists</title>
                <ul>
                    <li>XSLTForms <a
                            href="https://lists.sourceforge.net/lists/listinfo/xsltforms-support"
                            >mailing list</a></li>
                </ul>
            </section>

            <section>
                <title>XForms Specifications</title>
                <ul>
                    <li>
                        <a href="http://www.w3.org/TR/xforms/">XForms v1.0 (Third Edition)</a>
                    </li>

                </ul>
            </section>

            <section>
                <title>Useful</title>
                <ul>
                    <li><ulink url="http://en.wikibooks.org/wiki/XForms">XForms Wikibook</ulink> is
                        a useful place to learn XForms</li>
                    <li>
                        <a
                            href="http://www.agencexml.com/xforms-tests/testsuite/XForms1.1/Edition1/driverPages/html/"
                            target="_resource">XSLTForms coverage of W3C test suite</a>
                    </li>

                </ul>
            </section>

        </section>
    </section>
</article>
