<?xml version="1.0" encoding="UTF-8"?>
<article>
    <articleinfo>
        <graphic fileref="../logo.jpg"/>
        <productname>Open Source Native XML Database</productname>
        <title>XProc Extensions Steps</title>
        <author>
            <firstname>James</firstname>
            <surname>Fuller</surname>
            <affiliation>
                <address format="linespecific"><email>jim.fuller at webcomposite.com</email></address>
            </affiliation>
        </author>
    </articleinfo>
    <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="sidebar.xml"/>
    <section>
        <title>XProc Extensions Steps</title>
        <para>eXist's xproc implementation contains a number of proprietary extension steps</para>
    </section>

    <section>
		<a name="ext:xproc"/>
        <title>ext:xproc</title>
        <para>This step arbritrarily runs a supplied xproc file.</para>
			<example>
			<title>Simple Pipeline - XSLT transformation</title>
			<programlisting>
			<markup>
				<![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<p:pipeline xmlns:c="http://www.w3.org/ns/xproc-step"
xmlns:p="http://www.w3.org/ns/xproc" name="test">
    <ext:xproc xmlns:ext="http://xproc.net/xproc/ext" name="test">
        <p:input port="source"></p:input>
        <p:input port="pipeline">
            <p:inline>
                <p:declare-step name="mytest">
                    <p:input port="source"/>
                    <p:output port="result"/>
                    <p:count name="nothertest"/>
                </p:declare-step>
            </p:inline>
        </p:input>
    </ext:xproc>
</p:pipeline>
                ]]>
			</markup>
			</programlisting>
			<a href="examples/extrunstep.xproc?stdin=/db/xproc/examples/test.xml" target="_example">run extrunstep.xproc</a>
			</example>
    </section>


    <section>
		<a name="ext:xsltforms"/>
        <title>ext:xsltforms</title>
        <para>This step arbritrarily runs a supplied xproc file.</para>
			<example>
			<title>Outputting a rendered XForm</title>
			<programlisting>
			<markup>
				<![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<p:pipeline xmlns="http://www.w3.org/1999/xhtml"
xmlns:c="http://www.w3.org/ns/xproc-step"
xmlns:p="http://www.w3.org/ns/xproc" xmlns:ext="http://xproc.net/xproc/ext"
name="formarePaginaAcces">
   <ext:xsltforms>
       <p:input port="source">
           <p:document
href="/db/xproc/examples/xform.xml"/>
       </p:input>
   </ext:xsltforms>
</p:pipeline>                ]]>
			</markup>
			</programlisting>
			<a href="examples/extxsltform.xproc" target="_example">run extxsltform.xproc</a>
			</example>
    </section>
    
</article>
