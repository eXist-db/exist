<?xml version="1.0" encoding="UTF-8"?>
<div xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:e="http://www.asia-europe.uni-heidelberg.de/" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xf="http://www.w3.org/2002/xforms" class="compact stand-alone" tab-id="compact-a">
    <div class="block-form">
        <xf:group id="fieldset-name" ref="./mods:name">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">Names and Roles</span>
                    <span class="join-button">
                        <xf:trigger>
                            <xf:label>+</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="instance('save-data')/mods:name" at="index('name-repeat')" position="after"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> In Names and Roles, catalogue the names of each person, corporation or conference associated with the resource.</p>
                            <p> Include as many Names and Roles as needed, by clicking the '+' button. </p>
                            <p> Choose an appropriate Type of Name for each name, "personal" for personal names, "corporate" for names of institutions, and
                                "conference" for names of events such as conferences. If you choose "corporate" or "conference," please clear the values "Given"
                                and "Family" in front of the name parts by choosing "(none selected)." Conversely, if you add a personal name, please choose
                                "Given Name" and "Family Name" as is relevant. </p>
                            <p> Given Name and Family Name can occur in any order. </p>
                            <p> Please notice that the role pertaining to a name follows the name in question. </p>
                            <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                        </div>
                    </span>
                </div>
                <!--name repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:name" id="name-repeat">
                    <!--namePart begins-->
                    <xf:group id="fieldset-namePart">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Name</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Analyse each name into separate name parts.</p>
                                        <p> If possible, analyse each personal name into Given Name and Family Name. If this is not possible, choose "(none selected)" and enter the whole name in the field in question.</p>
                                        <p> If a given or family name consists of several parts, enter all parts of the same type in the same field.</p>
                                        <p> If possible, analyse each corporate name and conference name into separate name parts. Record the more general designation in the first field and a more specific designation in the second field. 
                                            If this is not possible, choose "(none selected)" and enter the whole name in the field in question.</p>
                                        <p> If the name is in a language that is usually transliterated, enter the transliterated name parts in their
                                            respective fields. Use the transliteration scheme you chose when selecting a record template.  </p>
                                        <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <xf:group>
                                <xf:select1 ref="./@type">
                                    <xf:label>Type of Name</xf:label>
                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-type-code']/items/item">
                                        <xf:label ref="label"/>
                                        <xf:value ref="value"/>
                                    </xf:itemset>
                                </xf:select1>
                            </xf:group>
                            <!--namePart repeat begins-->
                            <xf:repeat nodeset="./mods:namePart" id="namePart-repeat">
                                <xf:group>
                                    <xf:select1 ref="./@type" class="right">
                                        <xf:label>
                                            <xf:group ref="../[@script='Latn']">Transliterated</xf:group>
                                            <xf:group ref="../[not(@script='Latn')]">&#160;</xf:group>
                                        </xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-compact-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                    <xf:input ref="." class="text_100">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                                <!--namePart input ends-->
                            </xf:repeat>
                            <!-- 
                            <xf:trigger>
                                <xf:label>+</xf:label>
                                <xf:action ev:event="DOMActivate">
                                    <xf:insert nodeset="instance('save-data')/mods:name/namePart" at="index('namePart-repeat')" position="after" origin="instance('compact-template')/mods:name[9]/mods:namePart"/>
                                </xf:action>
                            </xf:trigger>
                            -->
                            <!--namePart repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--namePart ends-->
                    <!--role begins-->
                    <xf:group id="fieldset-role" ref=".[(mods:role)]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Role</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:role" at="index('role-repeat')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Role contains a description of the role of the person or institution named above to the resource being catalogued.</p>
                                        <p> Repeat for each new role played by the named entity, i.e. the same person or institution can have several roles in relation to one resource.</p>
                                        <p> The more common roles are listed at the top.</p>
                                        <p> More role input options can be found on the Name Info tab on the Citation Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <!--role repeat begins-->
                            <xf:repeat nodeset="./mods:role" id="role-repeat">
                                <!--role input begins-->
                                <!--DLF/Aquifer: RECOMMENDED]-->
                                <!--Cluster: warn-->
                                <!--roleTerm begins-->
                                <!--DLF/Aquifer: OPTIONAL-->
                                <!--Cluster: include-->
                                <!--role node-add begins-->
                                <!--roleTerm repeat begins-->
                                <xf:repeat nodeset="./mods:roleTerm" id="roleTerm-repeat">
                                            <!--roleTerm input begins-->
                                            <!--DLF/Aquifer: REQUIRED]-->
                                            <!--Cluster: require-->
                                    <xf:group>
                                        <xf:select1 ref=".">
                                            <xf:label>&#160;</xf:label>
                                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='role-short-code']/items/item">
                                                <xf:label ref="label"/>
                                                <xf:value ref="value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                            <!--roleTerm input ends-->
                                </xf:repeat>
                                        <!--roleTerm repeat ends-->
                                    
                                
                                <!--roleTerm ends-->
                                <!--role input ends-->
                            </xf:repeat>
                            <!--role repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--role ends-->
                </xf:repeat>
                <!--name repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-titleInfo" ref="./mods:titleInfo">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend"> Title Information </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> Enter here the title of the book, article or anthology contribution you are cataloguing. If the title divides into a main title and a subtitle, enter
                                each part in its separate field. If the subtitle divides into several parts, separate the parts with a semicolon. </p>
                            <p> If the title is in a language that is usually transliterated, enter the transliterated title and subtitle in their respective
                                fields. Use the transliteration scheme you chose when selecting a record template.</p>
                            <p> If you believe it is useful to supply a translation of the title, do so in the relevant fields. Note the language that the
                                title information is translated into (the default is English). </p>
                            <p> More input options can be found on the Title Info tab on the Citation Forms.</p>
                        </div>
                    </span>
                </div>
                <xf:repeat nodeset="instance('save-data')/mods:titleInfo" id="titleInfo-repeat">
                    <!--titleInfo input begins-->
                    <xf:group ref=".[(@transliteration) or string-length(@lang) &gt; 0]">
                        <br/>
                    </xf:group>
                    <xf:group ref=".[string-length(@lang) &gt; 0]">
                        <xf:select1 ref="./@lang">
                            <xf:label>Language</xf:label>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                    </xf:group>
                    <xf:group>
                        <xf:input ref="./mods:nonSort" class="text_10">
                            <xf:label>
                                <xf:group ref=".[string-length(../@type) = 0]">Non Sort</xf:group>
                                <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Non Sort</xf:group>
                                <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Non Sort</xf:group>
                            </xf:label>
                        </xf:input>
                    </xf:group>
                    <xf:group>
                        <xf:input ref="./mods:title" class="text_150">
                            <xf:label>
                                <xf:group ref=".[string-length(../@type) = 0]">Title</xf:group>
                                <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Title</xf:group>
                                <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Title</xf:group>
                            </xf:label>
                        </xf:input>
                    </xf:group>
                    <xf:group>
                        <xf:input ref="./mods:subTitle" class="text_150">
                            <xf:label>
                                <xf:group ref=".[string-length(../@type) = 0]">Subtitle</xf:group>
                                <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Subtitle</xf:group>
                                <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Subtitle</xf:group>
                            </xf:label>
                        </xf:input>
                    </xf:group>
                </xf:repeat>
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-originInfo" ref="./mods:originInfo/mods:dateIssued">
            <xf:group>
                <fieldset class="level-2">
                    <div class="join">
                        <span class="legend">Origin Information</span>
                        <span class="xforms-hint">
                            <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                            <div class="xforms-hint-value">
                                <p> Enter here information about the book's origin, including its place of origin or publication, its publisher, and its date of issue. </p>
                                <p> More input options can be found on the Origin Info tab on the Citation Forms.</p>
                            </div>
                        </span>
                    </div>                
                        <!--originInfo repeat begins-->
                    <xf:repeat nodeset="instance('save-data')/mods:originInfo" id="origininfo-repeat">
                        <xf:group ref=".[string-length(@transliteration) &gt; 0]">
                            <br/>
                        </xf:group>                            
                            <!--originInfo input begins-->
                        <xf:group id="fieldset-place">
                            <fieldset class="level-2">
                                <div class="join">
                                    <span class="legend">City</span>
                                    <span class="xforms-hint">
                                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                        <div class="xforms-hint-value">
                                            <p> Record in City Name the city in which the publisher has its principal domicile, as noted on the title page. </p>
                                            <p> If the publisher is housed in several cities, record the one given prominence on the title page. If all are given equal prominence, record the first city name.</p>
                                            <p> If the city name is in a language that is usually transliterated, enter the transliterated city name in its field. Use the transliteration scheme you chose when selecting a record template.</p>
                                            <p> More input options can be found on the Origin Info tab on the Citation Forms.</p>
                                        </div>
                                    </span>
                                </div>
                                    <!--place repeat begins-->
                                <xf:repeat nodeset="./mods:place" id="place-repeat">
                                        <!--placeTerm begins-->
                                    <xf:group id="fieldset-placeTerm">
                                        <fieldset class="level-3">
                                                <!--placeTerm repeat begins-->
                                            <xf:repeat nodeset="./mods:placeTerm" id="place-term-repeat">
                                                    <!--placeTerm input begins-->
                                                <xf:group>
                                                    <xf:input ref="." class="text_100">
                                                        <xf:label>
                                                            <xf:group ref=".[@transliteration]">Transliteration</xf:group>
                                                        </xf:label>
                                                    </xf:input>
                                                </xf:group>

                                                    <!--placeTerm input ends-->
                                            </xf:repeat>
                                                <!--placeTerm repeat ends-->
                                                
                                                <!--placeTerm add begins-->
                                                
                                                <!--placeTerm add ends-->
                                        </fieldset>
                                    </xf:group>
                                        <!--placeTerm ends-->
                                </xf:repeat>
                                    <!--place repeat ends-->
                            </fieldset>
                        </xf:group>
                            <!--place ends-->
                            <!--publisher begins-->
                        <xf:group id="fieldset-publisher">
                            <fieldset class="level-2">
                                <div class="join">
                                    <span class="legend">Publisher</span>
                                    <span class="xforms-hint">
                                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                        <div class="xforms-hint-value">
                                            <p> Record in Publisher Name the name of the entity that is the originator for a resource, i.e. that has published, printed, distributed, released, issued, or produced it, as noted on the title page. </p>
                                            <p> If the publisher name is in a language that is usually transliterated, enter the transliterated publisher name in its field. Use the transliteration scheme you chose when selecting a record template.  </p>
                                            <p> More input options can be found on the Origin Info tab of the Citation Forms.</p>
                                        </div>
                                    </span>
                                </div>
                                    <!--publisher repeat begins-->
                                <xf:repeat nodeset="./mods:publisher" id="publisher-repeat">
                                        <!--publisher input begins-->
                                    <xf:group>
                                    </xf:group>
                                    <xf:group>
                                        <xf:input ref="." class="text_100">
                                            <xf:label>
                                                <xf:group ref=".[@transliteration]">Transliteration</xf:group>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                        <!--publisher input ends-->
                                </xf:repeat>
                                    <!--publisher repeat ends-->
                            </fieldset>
                        </xf:group>
                            <!--publisher ends-->
                        
                            <!--dateIssued begins-->
                        <xf:group id="fieldset-dateIssued">
                            <fieldset class="level-2">
                                <div class="join">
                                    <span class="legend">Year of Publication</span>
                                    <span class="xforms-hint">
                                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                        <div class="xforms-hint-value">
                                            <p> Note in Year of Publication the year in which the resource was published, released, or issued. </p>
                                            <p> Use Point if you wish to record a span of time, e.g. 1912-1914. 
                                                The values "start" and "end" are used with Point. 
                                                Repeat the Year of Publication field and choose "start" in one and "end" in the other repetition, and enter the appropriate dates in the two Year of Publication fields. </p>
                                            <p> If no point is specified a year noted in Year of Publication is assumed to be a single year. </p>
                                            <p> More input options can be found on the Origin Info tab on the Citation Forms.</p>
                                        </div>
                                    </span>
                                </div>
                                    <!--dateIssued repeat begins-->
                                <xf:repeat nodeset="./mods:dateIssued" id="date-issued-repeat">
                                        <!--dateIssued input begins-->
                                    <xf:group>
                                        <xf:select1 ref="./@point">
                                            <xf:label>Point</xf:label>
                                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-point-code']/items/item">
                                                <xf:label ref="label"/>
                                                <xf:value ref="value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                        <!--Cluster: hide-->
                                    <xf:group>
                                        <xf:input ref="." class="text_10">
                                            <xf:label>&#160;</xf:label>
                                        </xf:input>
                                    </xf:group>
                                        <!--dateIssued input ends-->
                                </xf:repeat>
                                    <!--dateIssued repeat ends-->
                            </fieldset>
                        </xf:group>
                            <!--dateIssued ends-->
                    </xf:repeat>
                        <!--originInfo repeat ends-->
                        
                        <!--originInfo add begins-->
                        
                        <!--originInfo add ends-->
                </fieldset>
            </xf:group>
        </xf:group>
        <xf:group id="fieldset-physicalDescription" ref="./mods:physicalDescription/mods:extent">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">Physical Description</span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> In this compact input format, only the Internet Media Type and the Extent of the publication are noted in Physical Description.</p>
                            <p> More input options can be found on the Physical Description tab on the Citation Forms.</p>
                        </div>
                    </span>
                </div>
                <!--physicalDescription repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:physicalDescription" id="physicalDescription-repeat">
                    <!--internetMediaType begins-->
                    <xf:group id="fieldset-internetMediaType" ref=".[mods:internetMediaType]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Internet Media Type</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Use this field if the resource is electronic. An identification of the electronic format type, or the data
                                            representation of the resource. Internet Media Type specifies the electronic format type, such as text/html, ASCII,
                                            Postscript file, executable application or JPEG image.</p>
                                    </div>
                                </span>
                            </div>
                            <!--internetMediaType repeat begins-->
                            <xf:repeat nodeset="./mods:internetMediaType" id="internetMediaType-repeat">
                                <!--internetMediaType input begins-->
                                <xf:group ref=".">
                                    <xf:select1 ref=".">
                                        <xf:label>&#160;</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='internet-media-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <!--internetMediaType input ends-->
                            </xf:repeat>
                            <!--internetMediaType repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--internetMediaType ends-->
                    <!--extent begins-->
                    <xf:group id="fieldset-extent" ref=".[mods:extent]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Extent</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> A statement of the number and specific material of the units of the resource that express physical extent. 
                                            A typical entry for a book might read "xiv, 213 p."</p>
                                        <p> Extent may be used with electronic resources, e.g. digitised collection of slides, to show how many slides
                                            constitute the resource. </p>
                                    </div>
                                </span>
                            </div>
                            <!--extent repeat begins-->
                            <xf:repeat nodeset="./mods:extent" id="extent-repeat">
                                <!--extent input begins-->
                                <xf:group ref=".">
                                    <xf:input ref="." class="text_10">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                                <!--extent input ends-->
                            </xf:repeat>
                            <!--extent repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--extent ends-->
                </xf:repeat>
                <!--physicalDescription repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-url" ref=".[mods:location/mods:url]">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">
                        <span class="legend">URL</span>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> In URL, record the Uniform Resource Locator (URL) of a resource accessed on the Internet.</p>
                        </div>
                    </span>
                </div>
                <!--url repeat begins-->
                <xf:repeat nodeset=" instance('save-data')/mods:location/mods:url" id="location-url-repeat">                    
                    <!--url input begins-->
                    <xf:group ref=".">
                        <xf:input ref="." class="text_150">
                            <xf:label>&#160;</xf:label>
                        </xf:input>
                    </xf:group>
                    <!--url input ends-->
                </xf:repeat>
                <!--url repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-identifier" ref=".[mods:identifier]">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">Identifiers</span>
                    <span class="join-button">
                        <xf:trigger ref=".[mods:identifier]">
                            <xf:label>+</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:identifier" at="index('identifier-repeat')" position="after" origin="instance('new-instance')/mods:identifier"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p>Enter here primarily the International Standard Book Number (ISBN) number of the book you are cataloguing or its Digital Object Identifier (DOI). </p>
                            <p>Use the 13-digit version of the ISBN number, if available.</p>
                            <p>If you have access to another unique identifier, please record it.</p>
                        </div>
                    </span>
                </div>
                <xf:repeat nodeset="instance('save-data')/mods:identifier" id="identifier-repeat">
                    <xf:group ref=".[@type]" selection="open">
                        <xf:select1 ref="./@type">
                            <xf:label>&#160;</xf:label>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='identifier-type-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                    </xf:group>
                    <xf:group>
                        <xf:input ref="." class="text_50">
                            <xf:label>&#160;</xf:label>
                        </xf:input>
                    </xf:group>
                </xf:repeat>
            </fieldset>
        </xf:group>
    </div>
</div>