<?xml version="1.0" encoding="UTF-8"?>
<div xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:e="http://www.asia-europe.uni-heidelberg.de/" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xf="http://www.w3.org/2002/xforms" class="compact related-container" tab-id="compact-b">
    <div class="block-form">
        <xf:group id="fieldset-relatedItem-periodical" ref="./mods:extension/*[2][. = 'article-in-periodical-latin-compact']             | ./mods:extension/*[2][. = 'article-in-periodical-transliterated-compact']">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">
                        <span class="legend">Periodical</span>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> Enter here information related to the periodical that the article you are cataloguing occurs in. This information falls into two
                                groups: general information on the periodical and specific information on the location of the article in the periodical.</p>
                        </div>
                    </span>
                </div>
                <!--relatedItem repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:relatedItem" id="relatedItem-periodical-repeat">
                    <xf:group id="fieldset-relatedItem-periodical-titleInfo">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Periodical Title</span>
                                <div class="xforms-hint-value">
                                    <p> Enter here the title of the periodical you are cataloguing. If the title divides into a main title and a subtitle, enter
                                        each part in its separate field. </p>
                                    <p> If the title is in a language that is usually transliterated, enter the transliterated title and subtitle in their
                                        respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                    <p> If you believe it is useful to supply a translation of the title, do so in their relevant fields. Note the language that
                                        the title information is translated into (the default is English). </p>
                                    <p> The language used is only specified if it is different from the language noted in Language of Resource when you selected
                                        the record template. The most common languages have been moved to the top of the list. </p>
                                </div>
                            </div>
                            <xf:repeat nodeset="./mods:titleInfo" id="relatedItem-titleInfo-periodical-repeat">
                                <!--titleInfo input begins-->
                                <xf:group ref=".[(@transliteration) or string-length(@lang) &gt; 0]">
                                    <br/>
                                </xf:group>
                                <xf:group ref=".[string-length(@lang) &gt; 0]">
                                    <xf:select1 ref="./@lang">
                                        <xf:label>Language</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:nonSort" class="text_10">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Non Sort</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:title" class="text_150">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Title</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Title</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Title</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:subTitle" class="text_150">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Subtitle</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-name-periodical">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Names and Roles</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="instance('save-data')/mods:relatedItem/mods:name" at="index('relatedItem-name-repeat-periodical')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> In Names and Roles, catalogue the names of each person, corporation or conference associated with the resource.</p>
                                        <p> Include as many Names and Roles as needed, by clicking the '+' button. </p>
                                        <p> Choose an appropriate Type of Name for each name, "personal" for personal names, "corporate" for names of
                                            institutions, and "conference" for names of events such as conferences..</p>
                                        <p> Please notice that the role pertaining to a name follows the name in question.</p>
                                        <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <!--name repeat begins-->
                            <xf:repeat nodeset="./mods:name" id="relatedItem-name-repeat-periodical">
                                <!--namePart begins-->
                                <xf:group id="fieldset-relatedItem-namePart-periodical">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Name</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Analyse each name into separate name parts.</p>
                                                    <p> If possible, analyse each personal name into Given Name and Family Name. If this is not possible, choose
                                                        "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If a given or family name consists of several parts, enter all parts of the same type in the same
                                                        field.</p>
                                                    <p> If possible, analyse each corporate name and conference name into separate name parts. Record the more
                                                        general designation in the first field and a more specific designation in the second field. If this is
                                                        not possible, choose "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If the name is in a language that is usually transliterated, enter the transliterated name parts in
                                                        their respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                                    <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                        <xf:group>
                                            <xf:select1 ref="./@type">
                                                <xf:label>Type of Name</xf:label>
                                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-type-code']/items/item">
                                                    <xf:label ref="label"/>
                                                    <xf:value ref="value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <!--namePart repeat begins-->
                                        <xf:repeat nodeset="./mods:namePart" id="relatedItem-namePart-periodical-repeat">
                                            <xf:group>
                                                <xf:select1 ref="./@type" class="right">
                                                    <xf:label>
                                                        <xf:group ref="../[@script='Latn']">Transliterated</xf:group>
                                                        <xf:group ref="../[not(@script='Latn')]">&#160;</xf:group>
                                                    </xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-compact-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--namePart input ends-->
                                        </xf:repeat>
                                        <!--namePart repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--namePart ends-->
                                <!--role begins-->
                                <xf:group id="fieldset-role-periodical">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Role</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:role" at="index('role-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Role contains a description of the role of the person or institution named above to the resource being
                                                        catalogued.</p>
                                                    <p> Repeat for each new role played by the named entity, i.e. the same person or institution can have
                                                        several roles in relation to one resource.</p>
                                                    <p> The more common roles are listed at the top.</p>
                                                    <p> More role input options can be found on the Name Info tab on the Citation Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                        <!--role repeat begins-->
                                        <xf:repeat nodeset="./mods:role" id="relatedItem-periodical-role-repeat">
                                            <!--role input begins-->
                                            <!--DLF/Aquifer: RECOMMENDED]-->
                                            <!--Cluster: warn-->
                                            <!--roleTerm begins-->
                                            <!--DLF/Aquifer: OPTIONAL-->
                                            <!--Cluster: include-->
                                            <!--role node-add begins-->
                                            <!--roleTerm repeat begins-->
                                            <xf:repeat nodeset="./mods:roleTerm" id="relatedItem-periodical-roleTerm-repeat">
                                                <!--roleTerm input begins-->
                                                <!--DLF/Aquifer: REQUIRED]-->
                                                <!--Cluster: require-->
                                                <xf:group>
                                                    <xf:select1 ref=".">
                                                        <xf:label>&#160;</xf:label>
                                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='role-short-code']/items/item">
                                                            <xf:label ref="label"/>
                                                            <xf:value ref="value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <!--roleTerm input ends-->
                                            </xf:repeat>
                                            <!--roleTerm repeat ends-->
                                            <!--roleTerm ends-->
                                            <!--role input ends-->
                                        </xf:repeat>
                                        <!--role repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--role ends-->
                            </xf:repeat>
                            <!--name repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-periodical-part">
                        <fieldset class="level-2">
                            <div class="join wide">
                                <span class="legend">Location of Article in Periodical</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Note here in which volume and issue and on which pages the article you are cataloguing occurs in the periodical.</p>
                                    </div>
                                </span>
                            </div>
                            <!--relatedItem/part repeat begins-->
                            <xf:repeat nodeset="./mods:part" id="related-item-part-periodical-repeat">
                                <!--relatedItem/part input begins-->
                                <!--relatedItem/part input ends-->
                                <!--relatedItem/part/detail begins-->
                                <xf:group id="fieldset-relatedItem-periodical-detail" ref=".[mods:detail]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Volume and Issue</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                            </span>
                                        </div>
                                        <!--relatedItem/part/detail repeat begins-->
                                        <xf:repeat nodeset="./mods:detail" id="related-item-part-detail-periodical-repeat">
                                            <!--relatedItem/part/detail input ends-->
                                            <!--relatedItem/part/detail/number begins-->
                                            <xf:group ref=".[mods:number]">
                                                <xf:input ref="./mods:number" class="text_10">
                                                    <xf:label>
                                                        <xf:output ref="./../@type"/>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/detail/number ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/detail repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/detail ends-->
                                <!--relatedItem/part/date begins-->
                                <xf:group id="fieldset-relatedItem-periodical-date" ref=".[mods:date]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">
                                                <span class="legend">Year of Issue</span>
                                            </span>
                                        </div>
                                        <!--relatedItem/part/date repeat begins-->
                                        <xf:repeat nodeset="./mods:date" id="related-item-part-date-periodical-repeat">
                                            <div class="block-form">
                                                <!--relatedItem/part/date input begins-->
                                                <xf:group ref=".">
                                                    <xf:input ref="." class="text_10">
                                                        <xf:label>Year</xf:label>
                                                    </xf:input>
                                                </xf:group>
                                                <!--relatedItem/part/date input ends-->
                                            </div>
                                        </xf:repeat>
                                        <!--relatedItem/part/date repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/date ends-->
                                <!--relatedItem/part/extent begins-->
                                <xf:group id="fieldset-relatedItem-periodical-extent" ref=".[mods:extent]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Page Extent</span>
                                            <div class="xforms-hint-value">
                                                <p> Use this field to indicate from which page and to which page the article you are cataloguing occurs in the
                                                    volume and issue number of the periodical noted above. </p>
                                            </div>
                                        </div>
                                        <!--relatedItem/part/extent repeat begins-->
                                        <xf:repeat nodeset="./mods:extent" id="related-item-extent-periodical-repeat">
                                            <!--relatedItem/part/extent input begins-->
                                            <!--relatedItem/part/extent input ends-->
                                            <!--relatedItem/part/start begins-->
                                            <xf:group ref=".[mods:start]">
                                                <xf:input ref="./mods:start" class="text_10">
                                                    <xf:label>Start</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/start ends-->
                                            <!--relatedItem/part/end begins-->
                                            <xf:group ref=".[mods:end]">
                                                <xf:input ref="./mods:end" class="text_10">
                                                    <xf:label>End</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/end ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/extent repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/extent ends-->
                                <!--relatedItem/part/text begins-->
                                <xf:group ref=".[mods:part/mods:text]">
                                    <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea" mediatype="dojo">
                                        <xf:label>Text</xf:label>
                                    </xf:textarea>
                                </xf:group>
                                <!--relatedItem/part/text ends-->
                            </xf:repeat>
                            <!--relatedItem/part repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-periodical-identifier" ref=".[mods:identifier]">
                        <fieldset class="level-3">
                            <div class="join">
                                <span class="legend">Identifiers</span>
                                <span class="join-button">
                                    <xf:trigger ref=".[mods:identifier]">
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:identifier" at="index('identifier-periodical-repeat')" position="after" origin="instance('new-instance')/mods:identifier"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p>Enter here primarily the International Standard Serial Number (ISSN) number of the periodical you are cataloguing
                                            and/or its Digital Object Identifier (DOI). </p>
                                        <p>If you have access to any other unique identifier, please record it.</p>
                                    </div>
                                </span>
                            </div>
                            <xf:repeat nodeset="./mods:identifier" id="identifier-periodical-repeat">
                                <xf:group ref=".[@type]" selection="open">
                                    <xf:select1 ref="./@type">
                                        <xf:label>&#160;</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='identifier-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                </xf:repeat>
                <!--title repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-relatedItem-anthology" ref="./mods:extension/*[2][. = 'contribution-to-anthology-latin-compact'] | ./mods:extension/*[2][. = 'contribution-to-anthology-transliterated-compact']">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">
                        <span class="legend">Anthology</span>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> Enter here information related to the anthology that the anthology contribution you are cataloguing occurs in. This information
                                falls into two groups: general information on the anthology and specific information on the location of the anthology
                                contribution in the anthology .</p>
                        </div>
                    </span>
                </div>
                <!--relatedItem repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:relatedItem" id="relatedItem-anthology-repeat">
                    <xf:group id="fieldset-relatedItem-anthology-titleInfo">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Anthology Title</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Enter here the title of the anthology you are cataloguing. If the title divides into a main title and a subtitle,
                                            enter each part in its separate field. </p>
                                        <p> If the title is in a language that is usually transliterated, enter the transliterated title and subtitle in their
                                            respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                        <p> If you believe it is useful to supply a translation of the title, do so in their relevant fields. Note the language
                                            that the title information is translated into (the default is English). </p>
                                        <p> The language used is only specified if it is different from the language noted in Language of Resource when you
                                            selected the record template. The most common languages have been moved to the top of the list. </p>
                                    </div>
                                </span>
                            </div>
                            <xf:repeat nodeset="./mods:titleInfo" id="titleInfo-anthology-repeat">
                                <!--titleInfo input begins-->
                                <xf:group ref=".[(@transliteration) or string-length(@lang) &gt; 0]">
                                    <br/>
                                </xf:group>
                                <xf:group ref=".[string-length(@lang) &gt; 0]">
                                    <xf:select1 ref="./@lang">
                                        <xf:label>Language</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:nonSort" class="text_10">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Non Sort</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:title" class="text_150">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Title</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Title</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Title</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:subTitle" class="text_150">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Subtitle</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-name-anthology">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Names and Roles</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="instance('save-data')/mods:relatedItem/mods:name" at="index('relatedItem-name-repeat-anthology')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> In Names and Roles, catalogue the names of each person, corporation or conference associated with the resource.</p>
                                        <p> Include as many Names and Roles as needed, by clicking the '+' button. </p>
                                        <p> Choose an appropriate Type of Name for each name, "personal" for personal names, "corporate" for names of
                                            institutions, and "conference" for names of events such as conferences..</p>
                                        <p> Please notice that the role pertaining to a name follows the name in question.</p>
                                        <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <!--name repeat begins-->
                            <xf:repeat nodeset="./mods:name" id="relatedItem-name-repeat-anthology">
                                <!--namePart begins-->
                                <xf:group id="fieldset-relatedItem-namePart-anthology">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Name</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Analyse each name into separate name parts.</p>
                                                    <p> If possible, analyse each personal name into Given Name and Family Name. If this is not possible, choose
                                                        "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If a given or family name consists of several parts, enter all parts of the same type in the same
                                                        field.</p>
                                                    <p> If possible, analyse each corporate name and conference name into separate name parts. Record the more
                                                        general designation in the first field and a more specific designation in the second field. If this is
                                                        not possible, choose "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If the name is in a language that is usually transliterated, enter the transliterated name parts in
                                                        their respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                                    <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                        <xf:group>
                                            <xf:select1 ref="./@type">
                                                <xf:label>Type of Name</xf:label>
                                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-type-code']/items/item">
                                                    <xf:label ref="label"/>
                                                    <xf:value ref="value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <!--namePart repeat begins-->
                                        <xf:repeat nodeset="./mods:namePart" id="relatedItem-namePart-anthology-repeat">
                                            <xf:group>
                                                <xf:select1 ref="./@type" class="right">
                                                    <xf:label>
                                                        <xf:group ref="../[@script='Latn']">Transliterated</xf:group>
                                                        <xf:group ref="../[not(@script='Latn')]">&#160;</xf:group>
                                                    </xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-compact-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--namePart input ends-->
                                        </xf:repeat>
                                        <!--namePart repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--namePart ends-->
                                <!--role begins-->
                                <xf:group id="fieldset-role-anthology">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Role</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:role" at="index('role-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Role contains a description of the role of the person or institution named above to the resource being
                                                        catalogued.</p>
                                                    <p> Repeat for each new role played by the named entity, i.e. the same person or institution can have
                                                        several roles in relation to one resource.</p>
                                                    <p> The more common roles are listed at the top.</p>
                                                    <p> More role input options can be found on the Name Info tab on the Citation Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                        <!--role repeat begins-->
                                        <xf:repeat nodeset="./mods:role" id="relatedItem-anthology-role-repeat">
                                            <!--role input begins-->
                                            <!--roleTerm repeat begins-->
                                            <xf:repeat nodeset="./mods:roleTerm" id="relatedItem-anthology-roleTerm-repeat">
                                                <!--roleTerm input begins-->
                                                <!--DLF/Aquifer: REQUIRED]-->
                                                <!--Cluster: require-->
                                                <xf:group>
                                                    <xf:select1 ref=".">
                                                        <xf:label>&#160;</xf:label>
                                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='role-short-code']/items/item">
                                                            <xf:label ref="label"/>
                                                            <xf:value ref="value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <!--roleTerm input ends-->
                                            </xf:repeat>
                                            <!--roleTerm repeat ends-->
                                            <!--roleTerm ends-->
                                            <!--role input ends-->
                                        </xf:repeat>
                                        <!--role repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--role ends-->
                            </xf:repeat>
                            <!--name repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-anthology-originInfo">
                        <fieldset class="level-2">
                            <div class="join wide">
                                <span class="legend">Anthology Origin Information</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Information about the origin of the resource, including its place of origin or publication, publisher/originator,
                                            and the dates associated with the resource. </p>
                                    </div>
                                </span>
                            </div>
                            <!--originInfo repeat begins-->
                            <xf:repeat nodeset="./mods:originInfo" id="relatedItem-origininfo-anthology-repeat">
                                <!--originInfo input begins-->
                                <xf:group id="fieldset-relatedItem-anthology-place">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">City Name</span>
                                        </div>
                                        <!--place repeat begins-->
                                        <xf:repeat nodeset="./mods:place" id="relatedItem-place-anthology-repeat">
                                            <!--place input begins-->
                                            <!--place input ends-->
                                            <!--placeTerm begins-->
                                            <xf:group id="fieldset-relatedItem-anthology-placeTerm">
                                                <fieldset class="level-3">
                                                    <!--placeTerm repeat begins-->
                                                    <xf:repeat nodeset="./mods:placeTerm" id="relatedItem-place-term-anthology-repeat">
                                                        <!--placeTerm input begins-->
                                                        <xf:group>
                                                            <xf:input ref="." class="text_100">
                                                                <xf:label>&#160;</xf:label>
                                                            </xf:input>
                                                        </xf:group>
                                                        <!--placeTerm input ends-->
                                                        <!--placeTerm delete begins-->
                                                        <!--placeTerm delete ends-->
                                                    </xf:repeat>
                                                    <!--placeTerm repeat ends-->
                                                    <!--placeTerm add begins-->
                                                    <!--placeTerm add ends-->
                                                </fieldset>
                                            </xf:group>
                                            <!--placeTerm ends-->
                                        </xf:repeat>
                                        <!--place repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--place ends-->
                                <!--publisher begins-->
                                <xf:group id="fieldset-relatedItem-anthology-publisher">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Publisher</span>
                                        </div>
                                        <!--publisher repeat begins-->
                                        <xf:repeat nodeset="./mods:publisher" id="relatedItem-publisher-anthology-repeat">
                                            <!--publisher input begins-->
                                            <xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--publisher input ends-->
                                        </xf:repeat>
                                        <!--publisher repeat ends-->
                                        <!--publisher add begins-->
                                        <!--publisher add ends-->
                                    </fieldset>
                                </xf:group>
                                <!--publisher ends-->
                                <!--dateIssued begins-->
                                <xf:group id="fieldset-relatedItem-anthology-dateIssued">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Year of Publication</span>
                                        </div>
                                        <!--dateIssued repeat begins-->
                                        <xf:repeat nodeset="./mods:dateIssued" id="relatedItem-date-issued-anthology-repeat">
                                            <!--dateIssued input begins-->
                                            <xf:group>
                                                <xf:select1 ref="./@point">
                                                    <xf:label>Point</xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-point-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                            <!--Cluster: hide-->
                                            <xf:group>
                                                <xf:input ref="." class="text_10">
                                                    <xf:label>Year</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--dateIssued input ends-->
                                        </xf:repeat>
                                        <!--dateIssued repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--dateIssued ends-->
                            </xf:repeat>
                            <!--originInfo repeat ends-->
                            <!--originInfo add begins-->
                            <!--originInfo add ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-anthology-part">
                        <fieldset class="level-2">
                            <div class="join wide">
                                <span class="legend">Location of Contribution in Anthology</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Note here in which volume and on which pages the anthology contribution you are cataloguing occurs in the anthology
                                            .</p>
                                    </div>
                                </span>
                            </div>
                            <!--relatedItem/part repeat begins-->
                            <xf:repeat nodeset="./mods:part" id="related-item-part-anthology-repeat">
                                <!--relatedItem/part input begins-->
                                <!--NB 3.4 adds altRepGroup-->
                                <!--relatedItem/part input ends-->
                                <!--relatedItem/part/detail begins-->
                                <xf:group id="fieldset-relatedItem-anthology-detail" ref=".[mods:detail]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Volume</span>
                                        </div>
                                        <!--relatedItem/part/detail repeat begins-->
                                        <xf:repeat nodeset="./mods:detail" id="related-item-part-detail-anthology-repeat">
                                            <!--relatedItem/part/detail input ends-->
                                            <!--relatedItem/part/detail/number begins-->
                                            <xf:group ref=".[mods:number]">
                                                <xf:input ref="./mods:number" class="text_10">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/detail/number ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/detail repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/detail ends-->
                                <!--relatedItem/part/extent begins-->
                                <xf:group id="fieldset-relatedItem-anthology-extent" ref=".[mods:extent]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Page Extent</span>
                                            <div class="xforms-hint-value">
                                                <p> Use this field to indicate from which page and to which page the anthology contribution you are cataloguing
                                                    occurs in the volume (if any) of the anthology noted above. </p>
                                            </div>
                                        </div>
                                        <!--relatedItem/part/extent repeat begins-->
                                        <xf:repeat nodeset="./mods:extent" id="related-item-extent-anthology-repeat">
                                            <!--relatedItem/part/extent input begins-->
                                            <!--relatedItem/part/extent input ends-->
                                            <!--relatedItem/part/start begins-->
                                            <xf:group ref=".[mods:start]">
                                                <xf:input ref="./mods:start" class="text_10">
                                                    <xf:label>Start</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/start ends-->
                                            <!--relatedItem/part/end begins-->
                                            <xf:group ref=".[mods:end]">
                                                <xf:input ref="./mods:end" class="text_10">
                                                    <xf:label>End</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/end ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/extent repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/extent ends-->
                                <!--relatedItem/part/text begins-->
                                <xf:group ref=".[mods:part/mods:text]">
                                    <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea" mediatype="dojo">
                                        <xf:label>Text</xf:label>
                                    </xf:textarea>
                                </xf:group>
                                <!--relatedItem/part/text ends-->
                            </xf:repeat>
                            <!--relatedItem/part repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-anthology-identifier" ref=".[mods:identifier]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Identifiers</span>
                                <span class="join-button">
                                    <xf:trigger ref=".[mods:identifier]">
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:identifier" at="index('identifier-anthology-repeat')" position="after" origin="instance('new-instance')/mods:identifier"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p>Enter here primarily the International Standard Book Number (ISBN) number of the edited volume you are cataloguing
                                            and/or its Digital Object Identifier (DOI). </p>
                                        <p>Use the 13-digit version of the ISBN number, if available.</p>
                                        <p>If you have access to any other unique identifier, please record it.</p>
                                    </div>
                                </span>
                            </div>
                            <xf:repeat nodeset="./mods:identifier" id="identifier-anthology-repeat">
                                <xf:group ref=".[@type]" selection="open">
                                    <xf:select1 ref="./@type">
                                        <xf:label>&#160;</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='identifier-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-relatedItem-anthology">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">
                                    <span class="legend">Monograph Series</span>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Enter here information related to the monograph series that the monograph you are cataloguing occurs in. This
                                            information falls into two groups: general information on the monograph series and specific information on the
                                            location of the monograph in the monograph series.</p>
                                    </div>
                                </span>
                            </div>
                            <!--relatedItem repeat begins-->
                            <xf:repeat nodeset="./mods:relatedItem" id="relatedItem-relatedItem-series-repeat">
                                <xf:group id="fieldset-relatedItem-relatedItem-series-titleInfo">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Series Title</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Enter here the title of the series you are cataloguing. If the title divides into a main title and a
                                                        subtitle, enter each part in its separate field. </p>
                                                    <p> If the title is in a language that is usually transliterated, enter the transliterated title and
                                                        subtitle in their respective fields. Use the transliteration scheme you chose when selecting a record
                                                        template. </p>
                                                    <p> If you believe it is useful to supply a translation of the title, do so in their relevant fields. Note
                                                        the language that the title information is translated into (the default is English). </p>
                                                    <p> The language used is only specified if it is different from the language noted in Language of Resource
                                                        when you selected the record template. The most common languages have been moved to the top of the list.
                                                    </p>
                                                </div>
                                            </span>
                                        </div>
                                        <xf:repeat nodeset="./mods:titleInfo" id="titleInfo-relatedItem-relatedItem-series-repeat">
                                            <!--titleInfo input begins-->
                                            <xf:group ref=".[(@transliteration) or string-length(@lang) &gt; 0]">
                                                <br/>
                                            </xf:group>
                                            <xf:group ref=".[string-length(@lang) &gt; 0]">
                                                <xf:select1 ref="./@lang">
                                                    <xf:label>Language</xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                            <xf:group>
                                                <xf:input ref="./mods:nonSort" class="text_10">
                                                    <xf:label>
                                                        <xf:group ref=".[string-length(../@type) = 0]">Non Sort</xf:group>
                                                        <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Non Sort</xf:group>
                                                        <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Non Sort</xf:group>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <xf:group>
                                                <xf:input ref="./mods:title" class="text_150">
                                                    <xf:label>
                                                        <xf:group ref=".[string-length(../@type) = 0]">Title</xf:group>
                                                        <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Title</xf:group>
                                                        <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Title</xf:group>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <xf:group>
                                                <xf:input ref="./mods:subTitle" class="text_150">
                                                    <xf:label>
                                                        <xf:group ref=".[string-length(../@type) = 0]">Subtitle</xf:group>
                                                        <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Subtitle</xf:group>
                                                        <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Subtitle</xf:group>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group id="fieldset-relatedItem-relatedItem-series-part">
                                    <fieldset class="level-2">
                                        <div class="join wide">
                                            <span class="legend">Location of Anthology in Monograph Series</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Use this field to indicate the volume of the series that the anthology you are cataloguing occurs in.
                                                    </p>
                                                </div>
                                            </span>
                                        </div>
                                        <!--relatedItem/part repeat begins-->
                                        <xf:repeat nodeset="./mods:part" id="part-relatedItem-relatedItem-series-repeat">
                                            <!--relatedItem/part input begins-->
                                            <!--relatedItem/part input ends-->
                                            <!--relatedItem/part/detail begins-->
                                            <xf:group id="fieldset-relatedItem-relatedItem-series-detail" ref=".[mods:detail]">
                                                <fieldset class="level-3">
                                                    <div class="join">
                                                        <span class="legend">Volume</span>
                                                        <span class="xforms-hint">
                                                            <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                            <div class="xforms-hint-value">
                                                                <p> Use this field to indicate the volume the anthology that the anthology contribution you are
                                                                    cataloguing occurs in. </p>
                                                            </div>
                                                        </span>
                                                    </div>
                                                    <!--relatedItem/part/detail repeat begins-->
                                                    <xf:repeat nodeset="./mods:detail" id="detail-relatedItem-relatedItem-series-repeat">
                                                        <!--relatedItem/part/detail input ends-->
                                                        <!--relatedItem/part/detail/number begins-->
                                                        <xf:group ref=".[mods:number]">
                                                            <xf:input ref="./mods:number" class="text_10">
                                                                <xf:label>
                                                                    <xf:label>&#160;</xf:label>
                                                                </xf:label>
                                                            </xf:input>
                                                        </xf:group>
                                                        <!--relatedItem/part/detail/number ends-->
                                                    </xf:repeat>
                                                    <!--relatedItem/part/detail repeat ends-->
                                                </fieldset>
                                            </xf:group>
                                            <!--relatedItem/part/detail ends-->
                                            <!--relatedItem/part/extent begins-->

                                            <!--relatedItem/part/extent ends-->
                                            <!--relatedItem/part/text begins-->
                                            <xf:group ref=".[mods:part/mods:text]">
                                                <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea" mediatype="dojo">
                                                    <xf:label>Text</xf:label>
                                                </xf:textarea>
                                            </xf:group>
                                            <!--relatedItem/part/text ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part repeat ends-->
                                    </fieldset>
                                </xf:group>
                            </xf:repeat>
                            <!--title repeat ends-->
                        </fieldset>
                    </xf:group>
                </xf:repeat>
                <!--title repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-relatedItem-series" ref="./mods:extension/*[2][. = 'monograph-latin'] | ./mods:extension/*[2][. = 'monograph-transliteration'] | ./mods:extension/*[2][. = 'anthology-latin'] | ./mods:extension/*[2][. = 'anthology-transliterated']">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">
                        <span class="legend">Monograph Series</span>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> Enter here information related to the monograph series that the monograph you are cataloguing occurs in. This information falls
                                into two groups: general information on the monograph series and specific information on the location of the monograph in the
                                monograph series.</p>
                        </div>
                    </span>
                </div>
                <!--relatedItem repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:relatedItem" id="relatedItem-series-repeat">
                    <xf:group id="fieldset-relatedItem-series-titleInfo">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Series Title</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Enter here the title of the series you are cataloguing. If the title divides into a main title and a subtitle, enter
                                            each part in its separate field. </p>
                                        <p> If the title is in a language that is usually transliterated, enter the transliterated title and subtitle in their
                                            respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                        <p> If you believe it is useful to supply a translation of the title, do so in their relevant fields. Note the language
                                            that the title information is translated into (the default is English). </p>
                                        <p> The language used is only specified if it is different from the language noted in Language of Resource when you
                                            selected the record template. The most common languages have been moved to the top of the list. </p>
                                    </div>
                                </span>
                            </div>
                            <xf:repeat nodeset="./mods:titleInfo" id="titleInfo-periodical-repeat">
                                <!--titleInfo input begins-->
                                <xf:group ref=".[(@transliteration) or string-length(@lang) &gt; 0]">
                                    <br/>
                                </xf:group>
                                <xf:group ref=".[string-length(@lang) &gt; 0]">
                                    <xf:select1 ref="./@lang">
                                        <xf:label>Language</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:nonSort" class="text_10">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Non Sort</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:title" class="text_150">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Title</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Title</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Title</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:subTitle" class="text_150">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Subtitle</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-name-series">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Names and Roles</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="instance('save-data')/mods:relatedItem/mods:name" at="index('relatedItem-name-repeat-series')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> In Names and Roles, catalogue the names of each person, corporation or conference associated with the resource.</p>
                                        <p> Include as many Names and Roles as needed, by clicking the '+' button. </p>
                                        <p> Choose an appropriate Type of Name for each name, "personal" for personal names, "corporate" for names of
                                            institutions, and "conference" for names of events such as conferences..</p>
                                        <p> Please notice that the role pertaining to a name follows the name in question.</p>
                                        <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <!--name repeat begins-->
                            <xf:repeat nodeset="./mods:name" id="relatedItem-name-repeat-series">
                                <!--namePart begins-->
                                <xf:group id="fieldset-relatedItem-namePart-series">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Name</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Analyse each name into separate name parts.</p>
                                                    <p> If possible, analyse each personal name into Given Name and Family Name. If this is not possible, choose
                                                        "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If a given or family name consists of several parts, enter all parts of the same type in the same
                                                        field.</p>
                                                    <p> If possible, analyse each corporate name and conference name into separate name parts. Record the more
                                                        general designation in the first field and a more specific designation in the second field. If this is
                                                        not possible, choose "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If the name is in a language that is usually transliterated, enter the transliterated name parts in
                                                        their respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                                    <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                        <xf:group>
                                            <xf:select1 ref="./@type">
                                                <xf:label>Type of Name</xf:label>
                                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-type-code']/items/item">
                                                    <xf:label ref="label"/>
                                                    <xf:value ref="value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <!--namePart repeat begins-->
                                        <xf:repeat nodeset="./mods:namePart" id="relatedItem-namePart-series-repeat">
                                            <xf:group>
                                                <xf:select1 ref="./@type" class="right">
                                                    <xf:label>
                                                        <xf:group ref="../[@script='Latn']">Transliterated</xf:group>
                                                        <xf:group ref="../[not(@script='Latn')]">&#160;</xf:group>
                                                    </xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-compact-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--namePart input ends-->
                                        </xf:repeat>
                                        <!--namePart repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--namePart ends-->
                                <!--role begins-->
                                <xf:group id="fieldset-relatedItem-role-series">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Role</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:role" at="index('relatedItem-series-role-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <div class="xforms-hint-value">
                                                <p> Role contains a description of the role of the person or institution named above to the resource being
                                                    catalogued.</p>
                                                <p> Repeat for each new role played by the named entity, i.e. the same person or institution can have several
                                                    roles in relation to one resource.</p>
                                                <p> The more common roles are listed at the top.</p>
                                                <p> More role input options can be found on the Name Info tab on the Citation Forms.</p>
                                            </div>
                                        </div>
                                        <!--role repeat begins-->
                                        <xf:repeat nodeset="./mods:role" id="relatedItem-series-role-repeat">
                                            <!--role input begins-->
                                            <!--roleTerm repeat begins-->
                                            <xf:repeat nodeset="./mods:roleTerm" id="relatedItem-series-roleTerm-repeat">
                                                <!--roleTerm input begins-->
                                                <!--DLF/Aquifer: REQUIRED]-->
                                                <!--Cluster: require-->
                                                <xf:group>
                                                    <xf:select1 ref=".">
                                                        <xf:label>&#160;</xf:label>
                                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='role-short-code']/items/item">
                                                            <xf:label ref="label"/>
                                                            <xf:value ref="value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <!--roleTerm input ends-->
                                            </xf:repeat>
                                            <!--roleTerm repeat ends-->
                                            <!--roleTerm ends-->
                                            <!--role input ends-->
                                        </xf:repeat>
                                        <!--role repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--role ends-->
                            </xf:repeat>
                            <!--name repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-series-part">
                        <fieldset class="level-2">
                            <div class="join wide">
                                <span class="legend">Location of Monograph in Series</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Use this field to indicate the volume of the series that the monograph you are cataloguing occurs in. </p>
                                    </div>
                                </span>
                            </div>
                            <!--relatedItem/part repeat begins-->
                            <xf:repeat nodeset="./mods:part" id="related-item-part-series-repeat">
                                <!--relatedItem/part input begins-->
                                <!--relatedItem/part input ends-->
                                <!--relatedItem/part/detail begins-->
                                <xf:group id="fieldset-relatedItem-series-detail" ref=".[mods:detail]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Volume</span>
                                        </div>
                                        <!--relatedItem/part/detail repeat begins-->
                                        <xf:repeat nodeset="./mods:detail" id="related-item-part-detail-series-repeat">
                                            <!--relatedItem/part/detail input ends-->
                                            <!--relatedItem/part/detail/number begins-->
                                            <xf:group ref=".[mods:number]">
                                                <xf:input ref="./mods:number" class="text_10">
                                                    <xf:label> &#160; </xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/detail/number ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/detail repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/detail ends-->
                                <!--relatedItem/part/extent begins-->
                                <!--relatedItem/part/extent ends-->
                                <!--relatedItem/part/text begins-->
                                <xf:group ref=".[mods:part/mods:text]">
                                    <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea" mediatype="dojo">
                                        <xf:label>Text</xf:label>
                                    </xf:textarea>
                                </xf:group>
                                <!--relatedItem/part/text ends-->
                            </xf:repeat>
                            <!--relatedItem/part repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-series-identifier" ref=".[mods:identifier]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Identifiers</span>
                                <span class="join-button">
                                    <xf:trigger ref=".[mods:identifier]">
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:identifier" at="index('identifier-series-repeat')" position="after" origin="instance('new-instance')/mods:identifier"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p>Enter here primarily the International Standard Book Number (ISBN) number of the monograph you are cataloguing and/or
                                            its Digital Object Identifier (DOI). </p>
                                        <p>Use the 13-digit version of the ISBN number, if available.</p>
                                        <p>If you have access to any other unique identifier, please record it.</p>
                                    </div>
                                </span>
                            </div>
                            <xf:repeat nodeset="./mods:identifier" id="identifier-series-repeat">
                                <xf:group ref=".[@type]" selection="open">
                                    <xf:select1 ref="./@type">
                                        <xf:label>&#160;</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='identifier-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                </xf:repeat>
                <!--title repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-relatedItem-suebs-tibetan" ref="./mods:extension/*[2][. = 'suebs-tibetan']">
            <fieldset class="level-1">
                <div class="join">
                    <span class="legend">
                        <span class="legend">SUEBS Tibetan</span>
                    </span>
                </div>
                <!--relatedItem repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:relatedItem" id="relatedItem-suebs-tibetan-repeat">
                    <fieldset class="level-2">
                        <div class="join center">
                            <span class="legend">Type</span>
                        </div>
                        <xf:group ref=".[@type]">
                            <xf:select1 ref="./@type">
                                <xf:label>&#160;</xf:label>
                                <xf:hint>
                                    <p> The type field describes the relationship between the resource in Related Item and the resource in the parent record.
                                        Use one of the following values: Host, Constituent, Series, Other Version. "Host" is used to describe a host or parent
                                        resource, for example an periodical in which an article appears or an edited volume in which a contribution belongs.
                                        "Constituent" is used to describe parts of the resource, except information that falls within the scope of the Table Of
                                        Contents element. "Series" is used to describe a named series of which the resource is a part. "Other Version" is used
                                        to describe other versions of the work contained in the resource. </p>
                                </xf:hint>
                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='related-item-type-code']/items/item">
                                    <xf:label ref="label"/>
                                    <xf:value ref="value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                    </fieldset>
                    <fieldset class="level-2">
                        <div class="join center">
                            <span class="legend">XLink</span>
                        </div>
                        <xf:group>
                            <xf:input ref="./@xlink" class="text_50">
                                <xf:label>&#160;</xf:label>
                                <xf:hint>
                                    <p>
                                    The XLink field is used to reference an external resource, such as a second metadata record, a Related Item or a Table Of Contents.
                                </p>
                                </xf:hint>
                            </xf:input>
                        </xf:group>
                    </fieldset>
                    <xf:group id="fieldset-relatedItem-suebs-tibetan-identifier" ref=".[mods:identifier]">
                        <fieldset class="level-2">
                            <div class="join center">
                                <span class="legend">Identifiers</span>
                            </div>
                            <xf:repeat nodeset="./mods:identifier" id="identifier-suebs-tibetan-repeat">
                                <xf:group ref=".[@type]" selection="open">
                                    <xf:select1 ref="./@type">
                                        <xf:label>&#160;</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='identifier-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-suebs-tibetan-titleInfo" ref=".[mods:titleInfo/mods:title]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Title</span>
                            </div>
                            <xf:repeat nodeset="./mods:titleInfo" id="titleInfo-suebs-tibetan-repeat">
                                <xf:group>
                                    <xf:select1 ref="./@lang">
                                        <xf:label>Language</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:select1 ref="./@transliteration">
                                        <xf:label>Transliteration</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='transliteration-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:title" class="text_150">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-suebs-tibetan-part" ref=".[mods:part]">
                        <fieldset class="level-2">
                            <div class="join wide">
                                <span class="legend">Location of Text in Collection</span>
                            </div>
                            <!--relatedItem/part repeat begins-->
                            <xf:repeat nodeset="./mods:part" id="related-item-part-suebs-tibetan-repeat">
                                <!--relatedItem/part input begins-->
                                <!--NB 3.4 adds altRepGroup-->
                                <!--relatedItem/part input ends-->
                                <!--relatedItem/part/detail begins-->
                                <xf:group id="fieldset-relatedItem-suebs-tibetan-detail" ref=".[mods:detail]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Part</span>
                                        </div>
                                        <!--relatedItem/part/detail repeat begins-->
                                        <xf:repeat nodeset="./mods:detail" id="related-item-part-detail-suebs-tibetan-repeat">
                                            <!--relatedItem/part/detail input ends-->
                                            <!--relatedItem/part/detail/number begins-->
                                            <xf:group ref=".[mods:number]">
                                                <xf:input ref="./mods:number" class="text_10">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/detail/number ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/detail repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/detail ends-->
                                <!--relatedItem/part/extent begins-->
                                <xf:group id="fieldset-relatedItem-suebs-tibetan-extent" ref=".[mods:extent]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Page Extent</span>
                                            <div class="xforms-hint-value">
                                                <p> Use this field to indicate from which page and to which page the anthology contribution you are cataloguing
                                                    occurs in the volume (if any) of the anthology noted above. </p>
                                            </div>
                                        </div>
                                        <!--relatedItem/part/extent repeat begins-->
                                        <xf:repeat nodeset="./mods:extent" id="related-item-extent-suebs-tibetan-repeat">
                                            <!--relatedItem/part/extent input begins-->
                                            <!--relatedItem/part/extent input ends-->
                                            <!--relatedItem/part/start begins-->
                                            <xf:group ref=".[mods:start]">
                                                <xf:input ref="./mods:start" class="text_10">
                                                    <xf:label>Start</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/start ends-->
                                            <!--relatedItem/part/end begins-->
                                            <xf:group ref=".[mods:end]">
                                                <xf:input ref="./mods:end" class="text_10">
                                                    <xf:label>End</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/end ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/extent repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/extent ends-->
                                <!--relatedItem/part/text begins-->
                                <xf:group ref=".[mods:part/mods:text]">
                                    <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea" mediatype="dojo">
                                        <xf:label>Text</xf:label>
                                    </xf:textarea>
                                </xf:group>
                                <!--relatedItem/part/text ends-->
                            </xf:repeat>

                            <!--relatedItem/part repeat ends-->
                        </fieldset>
                    </xf:group>
                </xf:repeat>
                <!--title repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-relatedItem-review" ref="./mods:extension/*[2][. = 'book-review-latin']             | ./mods:extension/*[2][. = 'book-review-transliterated']">
            <fieldset class="level-1">
                <div class="join">
                    <span class="legend">Book Review</span>
                    <span class="join-button">
                        <xf:trigger>
                            <xf:label>+</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="instance('save-data')/mods:relatedItem" at="index('relatedItem-name-repeat-review')" origin="instance('compact-template')/mods:relatedItem" position="after"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> The Container information for a book review falls into two parts.</p>
                            <p>The first part is the information regarding where the book review itself has been published. This is the same as cataloguing an
                                article in a periodical. Record the title of the book review itself, regardless of whether or not it contains part of or all of
                                the title, etc. of the monograph being reviewed. This information also falls into two parts: general information on the
                                periodical and information on the specific location of the review in the periodical.</p>
                            <p> The second part relates to the monograph that is reviewed. Follow here the guidelines for cataloguing a monograph on its own. </p>
                            <p> Repeat Book Reviewed as needed, by clicking the '+' button. </p>
                        </div>
                    </span>
                </div>
                <!--relatedItem repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:relatedItem" id="relatedItem-review-repeat">
                    <xf:group id="fieldset-relatedItem-review-titleInfo">
                        <fieldset class="level-2">
                            <div class="join">
                                <xf:group ref=".[@type = 'host']">
                                    <span class="legend">Periodical Title</span>
                                    <span class="xforms-hint">
                                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                        <div class="xforms-hint-value">
                                            <p> Enter here the title of the periodical you are cataloguing. If the title divides into a main title and a
                                                subtitle, enter each part in its separate field. </p>
                                            <p> If the title is in a language that is usually transliterated, enter the transliterated title and subtitle in
                                                their respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                            <p> If you believe it is useful to supply a translation of the title, do so in their relevant fields. Note the
                                                language that the title information is translated into (the default is English). </p>
                                            <p> The language used is only specified if it is different from the language noted in Language of Resource when you
                                                selected the record template. The most common languages have been moved to the top of the list. </p>
                                        </div>
                                    </span>
                                </xf:group>
                                <xf:group ref=".[@type = 'references']">
                                    <span class="legend">Book Reviewed</span>
                                    <span class="xforms-hint">
                                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                        <div class="xforms-hint-value">
                                            <p> Enter here the title of the monograph reviewed in the article you are cataloguing. If the title divides into a
                                                main title and a subtitle, enter each part in its separate field. </p>
                                            <p> If the title is in a language that is usually transliterated, enter the transliterated title and subtitle in
                                                their respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                            <p> If you believe it is useful to supply a translation of the title, do so in their relevant fields. Note the
                                                language that the title information is translated into (the default is English). </p>
                                            <p> The language used is only specified if it is different from the language noted in Language of Resource when you
                                                selected the record template. The most common languages have been moved to the top of the list. </p>
                                        </div>
                                    </span>
                                </xf:group>
                            </div>
                            <xf:repeat nodeset="./mods:titleInfo" id="relatedItem-titleInfo-review-repeat">
                                <!--titleInfo input begins-->
                                <xf:group ref=".[(@transliteration) or string-length(@lang) &gt; 0]">
                                    <br/>
                                </xf:group>
                                <xf:group ref=".[string-length(@lang) &gt; 0]">
                                    <xf:select1 ref="./@lang">
                                        <xf:label>Language</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="./mods:nonSort" class="text_10">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Non Sort</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Non Sort</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                                <xf:input ref="./mods:title" class="text_150">
                                    <xf:label>
                                        <xf:group ref=".[string-length(../@type) = 0]">Title</xf:group>
                                        <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Title</xf:group>
                                        <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Title</xf:group>
                                    </xf:label>
                                </xf:input>
                                <xf:group>
                                    <xf:input ref="./mods:subTitle" class="text_150">
                                        <xf:label>
                                            <xf:group ref=".[string-length(../@type) = 0]">Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Subtitle</xf:group>
                                            <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Subtitle</xf:group>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-name-review">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Names and Roles</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="instance('save-data')/mods:relatedItem/mods:name" at="index('relatedItem-name-repeat-review')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> In Names and Roles, catalogue the names of each person, corporation or conference associated with the resource.</p>
                                        <p> Include as many Names and Roles as needed, by clicking the '+' button. </p>
                                        <p> Choose an appropriate Type of Name for each name, "personal" for personal names, "corporate" for names of
                                            institutions, and "conference" for names of events such as conferences..</p>
                                        <p> Please notice that the role pertaining to a name follows the name in question.</p>
                                        <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <!--name repeat begins-->
                            <xf:repeat nodeset="./mods:name" id="relatedItem-name-repeat-review">
                                <!--namePart begins-->
                                <xf:group id="fieldset-relatedItem-namePart-review">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Name</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Analyse each name into separate name parts.</p>
                                                    <p> If possible, analyse each personal name into Given Name and Family Name. If this is not possible, choose
                                                        "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If a given or family name consists of several parts, enter all parts of the same type in the same
                                                        field.</p>
                                                    <p> If possible, analyse each corporate name and conference name into separate name parts. Record the more
                                                        general designation in the first field and a more specific designation in the second field. If this is
                                                        not possible, choose "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If the name is in a language that is usually transliterated, enter the transliterated name parts in
                                                        their respective fields. Use the transliteration scheme you chose when selecting a record template. </p>
                                                    <p> More input options can be found on the Name Info tab on the Citation Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                        <xf:group>
                                            <xf:select1 ref="./@type">
                                                <xf:label>Type of Name</xf:label>
                                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-type-code']/items/item">
                                                    <xf:label ref="label"/>
                                                    <xf:value ref="value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <!--namePart repeat begins-->
                                        <xf:repeat nodeset="./mods:namePart" id="relatedItem-namePart-review-repeat">
                                            <xf:group>
                                                <xf:select1 ref="./@type" class="right">
                                                    <xf:label>
                                                        <xf:group ref="../[@script='Latn']">Transliterated</xf:group>
                                                        <xf:group ref="../[not(@script='Latn')]">&#160;</xf:group>
                                                    </xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-compact-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--namePart input ends-->
                                        </xf:repeat>
                                        <!--namePart repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--namePart ends-->
                                <!--role begins-->
                                <xf:group id="fieldset-role-review">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Role</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:role" at="index('role-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <div class="xforms-hint-value">
                                                <p> Role contains a description of the role of the person or institution named above to the resource being
                                                    catalogued.</p>
                                                <p> Repeat for each new role played by the named entity, i.e. the same person or institution can have several
                                                    roles in relation to one resource.</p>
                                                <p> The more common roles are listed at the top.</p>
                                                <p> More role input options can be found on the Name Info tab on the Citation Forms.</p>
                                            </div>
                                        </div>
                                        <!--role repeat begins-->
                                        <xf:repeat nodeset="./mods:role" id="relatedItem-review-role-repeat">
                                            <!--role input begins-->
                                            <!--DLF/Aquifer: RECOMMENDED]-->
                                            <!--Cluster: warn-->
                                            <!--roleTerm begins-->
                                            <!--DLF/Aquifer: OPTIONAL-->
                                            <!--Cluster: include-->
                                            <!--role node-add begins-->
                                            <!--roleTerm repeat begins-->
                                            <xf:repeat nodeset="./mods:roleTerm" id="relatedItem-review-roleTerm-repeat">
                                                <!--roleTerm input begins-->
                                                <!--DLF/Aquifer: REQUIRED]-->
                                                <!--Cluster: require-->
                                                <xf:group>
                                                    <xf:select1 ref=".">
                                                        <xf:label>&#160;</xf:label>
                                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='role-short-code']/items/item">
                                                            <xf:label ref="label"/>
                                                            <xf:value ref="value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <!--roleTerm input ends-->
                                            </xf:repeat>
                                            <!--roleTerm repeat ends-->
                                            <!--roleTerm ends-->
                                            <!--role input ends-->
                                        </xf:repeat>
                                        <!--role repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--role ends-->
                            </xf:repeat>
                            <!--name repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-review-originInfo">
                        <fieldset class="level-2">
                            <div class="join wide">
                                <span class="legend">Anthology Origin Information</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Information about the origin of the resource, including its place of origin or publication, publisher/originator,
                                            and the dates associated with the resource. </p>
                                    </div>
                                </span>
                            </div>
                            <!--originInfo repeat begins-->
                            <xf:repeat nodeset="./mods:originInfo" id="relatedItem-origininfo-review-repeat">
                                <!--originInfo input begins-->
                                <xf:group id="fieldset-relatedItem-review-place">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">City Name</span>
                                        </div>
                                        <!--place repeat begins-->
                                        <xf:repeat nodeset="./mods:place" id="relatedItem-place-review-repeat">
                                            <!--place input begins-->
                                            <!--place input ends-->
                                            <!--placeTerm begins-->
                                            <xf:group id="fieldset-relatedItem-review-placeTerm">
                                                <fieldset class="level-3">
                                                    <!--placeTerm repeat begins-->
                                                    <xf:repeat nodeset="./mods:placeTerm" id="relatedItem-place-term-review-repeat">
                                                        <!--placeTerm input begins-->
                                                        <xf:group>
                                                            <xf:input ref="." class="text_100">
                                                                <xf:label>&#160;</xf:label>
                                                            </xf:input>
                                                        </xf:group>
                                                        <!--placeTerm input ends-->
                                                        <!--placeTerm delete begins-->
                                                        <!--placeTerm delete ends-->
                                                    </xf:repeat>
                                                    <!--placeTerm repeat ends-->
                                                    <!--placeTerm add begins-->
                                                    <!--placeTerm add ends-->
                                                </fieldset>
                                            </xf:group>
                                            <!--placeTerm ends-->
                                        </xf:repeat>
                                        <!--place repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--place ends-->
                                <!--publisher begins-->
                                <xf:group id="fieldset-relatedItem-review-publisher">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Publisher</span>
                                        </div>
                                        <!--publisher repeat begins-->
                                        <xf:repeat nodeset="./mods:publisher" id="relatedItem-publisher-review-repeat">
                                            <!--publisher input begins-->
                                            <xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--publisher input ends-->
                                        </xf:repeat>
                                        <!--publisher repeat ends-->
                                        <!--publisher add begins-->
                                        <!--publisher add ends-->
                                    </fieldset>
                                </xf:group>
                                <!--publisher ends-->
                                <!--dateIssued begins-->
                                <xf:group id="fieldset-relatedItem-review-dateIssued">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Year of Publication</span>
                                        </div>
                                        <!--dateIssued repeat begins-->
                                        <xf:repeat nodeset="./mods:dateIssued" id="relatedItem-date-issued-review-repeat">
                                            <!--dateIssued input begins-->
                                            <xf:group>
                                                <xf:select1 ref="./@point">
                                                    <xf:label>Point</xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-point-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                            <!--Cluster: hide-->
                                            <xf:group>
                                                <xf:input ref="." class="text_10">
                                                    <xf:label>Year</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--dateIssued input ends-->
                                        </xf:repeat>
                                        <!--dateIssued repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--dateIssued ends-->
                            </xf:repeat>
                            <!--originInfo repeat ends-->
                            <!--originInfo add begins-->
                            <!--originInfo add ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-review-part" ref=".[@type='host']">
                        <fieldset class="level-2">
                            <div class="join wide">
                                <span class="legend">Location of Article in Periodical</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Note here in which volume and issue and on which pages the article you are cataloguing occurs in the periodical.</p>
                                    </div>
                                </span>
                            </div>
                            <!--relatedItem/part repeat begins-->
                            <xf:repeat nodeset="./mods:part" id="related-item-part-review-repeat">
                                <!--relatedItem/part input begins-->
                                <!--relatedItem/part input ends-->
                                <!--relatedItem/part/detail begins-->
                                <xf:group id="fieldset-relatedItem-review-detail" ref=".[mods:detail]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Volume and Issue</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                            </span>
                                        </div>
                                        <!--relatedItem/part/detail repeat begins-->
                                        <xf:repeat nodeset="./mods:detail" id="related-item-part-detail-review-repeat">
                                            <!--relatedItem/part/detail input ends-->
                                            <!--relatedItem/part/detail/number begins-->
                                            <xf:group ref=".[mods:number]">
                                                <xf:input ref="./mods:number" class="text_10">
                                                    <xf:label>
                                                        <xf:output ref="./../@type"/>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/detail/number ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/detail repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/detail ends-->
                                <!--relatedItem/part/date begins-->
                                <xf:group id="fieldset-relatedItem-review-date" ref=".[mods:date]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">
                                                <span class="legend">Year of Issue</span>
                                            </span>
                                        </div>
                                        <!--relatedItem/part/date repeat begins-->
                                        <xf:repeat nodeset="./mods:date" id="related-item-part-date-review-repeat">
                                            <div class="block-form">
                                                <!--relatedItem/part/date input begins-->
                                                <xf:group ref=".">
                                                    <xf:input ref="." class="text_10">
                                                        <xf:label>Year</xf:label>
                                                    </xf:input>
                                                </xf:group>
                                                <!--relatedItem/part/date input ends-->
                                            </div>
                                        </xf:repeat>
                                        <!--relatedItem/part/date repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/date ends-->
                                <!--relatedItem/part/extent begins-->
                                <xf:group id="fieldset-relatedItem-review-extent" ref=".[mods:extent]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Page Extent</span>
                                            <div class="xforms-hint-value">
                                                <p> Use this field to indicate from which page and to which page the article you are cataloguing occurs in the
                                                    volume and issue number of the periodical noted above. </p>
                                            </div>
                                        </div>
                                        <!--relatedItem/part/extent repeat begins-->
                                        <xf:repeat nodeset="./mods:extent" id="related-item-extent-review-repeat">
                                            <!--relatedItem/part/extent input begins-->
                                            <!--relatedItem/part/extent input ends-->
                                            <!--relatedItem/part/start begins-->
                                            <xf:group ref=".[mods:start]">
                                                <xf:input ref="./mods:start" class="text_10">
                                                    <xf:label>Start</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/start ends-->
                                            <!--relatedItem/part/end begins-->
                                            <xf:group ref=".[mods:end]">
                                                <xf:input ref="./mods:end" class="text_10">
                                                    <xf:label>End</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--relatedItem/part/end ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part/extent repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--relatedItem/part/extent ends-->
                                <!--relatedItem/part/text begins-->
                                <xf:group ref=".[mods:part/mods:text]">
                                    <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea" mediatype="dojo">
                                        <xf:label>Text</xf:label>
                                    </xf:textarea>
                                </xf:group>
                                <!--relatedItem/part/text ends-->
                            </xf:repeat>
                            <!--relatedItem/part repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-physicalDescription-review" ref=".[@type='references']">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Physical Description</span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> In this compact input format, only the Internet Media Type and the Extent of the publication are noted in Physical
                                            Description.</p>
                                        <p> More input options can be found on the Physical Description tab on the Citation Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <!--physicalDescription repeat begins-->
                            <xf:repeat nodeset="instance('save-data')/mods:relatedItem/mods:physicalDescription" id="physicalDescription-review-repeat">
                                <!--internetMediaType begins-->
                                <xf:group id="fieldset-internetMediaType" ref=".[mods:internetMediaType]">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Internet Media Type</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Use this field if the resource is electronic. An identification of the electronic format type, or the
                                                        data representation of the resource. Internet Media Type specifies the electronic format type, such as
                                                        text/html, ASCII, Postscript file, executable application or JPEG image.</p>
                                                </div>
                                            </span>
                                        </div>
                                        <!--internetMediaType repeat begins-->
                                        <xf:repeat nodeset="./mods:internetMediaType" id="internetMediaType-repeat">
                                            <!--internetMediaType input begins-->
                                            <xf:group ref=".">
                                                <xf:select1 ref=".">
                                                    <xf:label>&#160;</xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='internet-media-type-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                            <!--internetMediaType input ends-->
                                        </xf:repeat>
                                        <!--internetMediaType repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--internetMediaType ends-->
                                <!--extent begins-->
                                <xf:group id="fieldset-extent" ref=".[mods:extent]">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Extent</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> A statement of the number and specific material of the units of the resource that express physical
                                                        extent. A typical entry for a monograph might read "xiv, 213 p."</p>
                                                    <p> Extent may be used with electronic resources, e.g. digitised collection of slides, to show how many
                                                        slides constitute the resource. </p>
                                                </div>
                                            </span>
                                        </div>
                                        <!--extent repeat begins-->
                                        <xf:repeat nodeset="./mods:extent" id="extent-repeat">
                                            <!--extent input begins-->
                                            <xf:group ref=".">
                                                <xf:input ref="." class="text_10">
                                                    <xf:label>&#160;</xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <!--extent input ends-->
                                        </xf:repeat>
                                        <!--extent repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--extent ends-->
                            </xf:repeat>
                            <!--physicalDescription repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-review-identifier" ref=".[mods:identifier]">
                        <fieldset class="level-3">
                            <div class="join">
                                <span class="legend">Identifiers</span>
                                <span class="join-button">
                                    <xf:trigger ref=".[mods:identifier]">
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:identifier" at="index('identifier-review-repeat')" position="after" origin="instance('new-instance')/mods:identifier"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p>Enter here primarily the International Standard Book Number (ISBN) number of the monograph being reviewed and/or its
                                            Digital Object Identifier (DOI). </p>
                                        <p>Use the 13-digit version of the ISBN number, if available.</p>
                                        <p>If you have access to any other unique identifier, please record it.</p>
                                    </div>
                                </span>
                            </div>
                            <xf:repeat nodeset="./mods:identifier" id="identifier-review-repeat">
                                <xf:group ref=".[@type]" selection="open">
                                    <xf:select1 ref="./@type">
                                        <xf:label>&#160;</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='identifier-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-relatedItem-review" ref=".[@type='references']">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">
                                    <span class="legend">Book Series</span>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Enter here information related to the book series that the book you are cataloguing occurs in. This information
                                            falls into two groups: general information on the book series and specific information on the location of the book
                                            in the book series.</p>
                                    </div>
                                </span>
                            </div>
                            <!--relatedItem repeat begins-->
                            <xf:repeat nodeset="./mods:relatedItem" id="relatedItem-relatedItem-series-repeat">
                                <xf:group id="fieldset-relatedItem-relatedItem-series-titleInfo">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Series Title</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Enter here the title of the series you are cataloguing. If the title divides into a main title and a
                                                        subtitle, enter each part in its separate field. </p>
                                                    <p> If the title is in a language that is usually transliterated, enter the transliterated title and
                                                        subtitle in their respective fields. Use the transliteration scheme you chose when selecting a record
                                                        template. </p>
                                                    <p> If you believe it is useful to supply a translation of the title, do so in their relevant fields. Note
                                                        the language that the title information is translated into (the default is English). </p>
                                                    <p> The language used is only specified if it is different from the language noted in Language of Resource
                                                        when you selected the record template. The most common languages have been moved to the top of the list.
                                                    </p>
                                                </div>
                                            </span>
                                        </div>
                                        <xf:repeat nodeset="./mods:titleInfo" id="titleInfo-relatedItem-relatedItem-series-repeat">
                                            <!--titleInfo input begins-->
                                            <xf:group ref=".[(@transliteration) or string-length(@lang) &gt; 0]">
                                                <br/>
                                            </xf:group>
                                            <xf:group ref=".[string-length(@lang) &gt; 0]">
                                                <xf:select1 ref="./@lang">
                                                    <xf:label>Language</xf:label>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-short-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                            <xf:group>
                                                <xf:input ref="./mods:title" class="text_150">
                                                    <xf:label>
                                                        <xf:group ref=".[string-length(../@type) = 0]">Title</xf:group>
                                                        <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Title</xf:group>
                                                        <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Title</xf:group>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                            <xf:group>
                                                <xf:input ref="./mods:subTitle" class="text_150">
                                                    <xf:label>
                                                        <xf:group ref=".[string-length(../@type) = 0]">Subtitle</xf:group>
                                                        <xf:group ref=".[../@type='translated' and not(../@lang)]">Transliterated Subtitle</xf:group>
                                                        <xf:group ref=".[../@type='translated' and (../@lang)]">Translated Subtitle</xf:group>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group id="fieldset-relatedItem-relatedItem-series-part">
                                    <fieldset class="level-2">
                                        <div class="join wide">
                                            <span class="legend">Location of Anthology in Book Series</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Use this field to indicate the volume of the series that the anthology you are cataloguing occurs in.
                                                    </p>
                                                </div>
                                            </span>
                                        </div>
                                        <!--relatedItem/part repeat begins-->
                                        <xf:repeat nodeset="./mods:part" id="part-relatedItem-relatedItem-series-repeat">
                                            <!--relatedItem/part input begins-->
                                            <!--relatedItem/part input ends-->
                                            <!--relatedItem/part/detail begins-->
                                            <xf:group id="fieldset-relatedItem-relatedItem-series-detail" ref=".[mods:detail]">
                                                <fieldset class="level-3">
                                                    <div class="join">
                                                        <span class="legend">Volume</span>
                                                        <span class="xforms-hint">
                                                            <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                            <div class="xforms-hint-value">
                                                                <p> Use this field to indicate the volume the anthology that the anthology contribution you are
                                                                    cataloguing occurs in. </p>
                                                            </div>
                                                        </span>
                                                    </div>
                                                    <!--relatedItem/part/detail repeat begins-->
                                                    <xf:repeat nodeset="./mods:detail" id="detail-relatedItem-relatedItem-series-repeat">
                                                        <!--relatedItem/part/detail input ends-->
                                                        <!--relatedItem/part/detail/number begins-->
                                                        <xf:group ref=".[mods:number]">
                                                            <xf:input ref="./mods:number" class="text_10">
                                                                <xf:label>
                                                                    <xf:label>&#160;</xf:label>
                                                                </xf:label>
                                                            </xf:input>
                                                        </xf:group>
                                                        <!--relatedItem/part/detail/number ends-->
                                                    </xf:repeat>
                                                    <!--relatedItem/part/detail repeat ends-->
                                                </fieldset>
                                            </xf:group>
                                            <!--relatedItem/part/detail ends-->
                                            <!--relatedItem/part/extent begins-->

                                            <!--relatedItem/part/extent ends-->
                                            <!--relatedItem/part/text begins-->
                                            <xf:group ref=".[mods:part/mods:text]">
                                                <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea" mediatype="dojo">
                                                    <xf:label>Text</xf:label>
                                                </xf:textarea>
                                            </xf:group>
                                            <!--relatedItem/part/text ends-->
                                        </xf:repeat>
                                        <!--relatedItem/part repeat ends-->
                                    </fieldset>
                                </xf:group>
                            </xf:repeat>
                            <!--title repeat ends-->
                        </fieldset>
                    </xf:group>
                </xf:repeat>
                <!--title repeat ends-->
            </fieldset>
        </xf:group>
        <xf:group id="fieldset-relatedItem-anthology-xlink" ref=".[mods:relatedItem/@xlink[string-length(.) = 41]]">
            <fieldset class="level-1">
                <div class="join">
                    <span class="legend">Related Items</span>
                    <span class="join-button">
                        <xf:trigger>
                            <xf:label>&#160;+</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:relatedItem" at="index('relatedItem-repeat')" position="after"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="join-button">
                        <xf:trigger>
                            <xf:label>&#160;–</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem" at="index('relatedItem-repeat')"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> Information that identifies other resources related to the one being described. </p>
                        </div>
                    </span>
                </div>            
        <!--relatedItem repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:relatedItem" id="relatedItem-repeat">
                <!--relatedItem node-add begins-->
                <!--NB: attributes do not work-->
                    <xf:group ref=".[not(mods:part)]">
                        <xf:switch>
                            <xf:case id="relatedItem-add-node-hide">
                                <div class="node-adds-title">
                                    <xf:trigger class="add-button">
                                        <xf:label class="xforms-group-label-centered">Show Additional Fields</xf:label>
                                        <xf:toggle case="relatedItem-add-node-unhide" ev:event="DOMActivate"/>
                                    </xf:trigger>
                                </div>
                            </xf:case>
                            <xf:case id="relatedItem-add-node-unhide">
                                <div class="node-adds-title">
                                    <xf:trigger>
                                        <xf:label class="xforms-group-label-centered">Hide Additional Fields</xf:label>
                                        <xf:toggle case="relatedItem-add-node-hide" ev:event="DOMActivate"/>
                                    </xf:trigger>
                                </div>
                                <div class="node-adds">
                                    <xf:group id="relatedItem-add-node-recommended" ref=".[not(mods:part)]">
                                    <!--<xf:label class="xforms-group-label-centered">Recommended Fields</xf:label>-->
                                        <xf:trigger ref=".[not(mods:part)]" class="add-button">
                                            <xf:label class="xforms-group-label-centered">Add Part</xf:label>
                                            <xf:action ev:event="DOMActivate">
                                                <xf:toggle case="relatedItem-add-node-hide" ev:event="DOMActivate"/>
                                                <xf:insert nodeset="mods:relatedItemPart" at="index('relatedItem-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:part"/>
                                            </xf:action>
                                        </xf:trigger>
                                    </xf:group>
                                </div>
                            </xf:case>
                        </xf:switch>
                    </xf:group>
                <!--relatedItem node-add ends-->
                <!--relatedItem input begins-->
                <!--DLF/Aquifer: OPTIONAL-->
                <!--Cluster: omit-->
                    <xf:group ref=".[@ID]">
                        <xf:input ref="./@ID" class="text_50">
                            <xf:label>ID: </xf:label>
                            <xf:hint>
                                <p> This field is used to link among records inside the database and to reference an element inside the database from the outside. The UID of the record as a whole is noted in mods:identifier type="local". </p>
                            </xf:hint>
                        </xf:input>
                    </xf:group>
                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                <!--Cluster: require-->
                        <!-- Use the xlink:href field to link to external resources. These guidelines recommend that this field, when used, contain the URI of a MODS record or an OAI GetRecord request, if available, for a related resource. The 'info' URI scheme supported by the Library of Congress can also be used to encode an external link here using an LCCN or DOI (see http://www.loc.gov/standards/uri/info.html for more information). These guidelines also recommend that no subelements appear under <relatedItem> when this field is used. -->
                <!--DLF/Aquifer: REQUIRED-->
                <!--Cluster: include-->
                    <xf:group ref=".[@type]">
                        <xf:select1 ref="./@type">
                            <xf:label>Type:</xf:label>
                            <xf:hint>
                                <p> The type field describes the relationship between the resource in Related Item and the resource in the parent record. Use one
                        of the following values: Host, Constituent, Series, Other Version. "Host" is used to describe a host or parent resource, for example a
                        book or periodical in which an article appears or a collection in which an item belongs. "Constituent" is used to describe parts of the
                        resource, except information that falls within the scope of the Table Of Contents element. "Series" is used to describe a named series
                        of which the resource is a part. "Other Version" is used to describe other versions of the work contained in the resource. </p>
                            </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='related-item-type-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                    </xf:group>
                    <xf:group ref=".[@xlink]">
                        <xf:input ref="./@xlink" class="text_50">
                            <xf:label>XLink: </xf:label>
                            <xf:hint>
                                <p>
                                    The XLink field is used to reference an external resource, such as a second metadata record, a Related Item or a Table Of Contents.
                    </p>
                            </xf:hint>
                        </xf:input>
                    </xf:group>
                <!--DLF/Aquifer: OPTIONAL-->
                <!--Cluster: omit-->
                    <xf:group ref=".[@displayLabel]">
                        <xf:input ref="./@displayLabel" class="text_100">
                            <xf:label>Display Label: </xf:label>
                            <xf:hint>
                                <p> This field is intended to be used when additional text associated with the title is needed for display. The Display Label field may be used whenever appropriate to indicate the preferred labeling when displayed by a metadata aggregator. Appropriate cases include titles other than the primary title or subtitle. Include the text preferred and capitalisation, but do not include delimiters such as colons. </p>
                            </xf:hint>
                        </xf:input>
                    </xf:group>
                <!--relatedItem/part begins-->
                <!-- The DLF/Aquifer Implementation Guidelines for Shareable MODS Records recommend that the part element be used in cases where the part of a resource being represented is a physical or structural part of another resource. Examples include an issue of a journal or a single story from a collection. This element is repeatable. -->
                    <xf:group id="fieldset-relatedItem-titleInfo" ref=".[mods:titleInfo]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Title Information</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert ev:event="DOMActivate" nodeset="mods:titleInfo" at="index('relatedItem-titleInfo-repeat')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;–</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:delete nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo" at="index('relatedItem-titleInfo-repeat')"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> At least one Title inside a Title Information is required. Title Information can be repeated for alternative,
                                        translated, transliterated or uniform titles. These values are chosen in Type. For the basic Title Information entry,
                                        leave Type blank or use the value "Basic Title Information". If, in addition to the basic title, you also wish to record
                                        an alternative, translated, transliterated or uniform title, add a Title Information and choose the relevant Type.
                                        Repeat Title Information as many times as necessary. </p>
                                        <p> A Title Information consists of a main Title, plus a number of supplementary fields that relate to it. A Title may have
                                        a Subtitle, usually an expansion of the Title proper. If the Title begins with a word according to which it should not
                                        be sorted (such as "The" or "A" and the like), enter this word in Non Sort and remove it from Title. If a publication
                                        consists of several parts, parts that are either numbered or named, use Part Number and/or Part Name. "A History of
                                        Philosophy" may have several numbered parts, such as "Part One. Ancient Greek Philosophy." Enter "Part One" in Part
                                        Number and "Ancient Greek Philosophy" in Part Name. </p>
                                        <p> When no title appears on the item being described, a title should be supplied. Use Display Label to indicate that the
                                        title is supplied, by giving it the value "Supplied Title". A supplied title should be created in accordance with an
                                        established standard and describe, as concisely as possible, the content of the resource in question. If no standards
                                        apply, consider carefully the expectations users have for the naming of similar resources. </p>
                                        <p> If an alternative, translated or transliterated title is recorded, choose the relevant Type for each separate Title
                                        Information. </p>
                                        <p> If a uniform or an abbreviated title is recorded, choose the appropriate value in Type and note in which authority file
                                        the uniform or abbreviated title in Authority has been found. Authority files are only used in connection with uniform
                                        and abbreviated titles. </p>
                                        <p> Record the language of the Title Information by choosing the language used in the resource, if this is different from
                                        the language noted in Language of Resource, a field describing the language of the resource as a whole. The Language of
                                        Resource was selected when opening the editor; it may be modified in the Resource Languages tab.</p>
                                    </div>
                                </span>
                            </div>
                        <!--titleInfo repeat begins-->
                            <xf:repeat nodeset="./mods:titleInfo" id="relatedItem-titleInfo-repeat">
                            <!--titleInfo node-add begins-->
                                <xf:group ref=".[not(mods:nonSort)] | .[not(mods:title)] | .[not(mods:subTitle)] | .[not(mods:partNumber)] | .[not(mods:partName)]">
                                    <xf:switch>
                                        <xf:case id="titleInfo-add-node-hide">
                                            <div class="node-button">
                                                <xf:trigger class="add-button">
                                                    <xf:label>&#160;&gt;</xf:label>
                                                    <xf:toggle case="titleInfo-add-node-unhide" ev:event="DOMActivate"/>
                                                </xf:trigger>
                                            </div>
                                        </xf:case>
                                        <xf:case id="titleInfo-add-node-unhide">
                                            <div class="node-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;&lt;</xf:label>
                                                    <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                </xf:trigger>
                                            </div>
                                            <div class="node-adds">
                                                <xf:group id="titleInfo-add-node-recommended" ref=".[not(mods:nonSort)] | .[not(mods:title)] | .[not(mods:subTitle)] | .[not(mods:partNumber)] | .[not(mods:partName)]">
                                                    <xf:label class="xforms-group-label-centered">Recommended Fields</xf:label>
                                                    <xf:trigger ref=".[not(@type)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Type</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@type"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@authority"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@lang)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Language</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@lang"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@transliteration)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Transliteration</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@transliteration"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@script)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Script</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@script"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:nonSort)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Non Sort</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:nonSort" at="index('relatedItem-titleInfo-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/mods:nonSort"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:title)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Title</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:title" at="index('relatedItem-titleInfo-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/mods:title"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:subTitle)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Subtitle</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:subTitle" at="index('relatedItem-titleInfo-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/mods:subTitle"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:partNumber)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Part Number</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:partNumber" at="index('relatedItem-titleInfo-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/mods:partNumber"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:partName)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Part Name</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:partName" at="index('relatedItem-titleInfo-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/mods:partName"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                </xf:group>
                                                <xf:group id="titleInfo-add-node-optional">
                                                    <xf:label class="xforms-group-label-centered">Optional Fields</xf:label>
                                                    <xf:trigger ref=".[not(@displayLabel)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Display Label</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@displayLabel"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                </xf:group>
                                            <!--
                                        <xf:group id="titleInfo-add-node-not-recommended">
                                        <xf:label class="xforms-group-label-centered">Deprecated Fields</xf:label>
                                        <xf:trigger ref=".[not(@ID)]" class="add-button">
                                        <xf:label class="xforms-group-label-centered">Add ID</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                        <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                        <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@ID"/>
                                        </xf:action>
                                        </xf:trigger>
                                        <xf:trigger ref=".[not(@xlink)]" class="add-button">
                                        <xf:label class="xforms-group-label-centered">Add XLink</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                        <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                        <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@xlink"/>
                                        </xf:action>
                                        </xf:trigger>
                                        <xf:trigger ref=".[not(@xml:lang)]" class="add-button">
                                        <xf:label class="xforms-group-label-centered">Add xml:lang</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                        <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                        <xf:insert context="." origin="instance('insert-templates')/mods:relatedItem/mods:titleInfo/@xml:lang"/>
                                        </xf:action>
                                        </xf:trigger>
                                        </xf:group> </xf:group> 
                                    -->
                                            </div>
                                        </xf:case>
                                    </xf:switch>
                                </xf:group>
                            <!--titleInfo node-add ends-->
                            <!--titleInfo input begins-->
                            <!--DLF/Aquifer: OPTIONAL-->
                            <!--Cluster: omit-->
                                <xf:group ref=".[@ID]">
                                    <xf:input ref="./@ID" class="text_50">
                                        <xf:label>ID</xf:label>
                                        <xf:hint>
                                            <p> ID is used to link among records inside the database and to reference a field inside the database from the outside.
                                        </p>
                                        </xf:hint>
                                    </xf:input>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/><xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@ID" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                            <!--Cluster: omit-->
                                <xf:group ref=".[@xlink]">
                                    <xf:input ref="./@xlink" class="text_50">
                                        <xf:label>XLink</xf:label>
                                        <xf:hint>
                                            <p> XLink is used to reference an external resource, such as a second metadata record, a Related Item or a Table Of
                                            Contents. </p>
                                        </xf:hint>
                                    </xf:input>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@xlink" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                            <!--Cluster: include-->
                                <xf:group ref=".[@type]">
                                    <xf:select1 ref="./@type">
                                        <xf:label>Type</xf:label>
                                        <xf:hint>
                                            <p> Type identifies what type of Title Information is recorded. The default is Basic Title Information. The following
                                            values may be used in addition to this: Abbreviated, Translated, Transliterated <!--NB: addition to MODS!!!-->,
                                            Alternative, and Uniform. </p>
                                            <p> When an abbreviated title is present, an Authority must be chosen. An alternative title may be a parallel title
                                            found in the authoritative title information (in written works, typically the title page) or a title that does not
                                            occur in the authoritative title information, e.g. a title found on a cover. If the alternative title does not occur
                                            in the authoritative title information, indicate in Display Label where the information comes from (e.g., "Cover
                                            Title"). If the alternative title occurs in the authoritative title information, it can e.g. be a translation or a
                                            transliteration of the main title information. If a translated or a transliterated title occurs in the authoritative
                                            title information of the work being catalogued, choose "Alternative" for Type and note the language, transliteration
                                            and script of the title information, as appropriate, if this is different from the language noted in Language of
                                            Resource. If this is not the case and you have e.g. supplied the translation or transliteration yourself, choose
                                            "Translated" or "Transliterated" for Type and note the language, transliteration and script of the title
                                            information, as appropriate. </p>
                                            <p> A uniform title is a title that refers uniformly to a work that is known by several titles, e.g. the works of
                                            Shakespeare or the Bible. When a uniform title is present, an Authority for its selection must be chosen. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='title-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                            <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                            <!--Cluster: include-->
                                <xf:group ref=".[@type='abbreviated']">
                                    <xf:select1 ref="./@authority">
                                        <xf:label>Authority</xf:label>
                                        <xf:hint>
                                            <p> The name of the authoritative list for an abbreviated title is recorded here. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='abbreviated-title-authority-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@authority" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                            <!--Cluster: include-->
                                <xf:group ref=".[@type='uniform']">
                                    <xf:select1 ref="./@authority" selection="open">
                                        <xf:label>Authority</xf:label>
                                        <xf:hint>
                                            <p> The name of the authoritative list for a uniform title is recorded here. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-title-authority-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@authority" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: REQUIRED IF APPLICABLE-->
                            <!--Cluster: include-->
                                <xf:group ref=".[@lang]">
                                    <xf:select1 ref="./@lang">
                                        <xf:label>Language</xf:label>
                                        <xf:hint>
                                            <p> The language used within Title Information is specified here, if this language is different from the language noted
                                            in Language of Resource. The most common languages have been moved to the top of the list. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@lang" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: NOT RECOMMENDED]-->
                            <!--Cluster: omit-->
                                <xf:select1 ref="./@xml:lang">
                                    <xf:label>xml:lang</xf:label>
                                    <xf:hint>
                                        <p> The language used within Title Information is specified here, if this language is different from the language noted in
                                        Language of Resource. xml:lang is used to specify the language used within a field, using specifications in RFC 3066.
                                        RFC 3066 uses the two-character ISO 639-1 codes along with three-character ISO 639-2 codes for those languages not given
                                        in 639-1. </p>
                                        <p> The recommendation is not to use xml:lang, but to use the Language. </p>
                                    </xf:hint>
                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-2-type-code']/items/item">
                                        <xf:label ref="label"/>
                                        <xf:value ref="value"/>
                                    </xf:itemset>
                                </xf:select1>
                            <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@xml:lang" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->

                            <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]-->
                            <!--Cluster: include-->
                                <xf:group ref=".[@type='transliterated']">
                                    <xf:select1 ref="./@transliteration" selection="open">
                                        <xf:label>Transliteration</xf:label>
                                        <xf:hint>
                                            <p> Transliteration specifies the transliteration (transcription, romanisation) scheme used within Title Information.
                                            When specificing the transliteration used, also specify the language employed. There is at present no standard list
                                            of transliteration schemes available. If you wish to employ a transliteration on the scheme, please contact
                                            <!--contact -->. In general, the Library of Congress transliteration schemes (<!-- NB -->) should be used. If you
                                            follow a transliteration scheme authorised by <!--NB-->, choose <!--NB--> as the value and note the language from
                                            which the transliteration is made. The following transliteration schemes are authorised by <!--NB-->: Chinese:
                                            pinyin Japanese: (modified) Hepburn Korean: <!--NB--> Russian: <!--NB--> Sanskrit: <!--NB--> If you employ a
                                            different, but recognised, transliteration scheme, you may have it added to the list. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='transliteration-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@transliteration" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]-->
                            <!--Cluster: include-->
                                <xf:group ref=".[not(@type='transliterated')] and ./@script">
                                    <xf:select1 ref="./@script">
                                        <xf:label>Script</xf:label>
                                        <xf:hint>
                                            <p> Script specifies the script used within individual fields. The use of Latin script is not noted. "Chinese" is "Han
                                            (Simplified Variant)" or "Han (Traditional Variant)". If the two variants are not considered, it is "Han (Hanzi,
                                            Kanji, Hanja)", also used for Japanese, Korean and Vietnamese written in Chinese. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='script-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@script" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: OPTIONAL]]-->
                            <!--Cluster: hide-->
                                <xf:group ref=".[@displayLabel]">
                                    <xf:input ref="./@displayLabel" class="text_100">
                                        <xf:label>Display Label</xf:label>
                                        <xf:hint>
                                            <p> Display Label is intended to be used when additional text associated with the title is needed for display. Display
                                            Label may be used whenever appropriate to indicate the preferred labeling when displayed. Appropriate cases include
                                            titles other than the primary title or subtitle. Include the text preferred and capitalisation, but do not include
                                            delimiters such as colons. </p>
                                        </xf:hint>
                                    </xf:input>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/@displayLabel" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: N/A]]-->
                            <!--Cluster: hide-->
                                <xf:group ref=".[@nameTitleGroup]">
                                    <xf:select1 ref="./@nameTitleGroup" selection="open">
                                        <xf:label>Name-Title Group</xf:label>
                                        <xf:hint> Name-Title Group that can be used with Name and Title Information to enable an explicit link between a name and a
                                        title when that is desirable. The same value is assigned to this attribute for the two elements. This attribute is used
                                        to link names to uniform titles when the name-uniform title combination is an authority controlled heading. </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='nameTitleGroup-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                <!-- <xf:trigger class="delete-button"> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/><xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:name/@altRepGroup" at="index('name-repeat')"/> </xf:trigger> -->
                                </xf:group>
                            <!--DLF/Aquifer: N/A]]-->
                            <!--Cluster: hide-->
                                <xf:group ref=".[@usage]">
                                    <xf:select1 ref="./@usage">
                                        <xf:label>Usage</xf:label>
                                        <xf:hint>
                                            <p>Usage with the value "primary" can be used with repeated fields to indicate special prominence of one that is useful
                                            for various special purposes such as indexing.</p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='usage-type-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                <!-- <xf:trigger class="delete-button"> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/><xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:name/@usage" at="index('name-repeat')"/> </xf:trigger> -->
                                </xf:group>
                            <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]]-->
                            <!--Cluster: hide-->
                                <xf:group class="group" ref=".[mods:nonSort]">
                                    <xf:input ref="./mods:nonSort" class="text_10">
                                        <xf:label>Non Sort</xf:label>
                                        <xf:hint>
                                            <p> Non Sort contains characters, including initial articles (typically "A" and "The" in English), punctuation, and
                                            spaces that appear at the beginning of a title that should be ignored when indexing and sorting. </p>
                                        </xf:hint>
                                    </xf:input>
                                <!-- 
                        <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/mods:nonSort" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: [REQUIRED]-->
                            <!--Cluster: require-->
                                <xf:group>
                                    <xf:textarea ref="./mods:title" class="textarea" mediatype="dojo">
                                        <xf:label>Title</xf:label>
                                        <xf:hint>
                                            <p> Title contains the core title of the resource catalogued. </p>
                                            <p> At least one Title is required. When no title appears on the item being described, a title should be supplied. </p>
                                            <p> Title includes all parts of a title that are not covered by Non Sort, Subtitle, Part Number and Part Name. </p>
                                            <p> Dates may be recorded under Title or Subtitle only if they are part of the title. Publication dates are included
                                            under Origin Information. </p>
                                            <p> For parallel titles, i.e., equivalent titles in different languages that have not been translated by the cataloguer,
                                            add a Title Information and enter the Title there with the Type "Alternative" for each parallel title. Note the
                                            language, script and transliteration of each title. </p>
                                            <p> For a title translated or transcribed by the cataloguer, add a Title Information and enter the Title there with the
                                            Type "Translated" or "Transliterated" for each title. Note the language, script and transliteration of each title
                                            added in this way. </p>
                                            <p> For abbreviated titles, add a Title Information block and enter the Title there with the Type "Abbreviated" for each
                                            parallel title. </p>
                                            <p> For uniform titles, i.e., titles with various renderings that are unified by an authority file, add a Title
                                            Information and enter the Title there with the Type "Uniform". Under each uniform title, state the Authority
                                            according to which the uniform title has been selected. </p>
                                        </xf:hint>
                                    </xf:textarea>
                                </xf:group>
                            <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]-->
                            <!--Cluster: include-->
                                <xf:group ref=".[mods:subTitle]">
                                    <xf:textarea ref="./mods:subTitle" class="textarea" mediatype="dojo">
                                        <xf:label>Subtitle</xf:label>
                                        <xf:hint>
                                            <p> Subtitle is used to record a part of a title deemed secondary to the core title. </p>
                                            <p> Use Subtitle whenever a subtitle is present, rather than including the subtitle in Title. </p>
                                            <p> When using Subtitle, do not include punctuation intended to separate the title from the subtitle at the end of
                                            Title. </p>
                                            <p> If more than two levels are in evidence in the whole title, i.e. if there is a sub-subtitle, include the
                                            sub-subtitle in Subtitle, with appropriate punctuation. <!--NB: What are the rules here? Should subTitle repeat?-->
                                            </p>
                                            <p> Every part of the title that do not belong in Title, Part Number or Part Name, belongs in Subtitle. </p>
                                        </xf:hint>
                                    </xf:textarea>
                                <!-- 
                            <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/mods:subTitle" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]-->
                            <!--Cluster: hide-->
                                <xf:group ref=".[mods:partNumber]">
                                    <xf:input ref="./mods:partNumber" class="text_50">
                                        <xf:label>Part Number</xf:label>
                                        <xf:hint>
                                            <p> Part Number is used for a part or section number in a title. </p>
                                            <p> Use Part Number when a part number is present, rather than including the part number in the text of the Title. </p>
                                            <p> A Part Number does not have to be a digit, i.e. "First Part" may be the contents of the Part Number field if this is
                                            how it occurs on the title page. </p>
                                            <p> Part Number may describe the section of an digital object (for example, an episode number or an audio or video
                                            clip). </p>
                                            <p> When using Part Number, do not include punctuation at the end of the preceding field intended to separate the part
                                            number from previous parts of the title. </p>
                                        </xf:hint>
                                    </xf:input>
                                <!-- 
                        <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/mods:partNumber" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]-->
                            <!--Cluster: hide-->
                                <xf:group ref=".[mods:partName]">
                                    <xf:textarea ref="./mods:partName" class="textarea">
                                        <xf:label>Part Name</xf:label>
                                        <xf:hint>
                                            <p> Part Name is used for a part or section name of a title. Use Part Name when a part name is present, rather than
                                            including the part name in the text of Title. Use Part Name to describe the section or division titles of a digital
                                            object (for example, a chapter title, episode name, or an audio or video clip). </p>
                                            <p> If a resource has multiple parts, each with its own Part Name, the work should be catalogued in as many records as
                                            there are Part Names.
                                            <!--NB: not implemented: Multiple Part Name fields may be nested in a single Title Information to describe a single part with multiple hierarchical levels; multiple parts, however, should be separated into multiple Title Information blocks. -->
                                            </p>
                                            <p> When representing the Part Name, do not include punctuation at the end of the preceding field intended to separate
                                            the part name from previous parts of the title.
                                            <!--Multiple parts of an item should appear in separate records or as Related Items.-->
                                            </p>
                                        </xf:hint>
                                    </xf:textarea>
                                <!-- 
                        <xf:trigger class="delete-button">
                            <xf:label class="xforms-label-small">-</xf:label>
                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:titleInfo/mods:partName" at="index('relatedItem-titleInfo-repeat')"/>
                        </xf:trigger>
                        -->
                                </xf:group>
                            <!--titleInfo input ends-->
                            </xf:repeat>
                        <!--title repeat ends-->
                        </fieldset>
                    </xf:group>
                    <xf:group id="fieldset-relatedItem-part" ref=".[mods:part]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Part</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:part" at="index('related-item-part-repeat')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;–</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem" at="index('relatedItem-repeat')"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> The designation of physical parts of a resource in a detailed form. Part is used to provide detailed coding for physical parts of
                        a resource. It may be used as a top level element to designate physical parts or under Related Item. It may be used under Related Item
                        for generating citations about the location of a part within a host/parent item.</p>
                                        <p> Use Part when the record in question refers to
                        either a physical or structural part of a resource, rather than an intellectual part. An intellectual part of a resource should be
                        recorded in various fields under Title. A newspaper issue would generally be indicated with Part, rather than indicating the issue
                        number as part of the title. The Part element at the top level would also be used to describe one reel of microfilm in a set, or in any
                        other case in which the part being described is not an intellectual whole by itself. When in doubt, and only part numbers or names are
                        needed, use Part Number and/or Part Name under Title under Title Information. </p>
                                    </div>
                                </span>
                            </div>
                    <!--relatedItem/part repeat begins-->
                            <xf:repeat nodeset="./mods:part" id="related-item-part-repeat">
                                    <!--part node-add begins-->
                                    <!--NB: attributes do not work-->
                                <xf:group ref=".[not(mods:detail)] | .[not(mods:extent)] | .[not(mods:date)] | .[not(mods:text)]">
                                    <xf:switch>
                                        <xf:case id="part-add-node-hide">
                                            <div class="node-adds-title">
                                                <xf:trigger class="add-button">
                                                    <xf:label class="xforms-group-label-centered">Show Additional Fields</xf:label>
                                                    <xf:toggle case="part-add-node-unhide" ev:event="DOMActivate"/>
                                                </xf:trigger>
                                            </div>
                                        </xf:case>
                                        <xf:case id="part-add-node-unhide">
                                            <div class="node-adds-title">
                                                <xf:trigger>
                                                    <xf:label class="xforms-group-label-centered">Hide Additional Fields</xf:label>
                                                    <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                </xf:trigger>
                                            </div>
                                            <div class="node-adds">
                                                <xf:group id="part-add-node-recommended" ref=".[not(mods:detail)] | .[not(mods:extent)] | .[not(mods:date)] | .[not(mods:text)]">
                                                        <!--<xf:label class="xforms-group-label-centered">Recommended Fields</xf:label>-->
                                                        <!--
                                                            <xf:trigger ref=".[not(@type)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Type</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:part/@type"/>
                                                            </xf:action>
                                                            </xf:trigger>
                                                            <xf:trigger ref=".[not(@order)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:part/@authority"/>
                                                            </xf:action>
                                                            </xf:trigger>
                                                        -->
                                                    <xf:trigger ref=".[not(mods:detail)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Detail</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:detail" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:part/mods:detail"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:extent)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Extent</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:extent" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:part/mods:extent"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:date)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Date</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:date" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:part/mods:date"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:text)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Text</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:text" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:relatedItem/mods:part/mods:text"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                </xf:group>
                                                    <!-- 
                                                        <xf:group id="part-add-node-optional" ref=".[not(@ID)]">
                                                        <xf:label class="xforms-group-label-centered">Optional Fields</xf:label>
                                                        <xf:trigger ref=".[not(@ID)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Genre</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                        <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                        <xf:insert context="." origin="instance('insert-templates')/reltaedItem/mods:part/@ID"/>
                                                        </xf:action>
                                                        </xf:trigger>
                                                        </xf:group> 
                                                    -->
                                                    <!--
                                                        <xf:group id="part-add-node-not-recommended">
                                                        </xf:group> 
                                                    -->
                                            </div>
                                        </xf:case>
                                    </xf:switch>
                                </xf:group>
                                    <!--part node-add ends-->
                                    <!--relatedItem/part input begins-->
                        <!--DLF/Aquifer: OPTIONAL-->
                        <!--Cluster: omit-->
                                <xf:group ref=".[@ID]">
                                    <xf:input ref="./@ID" class="text_50">
                                        <xf:label>ID: </xf:label>
                                        <xf:hint>
                                            <p>Hint</p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                        <!--DLF/Aquifer: OPTIONAL-->
                        <!--Cluster: omit-->
                                <xf:group ref=".[@type]">
                                    <xf:input ref="./@type" class="text_50">
                                        <xf:label>Type: </xf:label>
                                        <xf:hint>
                                            <p> A designation of a document segment type. See the MODS User Guidelines for suggested values. However, since there is not a controlled set of terms for type, if used, the value should be expressed clearly and be generally understandable outside of the local context of the resource. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                        <!--DLF/Aquifer: OPTIONAL-->
                        <!--Cluster: omit-->
                                <xf:group ref=".[@order]">
                                    <xf:input ref="./@order" class="text_50">
                                        <xf:label>Order:</xf:label>
                                        <xf:hint>
                                            <p> An integer that designates the sequence of parts. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                        <!--NB 3.4 adds languagePlusDisplayLabelGroup-->
                        <!--NB 3.4 adds altRepGroup-->
                                    <!--relatedItem/part input ends-->
                        <!--relatedItem/part/detail begins-->
                        <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                        <!--Cluster: include-->
                                <xf:group id="fieldset-relatedItem-detail" ref=".[mods:detail]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Detail</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:part" at="index('related-item-part-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;–</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:detail" at="index('related-item-part-detail-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Use this field to indicate the numbering and type of designation of the part in relation to the
                                                            parent item. Detail contains numbering and type of designation of the part in relation to the
                                                            host/parent item in which a host item resides. </p>
                                                </div>
                                            </span>
                                        </div>
                            <!--relatedItem/part/detail repeat begins-->
                                        <xf:repeat nodeset="./mods:detail" id="related-item-part-detail-repeat">
                                <!--relatedItem/part/detail input begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                            <xf:group ref=".[@type]">
                                                <xf:input ref="./@type" class="text_50">
                                                    <xf:label>Type:</xf:label>
                                                    <xf:hint>
                                                        <p> Use this field to indicate the type of the part described. Suggested values include part,
                                                                volume, issue, chapter, section, paragraph, track. Other values may be used as needed. However,
                                                                since there is not a controlled set of terms for type, if used, the value should be expressed
                                                                clearly and be generally understandable outside of the local context of the resource.
                                                                <!--NB: make open selection with code table.-->
                                                        </p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--DLF/Aquifer: OPTIONAL-->
                                <!--Cluster: omit-->
                                            <xf:group ref=".[@level]">
                                                <xf:select1 ref="./@level">
                                                    <xf:label>Level:</xf:label>
                                                    <xf:hint>
                                                        <p> Describes the level of numbering in the host/parent item. This is used to ensure that the numbering is retained in the proper order, with "vol." before "no.".</p>
                                                    </xf:hint>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='altRepGroup-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                <!--relatedItem/part/detail input ends-->
                                                
                                <!--relatedItem/part/detail/number begins-->
                                <!--DLF/Aquifer: OPTIONAL-->
                                <!--Cluster: ?-->
                                                <!-- NB: 3.4 adds languageAttributeGroup -->
                                            <xf:group ref=".[mods:number]">
                                                <xf:input ref="./mods:number" class="text_50">
                                                    <xf:label>Number:</xf:label>
                                                    <xf:hint>
                                                        <p> Contains the actual number within the part. Numbering can be sequencing in any form, e.g., Part 1, Supplement A, Book two.</p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--relatedItem/part/detail/number ends-->
                                                
                                <!--relatedItem/part/detail/caption begins-->
                                <!--DLF/Aquifer: OPTIONAL-->
                                <!--Cluster: ?-->
                                                <!-- NB: 3.4 adds languageAttributeGroup -->
                                            <xf:group ref=".[mods:caption]">
                                                <xf:input ref="./mods:caption" class="text_50">
                                                    <xf:label>Caption:</xf:label>
                                                    <xf:hint>
                                                        <p> Contains the caption describing the enumeration within a part. This may be the same as type, but conveys the actual text of what is
                                        on the item being described. </p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--relatedItem/part/detail/caption ends-->
                                                
                                <!--relatedItem/part/detail/title begins-->
                                <!--DLF/Aquifer: OPTIONAL-->
                                <!--Cluster: ?-->
                                                <!-- NB: 3.4 adds languageAttributeGroup -->
                                            <xf:group ref=".[mods:title]">
                                                <xf:input ref="./mods:title" class="text_50">
                                                    <xf:label>Title:</xf:label>
                                                    <xf:hint>
                                                        <p> Contains the title of the part. Only include if this is different than the Title in Title Information. </p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--relatedItem/part/detail/title ends-->
                                        </xf:repeat>
                            <!--relatedItem/part/detail repeat ends-->
                                    </fieldset>
                                </xf:group>
                                    <!--relatedItem/part/detail ends-->
                        <!--relatedItem/part/extent begins-->
                        <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                        <!--Cluster: include-->
                                <xf:group id="fieldset-relatedItem-extent" ref=".[mods:extent]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Extent</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:extent" at="index('related-item-extent-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;–</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:part/mods:extent" at="index('related-item-extent-repeat')"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Use this field to indicate the measured units making up the part (for example volumes, pages, square centimeters, minutes, etc.). </p>
                                                </div>
                                            </span>
                                        </div>
                            <!--relatedItem/part/extent repeat begins-->
                                        <xf:repeat nodeset="./mods:extent" id="related-item-extent-repeat">
                                <!--relatedItem/part/extent input begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                            <xf:group ref=".[@unit]">
                                                <xf:select1 ref="./@unit" selection="open">
                                                    <xf:label>Unit:</xf:label>
                                                    <xf:hint>
                                                        <p> Suggested values include page, minute, etc.</p>
                                                    </xf:hint>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='part-extent-unit-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                <!--relatedItem/part/extent input ends-->
                                                
                                <!--relatedItem/part/start begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                                <!-- NB: 3.4 adds languageAttributeGroup -->
                                            <xf:group ref=".[mods:start]">
                                                <xf:input ref="./mods:start" class="text_50">
                                                    <xf:label>Start:</xf:label>
                                                    <xf:hint>
                                                        <p> Contains the beginning unit of the extent within a part (e.g., first page). </p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--relatedItem/part/start ends-->
                                                
                                <!--relatedItem/part/end begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                                <!-- NB: 3.4 adds languageAttributeGroup -->
                                            <xf:group ref=".[mods:end]">
                                                <xf:input ref="./mods:end" class="text_50">
                                                    <xf:label>End:</xf:label>
                                                    <xf:hint>
                                                        <p> Contains the ending unit of the extent within a part. </p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--relatedItem/part/end ends-->
                                                
                                <!--relatedItem/part/total begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                            <xf:group ref=".[mods:total]">
                                                <xf:input ref="./mods:total" class="text_50">
                                                    <xf:label>Total:</xf:label>
                                                    <xf:hint>
                                                        <p> Contains the total number of units within a part, rather than specific units. Use positive numbers only. For example, use "5" to indicate a total of five pages.</p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--relatedItem/part/total ends-->
                                                
                                <!--relatedItem/part/list begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                                <!-- NB: 3.4 adds languageAttributeGroup -->
                                            <xf:group ref=".[mods:list]">
                                                <xf:input ref="./mods:list" class="text_50">
                                                    <xf:label>List:</xf:label>
                                                    <xf:hint>
                                                        <p> Contains a textual listing of the units within a part (e.g., "pp. 5-9".) </p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                <!--relatedItem/part/list ends-->
                                        </xf:repeat>
                            <!--relatedItem/part/extent repeat ends-->
                                    </fieldset>
                                </xf:group>
                                    <!--relatedItem/part/extent ends-->
                        <!--relatedItem/part/date begins-->
                        <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                        <!--Cluster: include-->
                                <xf:group id="fieldset-relatedItem-date" ref=".[mods:date]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Date</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:date" at="index('related-item-part-date-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;–</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:part/mods:date" at="index('related-item-part-date-repeat')"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Date contains date information relevant to the part described. </p>
                                                </div>
                                            </span>
                                        </div>
                            <!--relatedItem/part/date repeat begins-->
                                        <xf:repeat nodeset="./mods:date" id="related-item-part-date-repeat">
                                        
                                    <!--relatedItem/part/date input begins-->
                                    <!--DLF/Aquifer: RECOMMENDED-->
                                    <!--Cluster: include-->
                                                    <!-- NB: 3.4 adds languageAttributeGroup -->
                                            <xf:group ref=".[@encoding]">
                                                <xf:select1 ref="./@encoding">
                                                    <xf:label>Encoding:</xf:label>
                                                    <xf:hint>
                                                        <p> If a structured date is used, indicate the formatting source using the encoding field. These guidelines recommend
                                                                    using the following value for the encoding field: "w3cdtf" This encoding is used to specify YYYY-MM-DD date patterns.
                                                                    "iso8601" is used for formatted dates which use pattern: YYYYMMDD (hours, minutes, seconds may also be added). "marc" is used
                                                                    only for dates coded according to MARC 21 rules in field 008/07-14 for dates of publication/issuance. Thus, this would only
                                                                    apply to the field in Date Issued. Examples include: 19uu (a MARC convention to show unknown digits in a date), 9999 (a MARC
                                                                    convention showing that the end date has not occurred or is not known). </p>
                                                    </xf:hint>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-encoding-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                                    
                                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                    <!--Cluster: include-->
                                            <xf:group ref=".[@point]">
                                                <xf:select1 ref="./@point">
                                                    <xf:label>Point:</xf:label>
                                                    <xf:hint>
                                                        <p> The point field can be used to encode date ranges using the following values: "start" and "end". If no point is specified, date
                                                                    is assumed to be a single date. </p>
                                                    </xf:hint>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='start-end-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                    <!--Cluster: include-->
                                            <xf:group ref=".[@qualifier]">
                                                <xf:select1 ref="./@qualifier">
                                                    <xf:label>Qualifier:</xf:label>
                                                    <xf:hint>
                                                        <p> The Qualifier field has three allowed values: approximate, inferred, and questionable. Best practice is to
                                                                use this field with the appropriate value when a date is approximate, inferred, or questionable, rather than
                                            inserting characters such as "ca.", brackets or a question mark within the date string. </p>
                                                    </xf:hint>
                                                    <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-qualifier-code']/items/item">
                                                        <xf:label ref="label"/>
                                                        <xf:value ref="value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                    <!--Cluster: include-->
                                            <xf:group ref=".">
                                                <xf:input ref="." class="text_50">
                                                    <xf:label>Date: </xf:label>
                                                    <xf:hint>
                                                        <p> Date contains date information relevant to the part described. </p>
                                                    </xf:hint>
                                                </xf:input>
                                            </xf:group>
                                    <!--relatedItem/part/date input ends-->
                                        </xf:repeat>
                            <!--relatedItem/part/date repeat ends-->
                                    </fieldset>
                                </xf:group>
                                    <!--relatedItem/part/date ends-->
                        <!--relatedItem/part/text begins-->
                                <xf:group id="fieldset-relatedItem-text" ref=".[mods:text]">
                                    <fieldset class="level-3">
                                        <div class="join">
                                            <span class="legend">Text</span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;+</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:insert nodeset="mods:text" at="index('related-item-part-text-repeat')" position="after"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="join-button">
                                                <xf:trigger>
                                                    <xf:label>&#160;–</xf:label>
                                                    <xf:action ev:event="DOMActivate">
                                                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:relatedItem/mods:part/mods:text" at="index('related-item-part-text-repeat')"/>
                                                    </xf:action>
                                                </xf:trigger>
                                            </span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p>Hint</p>
                                                </div>
                                            </span>
                                        </div>
                                    <!--relatedItem/part/text repeat begins-->
                                        <xf:repeat nodeset="./mods:text" id="related-item-part-text-repeat">
                                        
                                        <!--relatedItem/part/text input begins-->
                                            <xf:group ref=".">
                                                <xf:textarea ref="." class="textarea">
                                                    <xf:label>Text: </xf:label>
                                                    <xf:hint>
                                                        <p> Date contains date information relevant to the part described. </p>
                                                    </xf:hint>
                                                </xf:textarea>
                                            </xf:group>
                                        <!--relatedItem/part/text input ends-->
                                        </xf:repeat>
                                    <!--relatedItem/part/text repeat ends-->
                                    </fieldset>
                                </xf:group>
                        <!--relatedItem/part/text ends-->
                            </xf:repeat>                                
                    <!--relatedItem/part repeat ends-->
                        </fieldset>
                    </xf:group>
               <!--relatedItem/part ends-->
                </xf:repeat>
        <!--title repeat ends-->
                <xf:group id="relatedItem-add-element" ref=".[not(./mods:relatedItem)]">
                    <xf:trigger ref=".[not(mods:relatedItem)]" class="add-button">
                        <xf:label class="xforms-group-label-centered">Add Missing Related Item</xf:label>
                        <xf:action ev:event="DOMActivate">
                            <xf:insert nodeset="mods:form" at="index('relatedItem-repeat')" position="after" origin="instance('new-instance')/mods:relatedItem"/>
                        </xf:action>
                    </xf:trigger>
                </xf:group>
            </fieldset>
        </xf:group>
    </div>
</div>