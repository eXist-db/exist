<?xml version="1.0" encoding="UTF-8"?>
<div xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xf="http://www.w3.org/2002/xforms" class="compact contents" tab-id="compact-c">
    <div class="block-form">
        <xf:group id="fieldset-subject">
            <fieldset class="level-1">
                <div class="join">
                    <span class="legend">Subjects</span>
                    <span class="join-button">
                        <xf:trigger>
                            <xf:label>+</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:subject" at="index('subject-repeat')" position="after" origin="instance('compact-template')/mods:subject"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> A subject is a term or a phrase that represents the primary topic(s) on which a work is focused. 
                                Use at least one subject field in each record. 
                                Enter as many specific terms as necessary to capture the subject content.
                                Be consistent in the formatting of subject terms. </p>
                            <p> Values for subject indicate what content is found within or represented by the work, and typically answer such questions as who,
                                what, where, and when. </p>
                            <p> While it is allowed to place multiple values in a single Topic string, it is the preferred practice to split up subject terms
                                into separate subfields, each of which answer the question of who, what, where, and when in relation to the resource being
                                catalogued. </p>
                            <p> A Subject is here basically composed of a Topic, a Place reference and a Time reference. 
                                All these fields are optional, that is, one can have a Topic without any Place or Time reference, and one can have a Place reference without a Topic or a Time reference. 
                                To have a Time reference all on its own would be a little unusual, but if period labels are used, this might still be
                                acceptable.</p>
                            <p>Topics can be divided into different kinds: "plain" Topics, Name topics and Work topics. "Plain" topics are references to
                                abstract or concrete entities that are not persons or organisations or works created by these. 
                                Topics of this kind are "beauty" or "bicycle", "democracy" or "doors". 
                                No distinction is made between abstract or concrete topics. 
                                In addition to plain topics, a person or an institution can serve as topic, examples being "George Washington" or "United Nations." 
                                These are treated like the names of authors and editors. 
                                If a work of literature or art, or any other creation, serves as topic, it is treated as a title. 
                                These three subtypes address different aspects of the "what" of a subject. </p>
                            <p> The "where" of a subject can be expressed in a number of ways. "Place" simply contains the name of the place. </p>
                            <p> "Time", the answer to "when," can be encoded in a number of different ways. 
                                The recommendation is to use the w3cdtf encoding. According to this encoding, dates are formatted in the following way: Year: YYYY
                                (e.g. 1997); Year and month: YYYY-MM (e.g. 1997-07); Complete date: YYYY-MM-DD (e.g. 1997-07-16). </p>
                            <p> Date ranges are indicated using "start" and "end" in Point. If a date range is open to one side, leave that side blank. If the
                                date is completely unknown, leave the Date field blank. </p>
                            <p> In Time one can also use period designations, such as "the Middle Ages" and "Industrialisation," with the dangers of differing construals that this implies.
                            If you enter a time designation which uses a designaitn of this type, choose "text" in type.</p>
                            <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                        </div>
                    </span>
                </div>
            <!--subject repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:subject" id="subject-repeat">
                <!--subject/topic begins-->
                    <xf:group id="fieldset-topic" ref=".[mods:topic]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Topic</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:topic" at="index('topic-repeat')" position="after" origin="instance('compact-template')/mods:subject/mods:topic"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Use Topic to indicate any primary subjects that do not fit into the Place, Time, Works as Topics, or Persons and Institutions as Topics subfields. 
                                            In general, abstract nouns should be used.
                                            Add as many Topic fields as you need in order to analyse your topic. 
                                            The relation between the different fields is not specified, but one may start with more abstract terms and move to more specific terms, within the same Subject.</p>
                                        <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                    </div>
                                </span>
                            </div>
                        <!--subject/topic repeat begins-->
                            <xf:repeat nodeset="./mods:topic" id="topic-repeat">
                            <!--subject/topic input begins-->
                                <xf:group ref=".">
                                    <xf:input ref="." class="text_50">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            <!--subject/topic input ends-->
                            </xf:repeat>
                        <!--subject/topic repeat ends-->
                        </fieldset>
                    </xf:group>
                <!--subject/topic ends-->
                <!--subject/geographic begins-->
                    <xf:group id="fieldset-geographic" ref=".[mods:geographic]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Place</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:geographic" at="index('geographic-repeat')" position="after" origin="instance('new-instance')/mods:geographic"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p>Use here standard names for geographical places.</p>
                                        Add as many Place fields as you need. 
                                        <p>The relation between the different fields is not specified, but one may start with more abstract terms and move to more specific terms, within the same Subject.</p>
                                        <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                    </div>
                                </span>
                            </div>
                        <!--subject/geographic repeat begins-->
                            <xf:repeat nodeset="./mods:geographic" id="geographic-repeat">
                            <!--subject/geographic input begins-->
                                <xf:group ref=".">
                                    <xf:input ref="." class="text_50">
                                        <xf:label>&#160;</xf:label>
                                    </xf:input>
                                </xf:group>
                            <!--subject/geographic input ends-->
                            </xf:repeat>
                        <!--subject/geographic repeat ends-->
                        </fieldset>
                    </xf:group>
                <!--subject/geographic ends-->
                <!--subject/temporal begins-->
                    <xf:group id="fieldset-temporal" ref=".[mods:temporal]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Time</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:temporal" at="index('temporal-repeat')" position="after" origin="instance('compact-template')/mods:subject/mods:temporal"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Use Time for chronological subject terms or temporal coverage. 
                                            Time may be expressed as a subject term (e.g. "Middle Ages") or as a structured date (e.g. "2001-09-11"). In the first case, choose "text" in Type; otherwise choose "YYY-MM-DD" and enter the time you wish to refer to as precisely as possible.</p>
                                        <p> Point is used to note whether the date noted is a start point or an end point when using a structured date. 
                                        If no point is specified, date is assumed to be a single date. </p>
                                        <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                    </div>
                                </span>
                            </div>
                        <!--subject/temporal repeat begins-->
                            <xf:repeat nodeset="./mods:temporal" id="temporal-repeat">
                            <!--subject/temporal input begins-->
                                <xf:group ref=".[@encoding]" appearance="full">
                                    <xf:select1 ref="./@encoding">
                                        <xf:label>Encoding</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-encoding-short-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group ref=".[@point]">
                                    <xf:select1 ref="./@point">
                                        <xf:label>Point</xf:label>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-point-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <xf:group ref=".">
                                    <xf:input ref="." class="text_50">
                                        <xf:label>Date</xf:label>
                                    </xf:input>
                                </xf:group>
                            <!--subject/temporal input ends-->
                            </xf:repeat>
                        <!--subject/temporal repeat ends-->
                        </fieldset>
                    </xf:group>
                <!--subject/temporal ends-->
                <!--subject/titleInfo begins-->
                    <xf:group id="fieldset-subject-titleInfo">
                      <!--subject/titleInfo repeat begins-->
                        <fieldset class="level-2" id="fieldset-subject-titleInfo">
                            <div class="join">
                                <span class="legend">Works as Topic</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:titleInfo" at="index('subject-titleinfo-repeat')" position="after" origin="instance('compact-template')/mods:subject/mods:titleInfo"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Enter here the title of the book or the work of art that serves as topic for the resource you are cataloguing. 
                                            If the title divides into a main title and a subtitle, enter each part in its separate field. If the subtitle divides into several parts, separate the parts with a semicolon. </p>
                                        <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <xf:repeat nodeset="./mods:titleInfo" id="subject-titleinfo-repeat">
                                <fieldset class="level-2" id="fieldset-subject-titleInfo">
                                    <div class="join">
                                        <span class="legend">Work as Topic</span>
                                        <span class="xforms-hint">
                                            <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                            <div class="xforms-hint-value">
                                                <p> Enter here the title of the book or the work of art that serves as topic for the resource you are cataloguing. 
                                                    If the title divides into a main title and a subtitle, enter each part in its separate field. If the subtitle divides into several parts, separate the parts with a semicolon. </p>
                                                <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                            </div>
                                        </span>
                                    </div>
                                    <!--titleInfo input begins-->
                                    <xf:group>
                                        <xf:input ref="./mods:nonSort" class="text_10">
                                            <xf:label>Non Sort</xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group>
                                        <xf:input ref="./mods:title" class="text_150">
                                            <xf:label>Title</xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group>
                                        <xf:input ref="./mods:subTitle" class="text_150">
                                            <xf:label>Subtitle</xf:label>
                                        </xf:input>
                                    </xf:group>
                                </fieldset>
                            </xf:repeat>
                        </fieldset>
                        <!--title repeat ends-->
                    </xf:group>
                <!--subject/titleInfo ends-->
                <!--subject/name begins-->
                    <xf:group id="fieldset-subject-name">
                        <fieldset class="level-2">
                            <div class="join extra-wide">
                                <span class="legend">Persons and Institutions as Topics</span>
                                <span class="join-button wide">
                                    <xf:trigger>
                                        <xf:label>&#160;P+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:name" at="index('subject-name-person-repeat')" position="after" origin="instance('compact-template')/mods:subject/mods:name[1]"/>
                                        </xf:action>
                                    </xf:trigger>
                                    <xf:trigger>
                                        <xf:label>&#160;I+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:name" at="index('subject-name-institution-repeat')" position="after" origin="instance('compact-template')/mods:subject/mods:name[2]"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> In Persons and Institutions as Topics, catalogue the names of each person or institution that serves as topic of the
                                        resource you are calaloguing. </p>
                                        <p>Add as many Persons and Institutions as Topics as is necessary. Click on "P+" to add a personal name and on "I+" to add the name of an institution.</p>
                                        <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                    </div>
                                </span>
                            </div>
                            <!--name repeat begins-->
                            <xf:repeat nodeset="./mods:name" id="subject-name-person-repeat">
                                <!--name input begins-->
                                <!--name input ends-->
                                <!--namePart begins-->
                                <xf:group id="fieldset-subject-namePart-personal" ref=".[@type = 'personal']">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Person as Topic</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Analyse each name into separate name parts, e.g. Given Name and Family Name.</p>
                                                    <p> If this is not possible, choose "(none selected)" and enter the whole name in the field in question.</p>
                                                    <p> If a given or family name consists of several parts, enter all parts of the same type in the same field.</p>
                                                    <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                            <!--namePart repeat begins-->
                                        <xf:repeat nodeset="./mods:namePart" id="subject-namePart-repeat" class="display-none">
                                            <xf:select1 ref="./@type" class="right">
                                                <xf:label>&#160;</xf:label>
                                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-compact-code']/items/item">
                                                    <xf:label ref="label"/>
                                                    <xf:value ref="value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                            <xf:input ref="." class="text_100">
                                                <xf:label>&#160;</xf:label>
                                            </xf:input>
                                                <!--namePart input ends-->
                                        </xf:repeat>
                                            <!--namePart repeat ends-->
                                    </fieldset>
                                </xf:group>
                            </xf:repeat>
                            <xf:repeat nodeset="./mods:name" id="subject-name-institution-repeat">
                                <xf:group id="fieldset-subject-namePart-corporate" ref=".[@type = 'corporate']">
                                    <fieldset class="level-2">
                                        <div class="join">
                                            <span class="legend">Institution as Topic</span>
                                            <span class="xforms-hint">
                                                <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                                <div class="xforms-hint-value">
                                                    <p> Enter the standard name of the institution.</p>
                                                    <p> If the name can be divided, write the more general name first and the more specific name last.</p>
                                                    <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                                                </div>
                                            </span>
                                        </div>
                                            <!--namePart repeat begins-->
                                        <xf:repeat nodeset="./mods:namePart" id="subject-namePart-repeat" class="display-none">
                                            <xf:select1 ref="./@type" class="right">
                                                <xf:label>&#160;</xf:label>
                                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-compact-code']/items/item">
                                                    <xf:label ref="label"/>
                                                    <xf:value ref="value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                            <xf:input ref="." class="text_100">
                                                <xf:label>&#160;</xf:label>
                                            </xf:input>
                                                <!--namePart input ends-->
                                        </xf:repeat>
                                            <!--namePart repeat ends-->
                                    </fieldset>
                                </xf:group>
                                <!--namePart ends-->
                                <!--role begins-->
                            </xf:repeat>
                            <!--name repeat ends-->
                        </fieldset>
                    </xf:group>                        
                <!--subject/name ends-->
                <!--subject delete begins-->
                </xf:repeat>
            <!--subject repeat ends-->
            </fieldset>
        </xf:group>
        <!--subject ends-->
        <xf:group id="fieldset-note">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">
                        <span class="legend">Notes</span>
                    </span>
                    <span class="join-button wide">
                        <xf:trigger>
                            <xf:label>&#160;+&#160;</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:note" at="index('note-repeat')" position="after" origin="instance('compact-template')/mods:note"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> General information relating to a resource. </p>
                            <p> Note should be used only for information that cannot be encoded in another, more specific, ways. </p>
                            <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                        </div>
                    </span>
                </div>
                    <!--note repeat begins-->
                <xf:repeat nodeset="./mods:note" id="note-repeat">
                    <xf:group ref=".[count(../mods:note) &gt; 1]">
                        <br/>
                    </xf:group>
                    <xf:group>
                        <xf:select1 ref="./@type" selection="open" class="type">
                            <xf:label>Type</xf:label>
                            <xf:hint>
                                <p>Hint</p>
                            </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='note-type-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                    </xf:group>
                    <xf:group>
                        <xf:textarea ref="." class="textarea" mediatype="dojo">
                            <xf:label>Note</xf:label>
                        </xf:textarea>
                    </xf:group>
                </xf:repeat>
                    <!--note repeat ends-->
            </fieldset>
        </xf:group>
        <!--note ends-->
        <xf:group id="fieldset-abstract">
            <fieldset class="level-2">
                <div class="join">
                    <span class="legend">
                        <span class="legend">Abstracts</span>
                    </span>
                    <span class="join-button wide">
                        <xf:trigger>
                            <xf:label>&#160;+&#160;</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:abstract" at="index('abstract-repeat')" position="after" origin="instance('compact-template')/mods:abstract"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> Abstract is used to record a succinct summary of some aspect of the content of the resource. </p>
                            <p> More input options can be accessed by clicking the Subjects tab on Context Description Forms.</p>
                        </div>
                    </span>
                </div>
                <!--abstract repeat begins-->
                <xf:repeat nodeset="./mods:abstract" id="abstract-repeat">
                    <xf:group ref=".[count(../mods:abstract) &gt; 1]">
                        <br/>
                    </xf:group>
                    <xf:group>
                        <xf:textarea ref="." class="textarea" mediatype="dojo">
                            <xf:label>Abstract</xf:label>
                        </xf:textarea>
                    </xf:group>
                </xf:repeat>
                <!--abstract repeat ends-->
            </fieldset>
        </xf:group>
        <!--abstract ends-->
    </div>
</div>