<?xml version="1.0" encoding="UTF-8"?>
<div xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms" class="part" tab-id="part">
    <div class="block-form">
        <xf:group appearance="full">
            <!-- The DLF/Aquifer Implementation Guidelines for Shareable MODS Records recommend that the part element be used in cases where the part of a resource being represented is a physical or structural part of another resource. Examples include an issue of a journal or a single story from a collection. This element is repeatable. -->
            <fieldset class="level-1">
                <div class="join">
                    <span class="legend">Parts</span>
                    <span class="join-button">
                        <xf:trigger>
                            <xf:label>&#160;+</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:part" at="index('part-repeat')" position="after"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="join-button">
                        <xf:trigger>
                            <xf:label>&#160;â€“</xf:label>
                            <xf:action ev:event="DOMActivate">
                                <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part" at="index('part-repeat')"/>
                            </xf:action>
                        </xf:trigger>
                    </span>
                    <span class="xforms-hint">
                        <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                        <div class="xforms-hint-value">
                            <p> The designation of physical parts of a resource in a detailed form. Part is used to provide detailed description of the physical
                                parts of a resource. It may be used as a top level field to designate physical parts or under Related Item. If used under
                                Related Item, Part records the location of a part within a host/parent item. If used as a top level field, Part records a part
                                of a resource, usually because the library is not in possession of the whole resource. </p>
                            <p> Use Part when the record in question refers to either a physical or structural part of a resource, rather than an intellectual
                                part. An intellectual part of a resource should be recorded in various subfields under Title. A newspaper issue would e.g.
                                generally be indicated with Part, rather than indicating the issue number as part of the title. Part as a top level field would
                                also be used to describe one reel of microfilm in a set, or in any other case in which the part being described is not an
                                intellectual whole by itself. When in doubt, and only part numbers and/or part names are needed, use Part Number and/or Part
                                Name under Title under Title Information. </p>
                        </div>
                    </span>
                </div>
                
                <!--part repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:part" id="part-repeat">
                    <!--part node-add begins-->
                    <!--NB: attributes do not work-->
                    <xf:group appearance="full" ref=".[not(mods:detail)] | .[not(mods:extent)] | .[not(mods:date)] | .[not(mods:text)]">
                        <xf:switch>
                            <xf:case id="part-add-node-hide">
                                <div class="node-button">
                                    <xf:trigger class="add-button">
                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                        <xf:toggle case="part-add-node-unhide" ev:event="DOMActivate"/>
                                    </xf:trigger>
                                </div>
                            </xf:case>
                            <xf:case id="part-add-node-unhide">
                                <div class="node-button">
                                    <xf:trigger>
                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                        <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                    </xf:trigger>
                                </div>
                                <div class="node-adds">
                                    <xf:group id="part-add-node-recommended" ref=".[not(mods:nonSort)] | .[not(mods:title)] | .[not(mods:subTitle)] | .[not(mods:partNumber)] | .[not(mods:partName)]" appearance="full">
                                        <!--<xf:label class="xforms-group-label-centered">Recommended Fields</xf:label>-->
                                        <!-- <xf:trigger ref=".[not(@type)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add Type</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@type"/> </xf:action> </xf:trigger> <xf:trigger ref=".[not(@order)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add Order</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@order"/> </xf:action> </xf:trigger> <xf:trigger ref=".[not(@lang)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add Language</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@lang"/> </xf:action> </xf:trigger> <xf:trigger ref=".[not(@transliteration)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add Transliteration</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@transliteration"/> </xf:action> </xf:trigger> <xf:trigger ref=".[not(@script)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add Script</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@script"/> </xf:action> </xf:trigger> <xf:trigger ref=".[not(@altRepGroup)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add altRepGroup</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@altRepGroup"/> </xf:action> </xf:trigger> -->
                                        <xf:trigger ref=".[not(mods:detail)]" class="add-button">
                                            <xf:label class="xforms-group-label-centered">Add Detail</xf:label>
                                            <xf:action ev:event="DOMActivate">
                                                <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                <xf:insert nodeset="mods:detail" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:part/mods:detail"/>
                                            </xf:action>
                                        </xf:trigger>
                                        <xf:trigger ref=".[not(mods:extent)]" class="add-button">
                                            <xf:label class="xforms-group-label-centered">Add Extent</xf:label>
                                            <xf:action ev:event="DOMActivate">
                                                <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                <xf:insert nodeset="mods:extent" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:part/mods:extent"/>
                                            </xf:action>
                                        </xf:trigger>
                                        <xf:trigger ref=".[not(mods:date)]" class="add-button">
                                            <xf:label class="xforms-group-label-centered">Add Date</xf:label>
                                            <xf:action ev:event="DOMActivate">
                                                <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                <xf:insert nodeset="mods:date" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:part/mods:date"/>
                                            </xf:action>
                                        </xf:trigger>
                                        <xf:trigger ref=".[not(mods:text)]" class="add-button">
                                            <xf:label class="xforms-group-label-centered">Add Text</xf:label>
                                            <xf:action ev:event="DOMActivate">
                                                <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/>
                                                <xf:insert nodeset="mods:text" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:part/mods:text"/>
                                            </xf:action>
                                        </xf:trigger>
                                    </xf:group>
                                    <!-- <xf:group id="part-add-node-optional"> <xf:label class="xforms-group-label-centered">Optional Fields</xf:label> <xf:trigger ref=".[not(@displayLabel)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add Display Label</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@displayLabel"/> </xf:action> </xf:trigger> </xf:group> -->
                                    <!-- <xf:group id="part-add-node-not-recommended"> <xf:label class="xforms-group-label-centered">Deprecated Fields</xf:label> <xf:trigger ref=".[not(@ID)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add ID</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@ID"/> </xf:action> </xf:trigger> <xf:trigger ref=".[not(@xlink)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add XLink</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@xlink"/> </xf:action> </xf:trigger> <xf:trigger ref=".[not(@xml:lang)]" class="add-button"> <xf:label class="xforms-group-label-centered">Add xml:lang</xf:label> <xf:action ev:event="DOMActivate"> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:insert context="." origin="instance('insert-templates')/mods:part/@xml:lang"/> </xf:action> </xf:trigger> </xf:group> </xf:group> -->
                                </div>
                            </xf:case>
                        </xf:switch>
                    </xf:group>
                    <!--part node-add ends-->
                    <!--part input begins-->
                    <!--DLF/Aquifer: OPTIONAL-->
                    <!--Cluster: omit-->
                    <xf:group ref=".[@ID]" appearance="full">
                        <xf:input ref="./@ID" class="text_50">
                            <xf:label>ID: </xf:label>
                            <xf:hint>
                                <p> ID is used to link among records inside the database and to reference a field inside the database from the outside. </p>
                            </xf:hint>
                        </xf:input>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/@ID" at="index('part-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--DLF/Aquifer: OPTIONAL]-->
                    <!--Cluster: omit-->
                    <xf:group ref=".[@type]" appearance="full">
                        <xf:input ref="./@type" class="text_50">
                            <xf:label>Type: </xf:label>
                            <xf:hint>
                                <p> A designation of a document segment type. Suggested values include volume, issue, chapter, section, paragraph, and track.
                                    Other values may be used as needed. Since there is not a controlled set of terms for type, if used, the value should be
                                    expressed clearly and be generally understandable. </p>
                            </xf:hint>
                        </xf:input>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/@type" at="index('part-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--DLF/Aquifer: OPTIONAL]-->
                    <!--Cluster: omit-->
                    <xf:group ref=".[@order]" appearance="full">
                        <xf:input ref="./@order" class="text_50">
                            <xf:label>Order:</xf:label>
                            <xf:hint>
                                <p> An integer that designates the sequence of parts. </p>
                            </xf:hint>
                        </xf:input>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/@order" at="index('part-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--DLF/Aquifer: REQUIRED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:group class="input-group" ref=".[@lang]" appearance="full">
                        <xf:select1 ref="./@lang">
                            <xf:label>Language:</xf:label>
                            <xf:hint>
                                <p> The language used within Title Information is specified here, if this language is different from the language noted in
                                    Language of Resource. The most common languages have been moved to the top of the list. </p>
                            </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-sorted-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/@lang" at="index('part-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--DLF/Aquifer: NOT RECOMMENDED]-->
                    <!--Cluster: omit-->
                    <xf:group class="input-group" ref=".[@xml:lang]" appearance="full">
                        <xf:select1 ref="./@xml:lang">
                            <xf:label>xml:lang:</xf:label>
                            <xf:hint>
                                <p> The language used within Title Information is specified here, if this language is different from the language noted in
                                    Language of Resource. xml:lang is used to specify the language used within a field, using specifications in RFC 3066. RFC
                                    3066 uses the two-character ISO 639-1 codes along with three-character ISO 639-2 codes for those languages not given in
                                    639-1. </p>
                                <p> The recommendation is not to use xml:lang, but to use the Language. </p>
                            </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-2-type-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/@xml:lang" at="index('part-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]-->
                    <!--Cluster: include-->
                    <xf:group class="input-group" ref=".[@type='transliterated']" appearance="full">
                        <xf:select1 ref="./@transliteration" selection="open">
                            <xf:label>Transliteration:</xf:label>
                            <xf:hint>
                                <p> Transliteration specifies the transliteration (transcription, romanisation) scheme used within Title Information. When
                                    specificing the transliteration used, also specify the language employed. There is at present no standard list of
                                    transliteration schemes available. If you wish to employ a transliteration on the scheme, please contact <!--contact -->. In
                                    general, the Library of Congress transliteration schemes (<!-- NB -->) should be used. If you follow a transliteration
                                    scheme authorised by <!--NB-->, choose <!--NB--> as the value and note the language from which the transliteration is made.
                                    The following transliteration schemes are authorised by <!--NB-->: Chinese: pinyin Japanese: (modified) Hepburn Korean:
                                    <!--NB--> Russian: <!--NB--> Sanskrit: <!--NB--> If you employ a different, but recognised, transliteration scheme, you may
                                    have it added to the list. </p>
                            </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='transliteration-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/@transliteration" at="index('part-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--DLF/Aquifer: [RECOMMENDED IF APPLICABLE]-->
                    <!--Cluster: include-->
                    <xf:group class="input-group" ref=".[not(@type='transliterated')] and ./@script" appearance="full">
                        <xf:select1 ref="./@script">
                            <xf:label>Script:</xf:label>
                            <xf:hint>
                                <p> Script specifies the script used within individual fields. The use of Latin script is not noted. "Chinese" is "Han
                                    (Simplified Variant)" or "Han (Traditional Variant)". If the two variants are not considered, it is "Han (Hanzi, Kanji,
                                    Hanja)", also used for Japanese, Korean and Vietnamese written in Chinese. </p>
                            </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='script-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="part-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/@script" at="index('part-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--DLF/Aquifer: N/A]]-->
                    <!--Cluster: omit-->
                    <xf:group ref=".[@altRepGroup]" appearance="full">
                        <xf:select1 ref="./@altRepGroup">
                            <xf:label>Alternate Representation Groups: </xf:label>
                            <xf:hint>
                                <p>Alternate Representation Groups is used to link alternate representations of the same element content, such as different
                                    scripts, transliterations, and translations. The same attribute value is applied to each of the element instances to be
                                    linked.</p>
                            </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='altRepGroup-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <!-- <xf:trigger> <xf:label class="xforms-label-small">-</xf:label> <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/><xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/> <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:name/@altRepGroup" at="index('name-repeat')"/> </xf:trigger> -->
                    </xf:group>
                    <!--part input ends-->
                    <!--part/detail begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE]-->
                    <!--Cluster: include-->
                    <xf:group id="fieldset-detail" ref=".[mods:detail]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Detail</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:detail" at="index('part-detail-repeat')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;â€“</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/mods:detail" at="index('part-detail-repeat')"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Use Detail to indicate the numbering and type of designation of the part in relation to the parent item. Detail
                                            contains the numbering and type of designation of the part in relation to the host/parent item in which a host item
                                            resides. </p>
                                    </div>
                                </span>
                            </div>
                            <!--part/detail repeat begins-->
                            <xf:repeat nodeset="./mods:detail" id="part-detail-repeat">
                                <!--part/detail input begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[@type]" appearance="full">
                                    <xf:input ref="./@type" class="text_50">
                                        <xf:label>Type:</xf:label>
                                        <xf:hint>
                                            <p> Use this field to indicate the type of the part described. Suggested values include part, volume, issue,
                                                chapter, section, paragraph, track. Other values may be used as needed. However, since there is not a controlled
                                                set of terms for type, if used, the value should be expressed clearly and be generally understandable outside of
                                                the local context of the resource. <!--NB: make open selcetion with code table?-->
                                            </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--DLF/Aquifer: OPTIONAL]-->
                                <!--Cluster: omit-->
                                <xf:group ref=".[@order]" appearance="full">
                                    <xf:input ref="./@order" class="text_50">
                                        <xf:label>Order:</xf:label>
                                        <xf:hint>
                                            <p> An integer that designates the sequence of parts. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--DLF/Aquifer: N/A-->
                                <!--Cluster: omit-->
                                <xf:group ref=".[@level]" appearance="full">
                                    <xf:input ref="./@level" class="text_50">
                                        <xf:label>Level:</xf:label>
                                        <xf:hint>
                                            <p> Describes the level of numbering in the host/parent item. This is used to ensure that the numbering is retained
                                                in the proper order. An example is: "v. 2, no. 3". </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/detail input ends-->
                                <!--part/detail/number begins-->
                                <!--DLF/Aquifer: OPTIONAL-->
                                <!--Cluster: ?-->
                                <xf:group ref=".[mods:number]" appearance="full">
                                    <xf:input ref="./mods:number" class="text_50">
                                        <xf:label>Number:</xf:label>
                                        <xf:hint>
                                            <p> Contains the actual number within the part. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/detail/number ends-->
                                <!--part/detail/caption begins-->
                                <xf:group ref=".[mods:caption]" appearance="full">
                                    <xf:input ref="./mods:caption" class="text_50">
                                        <xf:label>Caption:</xf:label>
                                        <xf:hint>
                                            <p> Contains the caption describing the enumeration within a part. This may be the same as type, but conveys what is
                                                on the item being described. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/detail/caption ends-->
                                <!--part/detail/title begins-->
                                <xf:group ref=".[mods:title]" appearance="full">
                                    <xf:input ref="./mods:title" class="text_50">
                                        <xf:label>Title:</xf:label>
                                        <xf:hint>
                                            <p> Contains the title of the part. Only include if this is different than the Title in Title Information. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/detail/title ends-->
                            </xf:repeat>
                            <!--part/detail repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--part/detail ends-->
                    <!--part/extent begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:group id="fieldset-extent" ref=".[mods:extent]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Extent</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:extent" at="index('extent-repeat')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;â€“</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/mods:extent" at="index('extent-repeat')"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Use this subfield to indicate the measured units making up the part (for example pages, minutes, etc.). </p>
                                    </div>
                                </span>
                            </div>
                            <!--part/extent repeat begins-->
                            <xf:repeat nodeset="./mods:extent" id="extent-repeat">
                                <!--part/extent input begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[count(@unit) &gt; 0]" appearance="full">
                                    <xf:select1 ref="./@unit" selection="open">
                                        <xf:label>Unit:</xf:label>
                                        <xf:hint>
                                            <p> Suggested values include page, minute, etc. <!--NB: make code table with open selection?--></p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='part-extent-unit-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <!--part/extent input ends-->
                                <!--part/start begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[count(mods:start) &gt; 0]" appearance="full">
                                    <xf:input ref="./mods:start" class="text_50">
                                        <xf:label>Start:</xf:label>
                                        <xf:hint>
                                            <p> Contains the beginning unit of the extent within a part (e.g., first page). </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/start ends-->
                                <!--part/end begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[count(mods:end) &gt; 0]" appearance="full">
                                    <xf:input ref="./mods:end" class="text_50">
                                        <xf:label>End:</xf:label>
                                        <xf:hint>
                                            <p> Contains the ending unit of the extent within a part. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/end ends-->
                                <!--part/total begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[count(mods:total) &gt; 0]" appearance="full">
                                    <xf:input ref="./mods:total" class="text_50">
                                        <xf:label>Total:</xf:label>
                                        <xf:hint>
                                            <p> Contains the total number of units within a part, rather than specific units. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/total ends-->
                                <!--part/list begins-->
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[count(mods:list) &gt; 0]" appearance="full">
                                    <xf:input ref="./mods:list" class="text_50">
                                        <xf:label>List:</xf:label>
                                        <xf:hint>
                                            <p> Contains a textual listing of the units within a part (e.g., "pp. 5-9".) </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/list ends-->
                            </xf:repeat>
                            <!--part/extent repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--part/extent ends-->
                    <!--part/date begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:group id="fieldset-date" ref=".[mods:date]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">
                                    <span class="legend">Date</span>
                                    <span class="join-button">
                                        <xf:trigger>
                                            <xf:label>&#160;+</xf:label>
                                            <xf:action ev:event="DOMActivate">
                                                <xf:insert nodeset="mods:date" at="index('part-date-repeat')" position="after"/>
                                            </xf:action>
                                        </xf:trigger>
                                    </span>
                                    <span class="join-button">
                                        <xf:trigger>
                                            <xf:label>&#160;â€“</xf:label>
                                            <xf:action ev:event="DOMActivate">
                                                <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/mods:date" at="index('part-date-repeat')"/>
                                            </xf:action>
                                        </xf:trigger>
                                    </span>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Date contains date information relevant to the part described. </p>
                                    </div>
                                </span>
                            </div>
                            <!--part/date repeat begins-->
                            <xf:repeat nodeset="instance('save-data')/mods:part/mods:date" id="part-date-repeat">
                                <!--part/date input begins-->
                                <!--DLF/Aquifer: RECOMMENDED-->
                                <!--Cluster: include-->
                                <xf:group ref=".[@encoding]" appearance="full">
                                    <xf:select1 ref="./@encoding">
                                        <xf:label>Encoding:</xf:label>
                                        <xf:hint>
                                            <p> If a structured date is used, indicate the formatting source using the encoding field. These guidelines
                                                recommend using the following value for the encoding field: "w3cdtf" This encoding is used to specify YYYY-MM-DD
                                                date patterns. "iso8601" is used for formatted dates which use pattern: YYYYMMDD (hours, minutes, seconds may
                                                also be added). "marc" is used only for dates coded according to MARC 21 rules in field 008/07-14 for dates of
                                                publication/issuance. Thus, this would only apply to the field in Date Issued. Examples include: 19uu (a MARC
                                                convention to show unknown digits in a date), 9999 (a MARC convention showing that the end date has not occurred
                                                or is not known). </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-encoding-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[@point]" appearance="full">
                                    <xf:select1 ref="./@point">
                                        <xf:label>Point:</xf:label>
                                        <xf:hint>
                                            <p> The point field can be used to encode date ranges using the following values: "start" and "end". If no point is
                                                specified, date is assumed to be a single date. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='start-end-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref=".[@qualifier]" appearance="full">
                                    <xf:select1 ref="./@qualifier">
                                        <xf:label>Qualifier:</xf:label>
                                        <xf:hint>
                                            <p> The qualifier field has three allowed values: approximate, inferred, and questionable. Best practice is to use
                                                this field with the appropriate value when a date is approximate, inferred, or questionable, rather than
                                                inserting characters such as "ca.", brackets or a question mark within the date string. </p>
                                        </xf:hint>
                                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='date-qualifier-code']/items/item">
                                            <xf:label ref="label"/>
                                            <xf:value ref="value"/>
                                        </xf:itemset>
                                    </xf:select1>
                                </xf:group>
                                <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                                <!--Cluster: include-->
                                <xf:group ref="." appearance="full">
                                    <xf:input ref="." class="text_50">
                                        <xf:label>Date: </xf:label>
                                        <xf:hint>
                                            <p> Date contains date information relevant to the part described. </p>
                                        </xf:hint>
                                    </xf:input>
                                </xf:group>
                                <!--part/date input ends-->
                            </xf:repeat>
                            <!--part/date repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--part/date ends-->
                    <xf:group id="fieldset-text" ref=".[mods:text]">
                        <fieldset class="level-2">
                            <div class="join">
                                <span class="legend">Text</span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;+</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="mods:text" at="index('text-repeat')" position="after"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="join-button">
                                    <xf:trigger>
                                        <xf:label>&#160;â€“</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/mods:text" at="index('text-repeat')"/>
                                        </xf:action>
                                    </xf:trigger>
                                </span>
                                <span class="xforms-hint">
                                    <span onmouseover="show(this, 'hint', true)" onmouseout="show(this, 'hint', false)" class="xforms-hint-icon"/>
                                    <div class="xforms-hint-value">
                                        <p> Use this subfield to record information in textual form. Use this subfield when other subfields will not capture the
                                            appropriate information. </p>
                                    </div>
                                </span>
                            </div>
                            <!--part/text repeat begins-->
                            <xf:repeat nodeset="./mods:text" id="text-repeat">
                                <!--part/text input begins-->
                                <xf:group ref="." appearance="full">
                                    <xf:textarea ref="." class="textarea" mediatype="dojo">
                                        <xf:label>Text:</xf:label>
                                        <xf:hint>
                                            <p> Use this subfield to record information in textual form. Use this subfield when other subfields will not capture
                                                the appropriate information. </p>
                                        </xf:hint>
                                    </xf:textarea>
                                </xf:group>
                                <!--part/text input ends-->
                            </xf:repeat>
                            <!--part/text repeat ends-->
                        </fieldset>
                    </xf:group>
                    <!--part/text ends-->
                </xf:repeat>
                <!--part repeat ends-->
                <xf:group id="part-add-element" ref=".[not(./mods:part)]" appearance="full">
                    <xf:trigger ref=".[not(mods:part)]" class="add-button">
                        <xf:label class="xforms-group-label-centered">Add Missing Part</xf:label>
                        <xf:action ev:event="DOMActivate">
                            <xf:insert nodeset="mods:form" at="index('part-repeat')" position="after" origin="instance('new-instance')/mods:part"/>
                        </xf:action>
                    </xf:trigger>
                </xf:group>
            </fieldset>
        </xf:group>
    </div>
</div>