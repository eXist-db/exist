<project xmlns:xdb="http://exist-db.org/ant" default="load-mods" name="MODS Database Loader">
    
    <propertyfile file="local.properties"/>
	
	<typedef resource="org/exist/ant/antlib.xml"  uri="http://exist-db.org/ant">
	    <classpath refid="classpath.core"/>
	</typedef>
	
	<path id="classpath.core">
	    <fileset dir="C:\exist\exist-1.4\lib\core">
	        <include name="*.jar"/>
	    </fileset>
	    <pathelement path="${exist-home}/exist.jar"/>
	    <pathelement path="${exist-home}/exist-optional.jar"/>
	</path>

    
    <target name="load-mods">
    	
        <echo message="Removing old MODS application from eXist database"/>
        <xdb:remove user="${public.xmldb.username}" password="${public.xmldb.password}"
            uri="${mods-uri}" collection="${mods-collection}"/>
        
        <echo message="Loading new MODS database into eXist database"/>
        <xdb:store user="${public.xmldb.username}" password="${public.xmldb.password}"
            uri="${mods-uri}" 
            createcollection="true" createsubcollections="true" failonerror="false">
            <fileset dir=".}"/>
        </xdb:store>
    </target>
	
</project>