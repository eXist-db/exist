<?xml version="1.0" encoding="UTF-8"?>
<div xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms" class="subject">
    <!--subject begins-->
    <fieldset>
        <legend>Subjects</legend>
    <!--subject repeat begins-->
        <xf:repeat nodeset="mods:subject" id="subject-repeat">
    
        <!--subject input begins-->
        
        <!--DLF/Aquifer: OPTIONAL-->
        <!--Cluster: omit-->
            <xf:input ref="./@ID" class="text_150">
                <xf:label>ID: </xf:label>
                <xf:hint>Hint</xf:hint>
            </xf:input>

        <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
        <!--Cluster: omit-->
            <xf:input ref="./@xlink" class="text_150">
                <xf:label>XLink: </xf:label>
                <xf:hint>
                The xlink attribute is used to reference an external resource, such as a second metadata record, such as a Related Item or a Table Of Contents.
            </xf:hint>
            </xf:input>
            <br/>
            <xf:select1 ref="./@authority">
                <xf:label>Authority:</xf:label>
                <xf:hint>
                The name of the authoritative list for a controlled value is recorded here.
                </xf:hint>
                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-title-authority-code']/items/item">
                    <xf:label ref="label"/>
                    <xf:value ref="value"/>
                </xf:itemset>
            </xf:select1>
            <br/>
            <xf:select1 ref="./@lang">
                <xf:label>Language:</xf:label>
                <xf:hint>
                Hint
            </xf:hint>
                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-code']/items/item">
                    <xf:label ref="label"/>
                    <xf:value ref="value"/>
                </xf:itemset>
            </xf:select1>
        
        <!--DLF/Aquifer: NOT RECOMMENDED]-->
        <!--Cluster: omit-->
            <xf:select1 ref="./@xml:lang">
                <xf:label>xml:lang:</xf:label>
                <xf:hint>
                Hint
            </xf:hint>
                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-2-type-code']/items/item">
                    <xf:label ref="label"/>
                    <xf:value ref="value"/>
                </xf:itemset>
            </xf:select1>
            <xf:select1 ref="./@script">
                <xf:label>Script:</xf:label>
                <xf:hint>
                Hint
            </xf:hint>
                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='script-code']/items/item">
                    <xf:label ref="label"/>
                    <xf:value ref="value"/>
                </xf:itemset>
            </xf:select1>
            <xf:select1 ref="./@transliteration">
                <xf:label>Transliteration:</xf:label>
                <xf:hint>
                Hint
            </xf:hint>
                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='transliteration-code']/items/item">
                    <xf:label ref="label"/>
                    <xf:value ref="value"/>
                </xf:itemset>
            </xf:select1>
        
        <!--subject input ends-->
        
        <!--subject/topic begins-->
            <fieldset>
                <legend>Topic</legend>
        
            <!--subject/topic repeat begins-->
                <xf:repeat nodeset="./mods:topic" id="topic-repeat">
                
                <!--subject/topic input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Topic:</xf:label>
                        <xf:hint>
                        Hint
                    </xf:hint>
                    </xf:input>

                <!--subject/topic input ends-->
                
                <!--subject/topic delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:topic) &gt; 1]">
                        <xf:label>Delete This Topic</xf:label>
                        <xf:hint>
                        Hint
                    </xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:topic" at="index('topic-repeat')"/>
                    </xf:trigger>
                <!--subject/topic delete ends-->
                    <div class="hr"/>
                </xf:repeat>
            
            <!--subject/topic repeat ends-->
            
            <!--subject/topic add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Topic</xf:label>
                    <xf:hint>
                    Hint
                </xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:topic" at="index('topic-repeat')" position="after" origin="instance('insert-templates')/mods:topic"/>
                        <xf:setvalue ref="instance('save-data')/mods:topic[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
            <!--subject/topic add ends-->
            </fieldset>
        <!--subject/topic ends-->

        <!--subject/geographic begins-->
            <fieldset>
                <legend>Geographic</legend>
        
            <!--subject/geographic repeat begins-->
                <xf:repeat nodeset="./mods:geographic" id="geographic-repeat">
                
                <!--subject/geographic input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Geographic:</xf:label>
                        <xf:hint>Hint</xf:hint>
                    </xf:input>
                
                <!--subject/geographic input ends-->
                
                <!--subject/geographic delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:geographic) &gt; 1]">
                        <xf:label>Delete This Geographic</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:geographic" at="index('geographic-repeat')"/>
                    </xf:trigger>
                <!--subject/geographic delete ends-->
                    <div class="hr"/>
                </xf:repeat>
            
            <!--subject/geographic repeat ends-->
            
            <!--subject/geographic add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Geographic</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:geographic" at="index('geographic-repeat')" position="after" origin="instance('insert-templates')/mods:geographic"/>
                        <xf:setvalue ref="instance('save-data')/mods:geographic[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
            <!--subject/geographic add ends-->
            </fieldset>
        <!--subject/geographic ends-->
        
        <!--subject/temporal begins-->
            <fieldset>
                <legend>Temporal</legend>
        
            <!--subject/temporal repeat begins-->
                <xf:repeat nodeset="./mods:temporal" id="temporal-repeat">
                
                <!--subject/temporal input begins-->
                    <xf:select1 ref="./@encoding">
                        <xf:label>Encoding:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='temporal-encoding-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <br/>
                    <xf:input ref="." class="text_150">
                        <xf:label>Temporal:</xf:label>
                        <xf:hint>Hint</xf:hint>
                    </xf:input>
                
                <!--subject/temporal input ends-->
                
                <!--subject/temporal delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:temporal) &gt; 1]">
                        <xf:label>Delete This Temporal</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:temporal" at="index('temporal-repeat')"/>
                    </xf:trigger>
                <!--subject/temporal delete ends-->
                    <div class="hr"/>
                </xf:repeat>
            
            <!--subject/temporal repeat ends-->
            
            <!--subject/temporal add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Temporal</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:temporal" at="index('temporal-repeat')" position="after" origin="instance('insert-templates')/mods:temporal"/>
                        <xf:setvalue ref="instance('save-data')/mods:temporal[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
            <!--subject/temporal add ends-->
            </fieldset>
        <!--subject/temporal ends-->

        <!--subject/titleInfo begins-->
        <!--NB: why do no values show up?-->
            <fieldset>
                <legend>
                    <span class="legend">Title Information</span>
                </legend>
            
            <!--subject/titleInfo repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:subject/mods:titleInfo" id="subject-titleinfo-repeat">
                
                <!--subject/titleInfo input begins-->
                    <div class="block-form">
                        <xf:select1 ref="./@type">
                            <xf:label>Type:</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='title-type-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <xf:select1 ref="./@authority">
                            <xf:label>Authority:</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-title-authority-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <br/>
                        <xf:select1 ref="./@lang">
                            <xf:label>Language:</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                    
                    <!--DLF/Aquifer: NOT RECOMMENDED]-->
                    <!--Cluster: omit-->
                        <xf:select1 ref="./@xml:lang">
                            <xf:label>xml:lang:</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-2-type-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <br/>
                        <xf:select1 ref="./@script">
                            <xf:label>Script:</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='script-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <xf:select1 ref="./@transliteration">
                            <xf:label>Transliteration:</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='transliteration-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <br/>
                        <xf:input ref="./@displayLabel" class="text_150">
                            <xf:label>Display Label: </xf:label>
                            <xf:hint>Hint</xf:hint>
                        </xf:input>
                        <div class="hr"/>
                        <xf:input ref="./mods:nonSort" class="text_50">
                            <xf:label>Non Sort: </xf:label>
                            <xf:hint>Hint</xf:hint>
                        </xf:input>
                        <br/>
                        <xf:input ref="./mods:title" class="text_150">
                            <xf:label>Title: </xf:label>
                            <xf:hint>Hint</xf:hint>
                        </xf:input>
                        <br/>
                        <xf:input ref="./mods:subTitle" class="text_150">
                            <xf:label>Sub-Title: </xf:label>
                            <xf:hint>Hint</xf:hint>
                        </xf:input>
                        <br/>
                        <xf:input ref="./mods:partNumber" class="text_50">
                            <xf:label>Part Number: </xf:label>
                            <xf:hint>Hint</xf:hint>
                        </xf:input>
                        <br/>
                        <xf:input ref="./mods:partName" class="text_150">
                            <xf:label>Part Name: </xf:label>
                            <xf:hint>Hint</xf:hint>
                        </xf:input>
                    <!--subject/titleInfo input ends-->
                    
                    
                    <!--subject/titleInfo delete begins-->
                    </div>
                    <xf:trigger ref="self::node()[count(../mods:titleInfo) &gt; 1]">
                        <xf:label>Delete This Title Information</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:titleInfo" at="index('subject-titleinfo-repeat')"/>
                    </xf:trigger>
                <!--subject/titleInfo delete ends-->
                    <div class="hr"/>
                </xf:repeat>
            
            <!--subject/titleInfo repeat ends-->
            
            <!--subject/titleInfo add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Title Information</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:titleInfo" at="index('subject-titleinfo-repeat')" position="after" origin="instance('insert-templates')/mods:subject/mods:titleInfo"/>
                        <xf:setvalue ref="instance('save-data')/mods:subject/mods:titleInfo[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
            <!--subject/titleInfo add ends-->
            </fieldset>
        <!--subject/titleInfo ends-->
        
<!--subject/name begins-->
            <fieldset>
                <legend>Names</legend>
    <!--subject/name repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:subject/mods:name" id="subject-name-repeat">
        <!--subject/name input begins-->
                    <xf:select1 ref="./@type">
                        <xf:label>Type:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-type-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <xf:select1 ref="./@authority">
                        <xf:label>Authority:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-title-authority-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <br/>
                    <xf:select1 ref="./@lang">
                        <xf:label>Language:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
        
        <!--DLF/Aquifer: NOT RECOMMENDED]-->
        <!--Cluster: omit-->
                    <xf:select1 ref="./@xml:lang">
                        <xf:label>xml:lang:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-2-type-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <br/>
                    <xf:select1 ref="./@script">
                        <xf:label>Script:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='script-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <xf:select1 ref="./@transliteration">
                        <xf:label>Transliteration:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='transliteration-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
        
        <!--subject/name input ends-->
        
        <!--subject/namePart begins-->
                    <fieldset>
            <!--subject/namePart repeat begins-->
                        <xf:repeat nodeset="./mods:namePart" id="subject-name-part-repeat">
                
                <!--subject/namePart input begins-->
                            <xf:input ref="." class="text_150">
                                <xf:label>Name Part:</xf:label>
                                <xf:hint>Hint</xf:hint>
                            </xf:input>
                            <xf:select1 ref="./@type">
                                <xf:label>Type:</xf:label>
                                <xf:hint>Hint</xf:hint>
                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-part-type-code']/items/item">
                                    <xf:label ref="label"/>
                                    <xf:value ref="value"/>
                                </xf:itemset>
                            </xf:select1>
                
                <!--subject/namePart input ends-->
                
                <!--subject/namePart delete begins-->
                            <xf:trigger ref="self::node()[count(../mods:namePart) &gt; 1]">
                                <xf:label>Delete This Name Part</xf:label>
                                <xf:hint>Hint</xf:hint>
                                <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:name/mods:namePart" at="index('subject-name-part-repeat')"/>
                            </xf:trigger>
                <!--subject/namePart delete ends-->
                            <div class="hr"/>
                        </xf:repeat>
            
            <!--subject/namePart repeat ends-->
            
            <!--subject/namePart add begins-->
                        <xf:trigger class="add">
                            <xf:label>Add Name Part</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:namePart" at="index('subject-name-part-repeat')" position="after" origin="instance('insert-templates')/mods:namePart"/>
                                <xf:setvalue ref="instance('save-data')/mods:namePart[last()]" value="''"/>
                            </xf:action>
                        </xf:trigger>
            <!--subject/namePart add ends-->
                    </fieldset>
        <!--subject/namePart ends-->
                    <div class="hr"/>
        
        <!--subject/role begins-->
                    <fieldset>
            <!--subject/role repeat begins-->
                        <xf:repeat nodeset="./mods:role" id="subject-role-repeat">
                
                <!--subject/role input begins-->
                            <xf:select1 ref="./mods:roleTerm">
                                <xf:label>Role:</xf:label>
                                <xf:hint>Hint</xf:hint>
                                <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='role-short-code']/items/item">
                                    <xf:label ref="label"/>
                                    <xf:value ref="value"/>
                                </xf:itemset>
                            </xf:select1>
                <!--subject/role input ends-->
               
                <!--subject/role delete begins-->
                            <xf:trigger ref="self::node()[count(../mods:role) &gt; 1]">
                                <xf:label>Delete This Role</xf:label>
                                <xf:hint>Hint</xf:hint>
                                <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:name/mods:role" at="index('subject-role-repeat')"/>
                            </xf:trigger>
                <!--subject/role delete ends-->
                            <div class="hr"/>
                        </xf:repeat>
            
            <!--subject/role repeat ends-->
            
            <!--subject/role add begins-->
                        <xf:trigger class="add">
                            <xf:label>Add Role</xf:label>
                            <xf:hint>Hint</xf:hint>
                            <xf:action ev:event="DOMActivate">
                                <xf:insert nodeset="mods:role" at="index('subject-role-repeat')" position="after" origin="instance('insert-templates')/mods:role"/>
                                <xf:setvalue ref="instance('save-data')/mods:subject/mods:name/mods:role[last()]" value="''"/>
                            </xf:action>
                        </xf:trigger>
            <!--subject/role add ends-->
                    </fieldset>
        <!--subject/role ends-->
                    <div class="hr"/>
        
        <!--subject/name delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:name) &gt; 1]">
                        <xf:label>Delete This Name</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject//mods:name" at="index('subject-name-repeat')"/>
                    </xf:trigger>
        <!--subject/name delete ends-->
                    <div class="hr"/>
                </xf:repeat>
    
    <!--subject/name repeat ends-->
    
    <!--subject/name add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Name</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:name" at="index('subject-name-repeat')" position="after" origin="instance('insert-templates')/mods:name"/>
                        <xf:setvalue ref="instance('save-data')/mods:name[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
    <!--subject/name add ends-->
            </fieldset>
<!--subject/name ends-->

<!--subject/genre begins-->
            <fieldset>
                <legend>
                    <span class="legend">Genre</span>
                </legend>
    
    <!--subject/genre repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:subject/mods:genre" id="subject-genre-repeat">
        
        <!--subject/genre input begins-->
                    <xf:select1 ref="./@type">
                        <xf:label>Type:</xf:label>
                        <xf:hint>Hint</xf:hint>
            <!--NB: change code-table-->
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='title-type-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <xf:select1 ref="./@authority" selection="open">
                        <xf:label>Authority:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='genre-authority-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <br/>
                    <xf:select1 ref="./@lang">
                        <xf:label>Language:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-3-type-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
        
        <!--DLF/Aquifer: NOT RECOMMENDED]-->
        <!--Cluster: omit-->
                    <xf:select1 ref="./@xml:lang">
                        <xf:label>xml:lang:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='language-2-type-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <br/>
                    <xf:select1 ref="./@script">
                        <xf:label>Script:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='script-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <xf:select1 ref="./@transliteration">
                        <xf:label>Transliteration:</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='transliteration-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <div class="hr"/>
                    <xf:select1 ref="." selection="open">
                        <xf:label>Genre:</xf:label>
                        <xf:hint>
                One or more terms that designate a category characterising a particular style, form, or content, such as artistic, musical, literary composition, etc. 
                Genre contains terms that give more specificity than the broad terms used in Type Of Resource.
            </xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='genre-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
        
        <!--subject/genre input ends-->
        
        <!--subject/genre delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:genre) &gt; 1]">
                        <xf:label>Delete This Genre</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:genre" at="index('subject-genre-repeat')"/>
                    </xf:trigger>
        <!--subject/genre delete ends-->
                    <div class="hr"/>
                </xf:repeat>
    
    <!--subject/genre repeat ends-->
            <!--
            <xf:trigger class="add">
                <xf:label>Add Genre</xf:label>
                <xf:hint>Hint</xf:hint>
                <xf:action ev:event="DOMActivate">
                    <xf:insert nodeset="mods:genre" at="index('subject-genre-repeat')" position="after"
                    origin="instance('insert-templates')/mods:name"/>
                    <xf:setvalue ref="instance('save-data')/mods:name[last()]" value="''"/>
                </xf:action>
            </xf:trigger>
            -->
    
    <!--subject/genre add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Genre</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:genre" at="index('subject-genre-repeat')" position="after" origin="instance('insert-templates')/mods:genre"/>
                        <xf:setvalue ref="instance('save-data')/mods:genre[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
    <!--subject/genre add ends-->
            </fieldset>
<!--subject/genre ends-->

<!--subject/hierarchicalGeographic begins-->
            <fieldset>
                <legend>Hierarchical Geographic</legend>
    <!--subject/hierarchicalGeographic repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic" id="subject-hierarchicalGeographic-repeat">
        <!--subject/hierarchicalGeographic input begins-->
<!--        
        <xf:select1 ref="./@authority">
            <xf:label>Authority:</xf:label>
            <xf:hint>Hint</xf:hint>
            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='name-title-authority-code']/items/item">
                <xf:label ref="label"/>
                <xf:value ref="value"/>
            </xf:itemset>
        </xf:select1>
-->
        <!--subject/hierarchicalGeographic input ends-->
        
<!--continent begins-->
    
        <!--continent input begins-->
                    <xf:select1 ref=".">
                        <xf:label>Continent:</xf:label>
                        <xf:hint>
                Includes Asia, Africa, Europe, North America, South America.
            </xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='continent-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
        
        <!--continent input ends-->

<!--continent ends-->
                    <br/>
<!--country begins-->

<!--country input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Country:</xf:label>
                        <xf:hint>
        Name of a country, i.e. a political entity considered a country.
    </xf:hint>
                    </xf:input>

<!--country input ends-->

<!--country ends-->
                    <br/>

<!--province begins-->

<!--province input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Province:</xf:label>
                        <xf:hint>
        Includes first order political divisions called provinces within a country, e.g. Canada.
    </xf:hint>
                    </xf:input>
<!--province input ends-->

<!--province ends-->
                    <br/>

<!--region begins-->

<!--region input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Region:</xf:label>
                        <xf:hint>
        Includes regions that have status as a jurisdiction, usually incorporating more than one first level jurisdiction.
    </xf:hint>
                    </xf:input>
<!--region input ends-->

<!--region ends-->
                    <br/>

<!--state begins-->

<!--state input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>State:</xf:label>
                        <xf:hint>
        Includes first order political divisions called states within a country, e.g. in U.S., Argentina, Italy. Use also for France département.
    </xf:hint>
                    </xf:input>
<!--state input ends-->

<!--state ends-->
                    <br/>

<!--territory begins-->

<!--territory input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Territory:</xf:label>
                        <xf:hint>
        Name of a geographical area belonging to or under the jurisdiction of a governmental authority.
    </xf:hint>
                    </xf:input>
<!--territory input ends-->

<!--territory ends-->
                    <br/>

<!--county begins-->

<!--county input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>County:</xf:label>
                        <xf:hint>
        Name of the largest local administrative unit in various countries, e.g. England.
    </xf:hint>
                    </xf:input>
<!--county input ends-->

<!--county ends-->
                    <br/>

<!--city begins-->

<!--city input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>City:</xf:label>
                        <xf:hint>
        Name of an inhabited place incorporated as a city, town, etc.
    </xf:hint>
                    </xf:input>
<!--city input ends-->

<!--city ends-->
                    <br/>

<!--citySection begins-->

<!--citySection input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>City Section:</xf:label>
                        <xf:hint>
        Name of a smaller unit within a populated place, e.g., neighborhoods, parks or streets.
    </xf:hint>
                    </xf:input>
<!--citySection input ends-->

<!--citySection ends-->
                    <br/>

<!--island begins-->

<!--island input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Island:</xf:label>
                        <xf:hint>
        Name of a tract of land surrounded by water and smaller than a continent but is not itself a separate country.
    </xf:hint>
                    </xf:input>
<!--island input ends-->

<!--island ends-->
                    <br/>

<!--area begins-->

<!--area input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Area:</xf:label>
                        <xf:hint>
        Name of a non-jurisdictional geographic entity.
    </xf:hint>
                    </xf:input>
<!--area input ends-->

<!--area ends-->
                    <br/>

<!--extraterrestrialArea begins-->

<!--extraterrestrialArea input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Extraterrestrial Area:</xf:label>
                        <xf:hint>
        Name of any extraterrestrial entity or space, including solar systems, galaxies, star systems, and planets as well as geographic features of individual planets.
    </xf:hint>
                    </xf:input>
<!--extraterrestrialArea input ends-->

<!--extraterrestrialArea ends-->
                    <div class="hr"/>
        
        <!--subject/hierarchicalGeographic delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:hierarchicalGeographic) &gt; 1]">
                        <xf:label>Delete This Hierarchical Geographic</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject//mods:hierarchicalGeographic" at="index('subject-hierarchicalGeographic-repeat')"/>
                    </xf:trigger>
        <!--subject/hierarchicalGeographic delete ends-->
                    <div class="hr"/>
                </xf:repeat>
    
    <!--subject/hierarchicalGeographic repeat ends-->
    
    <!--subject/hierarchicalGeographic add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Hierarchical Geographic</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:hierarchicalGeographic" at="index('subject-hierarchicalGeographic-repeat')" position="after" origin="instance('insert-templates')/mods:hierarchicalGeographic"/>
                        <xf:setvalue ref="instance('save-data')/mods:hierarchicalGeographic[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
    <!--subject/hierarchicalGeographic add ends-->
            </fieldset>
<!--subject/hierarchicalGeographic ends-->

<!--subject/cartographics begins-->
            <fieldset>
                <legend>Hierarchical Geographic</legend>
    <!--subject/cartographics repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:subject/mods:cartographics" id="subject-cartographics-repeat">
        <!--subject/cartographics input begins-->
                
        <!--subject/cartographics input ends-->
        
        <!--continent begins-->
        
        <!--coordinates begins-->
        
        <!--coordinates input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Coordinates:</xf:label>
                        <xf:hint>
                Coordinates contains a statement of coordinates covered by the resource. One or more statements may be supplied. If one is supplied, it is a point (i.e., a single location); if two, it is a line; if more than two, it is a n-sided polygon where n=number of coordinates assigned. No three points should be co-linear, and coordinates should be supplied in polygon-traversal order.
            </xf:hint>
                    </xf:input>
        <!--coordinates input ends-->
        
        <!--coordinates ends-->
                    <br/>
        
        <!--scale begins-->
        
        <!--scale input begins-->
                    <xf:input ref="." class="text_50">
                        <xf:label>Scale:</xf:label>
                        <xf:hint>
                Scale provides a statement of scale. It may include any equivalency statements, vertical scales or vertical exaggeration statements for relief models and other three-dimensional items.
            </xf:hint>
                    </xf:input>
        <!--scale input ends-->
        
        <!--scale ends-->
                    <br/>
        
        <!--projection begins-->
        
        <!--projection input begins-->
                    <xf:input ref="." class="text_50">
                        <xf:label>Projection:</xf:label>
                        <xf:hint>
                Projection provides a statement of projection.
            </xf:hint>
                    </xf:input>
        
        <!--projection input ends-->
        
        <!--projection ends-->
        
        <!--subject/cartographics delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:cartographics) &gt; 1]">
                        <xf:label>Delete This Cartographics</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject//mods:cartographics" at="index('subject-cartographics-repeat')"/>
                    </xf:trigger>
        <!--subject/cartographics delete ends-->
                    <div class="hr"/>
                </xf:repeat>
    
    <!--subject/cartographics repeat ends-->
    
    <!--subject/cartographics add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Cartographics</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:cartographics" at="index('subject-cartographics-repeat')" position="after" origin="instance('insert-templates')/mods:cartographics"/>
                        <xf:setvalue ref="instance('save-data')/mods:cartographics[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
    <!--subject/cartographics add ends-->
            </fieldset>
<!--subject/cartographics ends-->

<!--geographicCode begins-->
            <fieldset>
                <legend>Geographic Code</legend>
    <!--geographicCode repeat begins-->
                <xf:repeat nodeset="./mods:geographicCode" id="geographicCode-repeat">
        
        <!--geographicCode input begins-->
                    <xf:select1 ref="./@authority">
                        <xf:label>Authority:</xf:label>
                        <xf:hint>Hint</xf:hint>
            <!--NB: change code table-->
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='geographic-code-authority-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <br/>
                    <xf:input ref="." class="text_50">
                        <xf:label>Geographic Code:</xf:label>
                        <xf:hint>
                Geographic Code includes a geographic area code associated with a resource.
                A geographic code that represents the same entity as a term in Geographic is included within the same Subject element.                
            </xf:hint>
                    </xf:input>
        
        <!--geographicCode input ends-->
        
        <!--geographicCode delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:geographicCode) &gt; 1]">
                        <xf:label>Delete This Geographic Code</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:geographicCode" at="index('geographicCode-repeat')"/>
                    </xf:trigger>
        <!--geographicCode delete ends-->
                    <div class="hr"/>
                </xf:repeat>
    
    <!--geographicCode repeat ends-->
    
    <!--geographicCode add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Geographic Code</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:geographicCode" at="index('geographicCode-repeat')" position="after" origin="instance('insert-templates')/mods:geographicCode"/>
                        <xf:setvalue ref="instance('save-data')/mods:geographicCode[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
    <!--geographicCode add ends-->
            </fieldset>
<!--geographicCode ends-->

<!--occupation begins-->
            <fieldset>
                <legend>Occupation</legend>
    <!--occupation repeat begins-->
                <xf:repeat nodeset="./mods:occupation" id="occupation-repeat">
        
        <!--occupation input begins-->
                    <xf:input ref="." class="text_150">
                        <xf:label>Occupation:</xf:label>
                        <xf:hint>
                Occupation includes a term that is descriptive of the occupation reflected in the contents of the described materials. 
                It is not used to list the occupations of the creators of the described materials, unless those occupations are significantly reflected in the materials themselves or bear some relationship to the materials. 
            </xf:hint>
                    </xf:input>
        
        <!--occupation input ends-->
       
        <!--occupation delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:occupation) &gt; 1]">
                        <xf:label>Delete This Occupation</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject/mods:occupation" at="index('occupation-repeat')"/>
                    </xf:trigger>
        <!--occupation delete ends-->
                    <div class="hr"/>
                </xf:repeat>
    
    <!--occupation repeat ends-->
    
    <!--occupation add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Occupation</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:occupation" at="index('occupation-repeat')" position="after" origin="instance('insert-templates')/mods:occupation"/>
                        <xf:setvalue ref="instance('save-data')/mods:occupation[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
    <!--occupation add ends-->
            </fieldset>
<!--occupation ends-->
            <div class="hr"/>
        
        <!--subject delete begins-->
            <xf:trigger ref="self::node()[count(../mods:subject) &gt; 1]">
                <xf:label>Delete This Subject</xf:label>
                <xf:hint>Hint</xf:hint>
                <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:subject" at="index('subject-repeat')"/>
            </xf:trigger>
        <!--subject delete ends-->
            <div class="hr"/>
        </xf:repeat>
    
    <!--subject repeat ends-->
    
    <!--subject add begins-->
        <xf:trigger class="add">
            <xf:label>Add Subject</xf:label>
            <xf:hint>Hint</xf:hint>
            <xf:action ev:event="DOMActivate">
                <xf:insert nodeset="mods:subject" at="index('subject-repeat')" position="after" origin="instance('insert-templates')/mods:subject"/>
                <xf:setvalue ref="instance('save-data')/mods:subject[last()]" value="''"/>
            </xf:action>
        </xf:trigger>
    <!--subject add ends-->
    </fieldset>
<!--subject ends-->
</div>