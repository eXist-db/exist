<?xml version="1.0" encoding="UTF-8"?> 
<div xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms" class="part" tab-id="part">
    <!-- The DLF/Aquifer Implementation Guidelines for Shareable MODS Records recommend that the part element be used in cases where the part of a resource being represented is a physical or structural part of another resource. Examples include an issue of a journal or a single story from a collection. This element is repeatable. -->
    <fieldset>
        <legend>Parts</legend>
        <xf:hint> The designation of physical parts of a resource in a detailed form. Part is used to provide detailed coding for physical parts of a resource.
            It may be used as a top level element to designate physical parts or under Related Item. It may be used under Related Item for generating citations
            about the location of a part within a host/parent item.<br/> Use Part when the record in question refers to either a physical or structural part of
            a resource, rather than an intellectual part. An intellectual part of a resource should be recorded in various subelements under Title. A newspaper
            issue would generally be indicated with Part, rather than indicating the issue number as part of the title. The Part element at the top level would
            also be used to describe one reel of microfilm in a set, or in any other case in which the part being described is not an intellectual whole by
            itself. When in doubt, and only part numbers or names are needed, use Part Number and/or Part Name under Title under Title Information. </xf:hint>
        <!--part repeat begins-->
        <xf:repeat nodeset="mods:relatedItem/mods:part" id="related-part-repeat">
            <!--part input begins-->
            <!--DLF/Aquifer: OPTIONAL-->
            <!--Cluster: omit-->
            <xf:input ref="./@ID" class="text_50">
                <xf:label>ID: </xf:label>
                <xf:hint>Hint</xf:hint>
            </xf:input>
            <!--DLF/Aquifer: OPTIONAL]-->
            <!--Cluster: omit-->
            <xf:input ref="./@type" class="text_50">
                <xf:label>Type: </xf:label>
                <xf:hint> A designation of a document segment type. See the MODS User Guidelines for suggested values. However, since there is not a controlled
                    set of terms for type, if used, the value should be expressed clearly and be generally understandable outside of the local context of the
                    resource. </xf:hint>
            </xf:input>
            <br/>
            <!--DLF/Aquifer: OPTIONAL]-->
            <!--Cluster: omit-->
            <xf:input ref="./@order" class="text_50">
                <xf:label>Order:</xf:label>
                <xf:hint> An integer that designates the sequence of parts. </xf:hint>
            </xf:input>
            <!--part input ends-->
            <!--part/detail begins-->
            <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE]-->
            <!--Cluster: include-->
            <fieldset>
                <legend>Detail</legend>
                <xf:hint> Use this subelement to indicate the numbering and type of designation of the part in relation to the parent item. Detail contains
                    numbering and type of designation of the part in relation to the host/parent item in which a host item resides. </xf:hint>
                <!--part/detail repeat begins-->
                <xf:repeat nodeset="./mods:detail" id="part-detail-repeat">
                    <!--part/detail input begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:input ref="./@type" class="text_50">
                        <xf:label>Type:</xf:label>
                        <xf:hint> Use this attribute to indicate the type of the part described. Suggested values include part, volume, issue, chapter, section,
                            paragraph, track. Other values may be used as needed. However, since there is not a controlled set of terms for type, if used, the
                            value should be expressed clearly and be generally understandable outside of the local context of the resource.
                            <!--NB: make open selcetion with code table?-->
                        </xf:hint>
                    </xf:input>
                    <!--DLF/Aquifer: OPTIONAL]-->
                    <!--Cluster: omit-->
                    <xf:input ref="./@order" class="text_50">
                        <xf:label>Order:</xf:label>
                        <xf:hint> An integer that designates the sequence of parts. </xf:hint>
                    </xf:input>
                    <!--DLF/Aquifer: N/A-->
                    <!--Cluster: omit-->
                    <xf:input ref="./@level" class="text_50">
                        <xf:label>Level:</xf:label>
                        <xf:hint> Describes the level of numbering in the host/parent item. This is used to ensure that the numbering is retained in the proper
                            order. An example is: "v. 2, no. 3". </xf:hint>
                    </xf:input>
                    <!--part/detail input ends-->
                    <!--part/detail/number begins-->
                    <!--DLF/Aquifer: OPTIONAL-->
                    <!--Cluster: ?-->
                    <xf:input ref="./mods:number" class="text_50">
                        <xf:label>Number:</xf:label>
                        <xf:hint> Contains the actual number within the part. </xf:hint>
                    </xf:input>
                    <!--part/detail/number ends-->
                    <br/>
                    <!--part/detail/caption begins-->
                    <xf:input ref="./mods:caption" class="text_150">
                        <xf:label>Caption:</xf:label>
                        <xf:hint> Contains the caption describing the enumeration within a part. This may be the same as type, but conveys what is on the item
                            being described. </xf:hint>
                    </xf:input>
                    <!--part/detail/caption ends-->
                    <br/>
                    <!--part/detail/title begins-->
                    <xf:input ref="./mods:title" class="text_150">
                        <xf:label>Title:</xf:label>
                        <xf:hint> Contains the title of the part. Only include if this is different than the Title in Title Information. </xf:hint>
                    </xf:input>
                    <!--part/detail/title ends-->
                    <div class="hr"/>
                    <!--part/detail delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:detail) &gt; 1]">
                        <xf:label>Delete This Detail</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/mods:detail" at="index('part-detail-repeat')"/>
                    </xf:trigger>
                    <!--part/detail delete ends-->
                    <div class="hr"/>
                </xf:repeat>
                <!--part/detail repeat ends-->
                <!--part/detail add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Detail</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:detail" at="index('part-detail-repeat')" position="after"
                            origin="instance('insert-templates')/mods:part/mods:detail"/>
                        <xf:setvalue ref="instance('save-data')/mods:detail[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
                <!--part/detail add ends-->
            </fieldset>
            <!--part/detail ends-->
            <!--part/extent begins-->
            <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
            <!--Cluster: include-->
            <fieldset>
                <legend>Extent</legend>
                <xf:hint> Use this subelement to indicate the measured units making up the part (for example pages, minutes, etc.). </xf:hint>
                <!--part/extent repeat begins-->
                <xf:repeat nodeset="./mods:extent" id="extent-repeat">
                    <!--part/extent input begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:select1 ref="./@unit" selection="open">
                        <xf:label>Unit:</xf:label>
                        <xf:hint> Suggested values include page, minute, etc. <!--NB: make code table with open selection?-->
                        </xf:hint>
                        <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='part-extent-unit-code']/items/item">
                            <xf:label ref="label"/>
                            <xf:value ref="value"/>
                        </xf:itemset>
                    </xf:select1>
                    <!--part/extent input ends-->
                    <!--part/start begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:input ref="./mods:start" class="text_50">
                        <xf:label>Start:</xf:label>
                        <xf:hint> Contains the beginning unit of the extent within a part (e.g., first page). </xf:hint>
                    </xf:input>
                    <!--part/start ends-->
                    <br/>
                    <!--part/end begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:input ref="./mods:end" class="text_50">
                        <xf:label>End:</xf:label>
                        <xf:hint> Contains the ending unit of the extent within a part. </xf:hint>
                    </xf:input>
                    <!--part/end ends-->
                    <br/>
                    <!--part/total begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:input ref="./mods:total" class="text_50">
                        <xf:label>Total:</xf:label>
                        <xf:hint> Contains the total number of units within a part, rather than specific units. </xf:hint>
                    </xf:input>
                    <!--part/total ends-->
                    <br/>
                    <!--part/list begins-->
                    <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                    <!--Cluster: include-->
                    <xf:input ref="./mods:list" class="text_150">
                        <xf:label>List:</xf:label>
                        <xf:hint> Contains a textual listing of the units within a part (e.g., "pp. 5-9".) </xf:hint>
                    </xf:input>
                    <!--part/list ends-->
                    <div class="hr"/>
                    <!--part/extent delete begins-->
                    <xf:trigger ref="self::node()[count(../mods:extent) &gt; 1]">
                        <xf:label>Delete This Extent</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/mods:extent" at="index('extent-repeat')"/>
                    </xf:trigger>
                    <!--part/extent delete ends-->
                    <div class="hr"/>
                </xf:repeat>
                <!--part/extent repeat ends-->
                <!--part/extent add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Extent</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:extent" at="index('extent-repeat')" position="after"
                            origin="instance('insert-templates')/mods:part/mods:extent"/>
                        <xf:setvalue ref="instance('save-data')/mods:extent[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
                <!--part/extent add ends-->
            </fieldset>
            <!--part/extent ends-->
            <!--part/date begins-->
            <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
            <!--Cluster: include-->
            <fieldset>
                <legend>
                    <span class="legend">Date</span>
                </legend>
                <xf:hint> Date contains date information relevant to the part described. </xf:hint>
                <!--part/date repeat begins-->
                <xf:repeat nodeset="instance('save-data')/mods:part/mods:date" id="part-date-repeat">
                    <div class="block-form">
                        <!--part/date input begins-->
                        <!--DLF/Aquifer: RECOMMENDED-->
                        <!--Cluster: include-->
                        <xf:select1 ref="./@encoding">
                            <xf:label>Encoding:</xf:label>
                            <xf:hint> If a structured date is used, indicate the formatting source using the encoding attribute. These guidelines recommend
                                using the following value for the encoding attribute: "w3cdtf" This encoding is used to specify YYYY-MM-DD date patterns.
                                "iso8601" is used for formatted dates which use pattern: YYYYMMDD (hours, minutes, seconds may also be added). "marc" is used
                                only for dates coded according to MARC 21 rules in field 008/07-14 for dates of publication/issuance. Thus, this would only
                                apply to the attribute in Date Issued. Examples include: 19uu (a MARC convention to show unknown digits in a date), 9999 (a MARC
                                convention showing that the end date has not occurred or is not known). </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='part-date-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <br/>
                        <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                        <!--Cluster: include-->
                        <xf:select1 ref="./@point">
                            <xf:label>Point:</xf:label>
                            <xf:hint> The point attribute can be used to encode date ranges using the following values: "start" and "end". </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='start-end-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                        <!--Cluster: include-->
                        <xf:select1 ref="./@qualifier">
                            <xf:label>Qualifier:</xf:label>
                            <xf:hint> The qualifier attribute has three allowed values: approximate, inferred, and questionable. Best practice is to use this
                                attribute with the appropriate value when a date is approximate, inferred, or questionable, rather than inserting characters
                                such as "ca.", brackets or a question mark within the date string. </xf:hint>
                            <xf:itemset nodeset="instance('code-tables')/code-table[code-table-name='part-date-qualifier-code']/items/item">
                                <xf:label ref="label"/>
                                <xf:value ref="value"/>
                            </xf:itemset>
                        </xf:select1>
                        <div class="hr"/>
                        <!--DLF/Aquifer: RECOMMENDED IF APPLICABLE-->
                        <!--Cluster: include-->
                        <xf:input ref="." class="text_50">
                            <xf:label>Date: </xf:label>
                            <xf:hint> Date contains date information relevant to the part described. </xf:hint>
                        </xf:input>
                        <!--part/date input ends-->
                        <!--part/date delete begins-->
                    </div>
                    <xf:trigger ref="self::node()[count(../mods:date) &gt; 1]">
                        <xf:label>Delete This Date</xf:label>
                        <xf:hint>Hint</xf:hint>
                        <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part/mods:date" at="index('part-date-repeat')"/>
                    </xf:trigger>
                    <!--date delete ends-->
                    <div class="hr"/>
                </xf:repeat>
                <!--part/date repeat ends-->
                <!--part/date add begins-->
                <xf:trigger class="add">
                    <xf:label>Add Date</xf:label>
                    <xf:hint>Hint</xf:hint>
                    <xf:action ev:event="DOMActivate">
                        <xf:insert nodeset="mods:date" at="index('part-date-repeat')" position="after" origin="instance('insert-templates')/mods:part/mods:date"/>
                        <xf:setvalue ref="instance('save-data')/mods:part/mods:date[last()]" value="''"/>
                    </xf:action>
                </xf:trigger>
                <!--part/date add ends-->
            </fieldset>
            <!--part/date ends-->
            <!--part/text begins-->
            <xf:textarea ref="instance('save-data')/mods:part/mods:text" class="textarea">
                <xf:label>Text:</xf:label>
                <xf:hint> Use this subelement to record information in textual form. Use this subelement when other subelements will not capture the appropriate
                    information. </xf:hint>
            </xf:textarea>
            <!--part/text ends-->
            <div class="hr"/>
            <!--part delete begins-->
            <xf:trigger ref="self::node()[count(../mods:part) &gt; 1]">
                <xf:label>Delete This Part</xf:label>
                <xf:hint>Hint</xf:hint>
                <xf:delete ev:event="DOMActivate" nodeset="instance('save-data')/mods:part" at="index('part-repeat')"/>
            </xf:trigger>
            <!--part delete ends-->
            <div class="hr"/>
        </xf:repeat>
        <!--part repeat ends-->
        <!--part add begins-->
        <xf:trigger class="add">
            <xf:label>Add Part</xf:label>
            <xf:hint>Hint</xf:hint>
            <xf:action ev:event="DOMActivate">
                <xf:insert nodeset="mods:part" at="index('part-repeat')" position="after" origin="instance('insert-templates')/mods:part"/>
                <xf:setvalue ref="instance('save-data')/mods:part[last()]" value="''"/>
            </xf:action>
        </xf:trigger>
        <!--part add ends-->
    </fieldset>
</div>